var Rs=Object.defineProperty,Is=Object.defineProperties;var Ps=Object.getOwnPropertyDescriptors;var wa=Object.getOwnPropertySymbols;var Bs=Object.prototype.hasOwnProperty,zs=Object.prototype.propertyIsEnumerable;var ka=(e,t,n)=>t in e?Rs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ce=(e,t)=>{for(var n in t||(t={}))Bs.call(t,n)&&ka(e,n,t[n]);if(wa)for(var n of wa(t))zs.call(t,n)&&ka(e,n,t[n]);return e},Fe=(e,t)=>Is(e,Ps(t));import{u as Wr,c as Ve,a as $r,b as $,h as J,d as Ns,g as ze,r as oe,i as er,p as Vt,n as Re,e as Et,w as de,o as Mt,f as Ze,j as jt,l as ut,v as Us,k as Nn,m as Ys,T as qs,q as Vs,s as Ws,t as Qe,x as gn,y as He,z as at,H as xa,A as $s,B as tr,C as Tt,D as Mr,E as js,F as Hs,G as Zs,I as Gs,J as si,K as Qs,L as oi,M as li,R as Ks,N as ui,Q as bt,O as jr,P as Fr,S as Xs,U as di,V as ci,W as Js,X as eo,Y as to,Z as no,_ as ro,$ as ao,a0 as Sa,a1 as io,a2 as vr,a3 as Ea,a4 as so,a5 as oo,a6 as fi,a7 as hi,a8 as mi,a9 as hn,aa as mn,ab as ue,ac as Ee,ad as pr,ae as Ue,af as lo,ag as St,ah as vi,ai as Kt,aj as uo,ak as Ca,al as co,am as Mn}from"./index.eec06369.js";import{b as cn,c as Wn,g as fo,a as ho,d as mo,e as vo,h as po,u as Jt,f as en,T as gr,Q as go,i as Oa,s as Ta,j as pi,P as yo,k as _o,l as bo,m as wo,n as ko,o as xo,p as So,q as Eo}from"./PreviewContent.f44e6c8c.js";const Co=Fe(ce({},Wr),{min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean}),Ar=50,gi=2*Ar,yi=gi*Math.PI,Oo=Math.round(yi*1e3)/1e3;var To=Ve({name:"QCircularProgress",props:Fe(ce({},Co),{value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean}),setup(e,{slots:t}){const{proxy:{$q:n}}=ze(),r=$r(e),a=$(()=>{const p=(n.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(n.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-p}deg)`:`rotate3d(0, 0, 1, ${p-90}deg)`}}),i=$(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),s=$(()=>gi/(1-e.thickness/2)),o=$(()=>`${s.value/2} ${s.value/2} ${s.value} ${s.value}`),f=$(()=>cn(e.value,e.min,e.max)),d=$(()=>yi*(1-(f.value-e.min)/(e.max-e.min))),m=$(()=>e.thickness/2*s.value);function k({thickness:p,offset:c,color:_,cls:S}){return J("circle",{class:"q-circular-progress__"+S+(_!==void 0?` text-${_}`:""),style:i.value,fill:"transparent",stroke:"currentColor","stroke-width":p,"stroke-dasharray":Oo,"stroke-dashoffset":c,cx:s.value,cy:s.value,r:Ar})}return()=>{const p=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&p.push(J("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Ar-m.value/2,cx:s.value,cy:s.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&p.push(k({cls:"track",thickness:m.value,offset:0,color:e.trackColor})),p.push(k({cls:"circle",thickness:m.value,offset:d.value,color:e.color}));const c=[J("svg",{class:"q-circular-progress__svg",style:a.value,viewBox:o.value,"aria-hidden":"true"},p)];return e.showValue===!0&&c.push(J("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},t.default!==void 0?t.default():[J("div",f.value)])),J("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:r.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:f.value},Ns(t.internal,c))}}});const Do={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Mo({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:r,proxy:a,emit:i}=ze(),s=oe(null);let o;function f(c){return s.value===null?!1:c===void 0||c.touches===void 0||c.touches.length<=1}const d={};n===void 0&&(Object.assign(d,{hide(c){a.hide(c)},toggle(c){a.toggle(c),c.qAnchorHandled=!0},toggleKey(c){er(c,13)===!0&&d.toggle(c)},contextClick(c){a.hide(c),Vt(c),Re(()=>{a.show(c),c.qAnchorHandled=!0})},prevent:Vt,mobileTouch(c){if(d.mobileCleanup(c),f(c)!==!0)return;a.hide(c),s.value.classList.add("non-selectable");const _=c.target;Et(d,"anchor",[[_,"touchmove","mobileCleanup","passive"],[_,"touchend","mobileCleanup","passive"],[_,"touchcancel","mobileCleanup","passive"],[s.value,"contextmenu","prevent","notPassive"]]),o=setTimeout(()=>{a.show(c),c.qAnchorHandled=!0},300)},mobileCleanup(c){s.value.classList.remove("non-selectable"),clearTimeout(o),e.value===!0&&c!==void 0&&Wn()}}),n=function(c=r.contextMenu){if(r.noParentEvent===!0||s.value===null)return;let _;c===!0?a.$q.platform.is.mobile===!0?_=[[s.value,"touchstart","mobileTouch","passive"]]:_=[[s.value,"mousedown","hide","passive"],[s.value,"contextmenu","contextClick","notPassive"]]:_=[[s.value,"click","toggle","passive"],[s.value,"keyup","toggleKey","passive"]],Et(d,"anchor",_)});function m(){jt(d,"anchor")}function k(c){for(s.value=c;s.value.classList.contains("q-anchor--skip");)s.value=s.value.parentNode;n()}function p(){if(r.target===!1||r.target==="")s.value=null;else if(r.target===!0)k(a.$el.parentNode);else{let c=r.target;if(typeof r.target=="string")try{c=document.querySelector(r.target)}catch{c=void 0}c!=null?(s.value=c.$el||c,n()):(s.value=null,console.error(`Anchor: target "${r.target}" not found`))}}return de(()=>r.contextMenu,c=>{s.value!==null&&(m(),n(c))}),de(()=>r.target,()=>{s.value!==null&&m(),p()}),de(()=>r.noParentEvent,c=>{s.value!==null&&(c===!0?m():n())}),Mt(()=>{p(),t!==!0&&r.modelValue===!0&&s.value===null&&i("update:modelValue",!1)}),Ze(()=>{clearTimeout(o),m()}),{anchorEl:s,canShow:f,anchorEvents:d}}function Fo(e,t){const n=oe(null);let r;function a(o,f){const d=`${f!==void 0?"add":"remove"}EventListener`,m=f!==void 0?f:r;o!==window&&o[d]("scroll",m,ut.passive),window[d]("scroll",m,ut.passive),r=f}function i(){n.value!==null&&(a(n.value),n.value=null)}const s=de(()=>e.noParentEvent,()=>{n.value!==null&&(i(),t())});return Ze(s),{localScrollTarget:n,unconfigureScrollTarget:i,changeScrollEvent:a}}const Hr={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Zr=["before-show","show","before-hide","hide"];function Gr({showing:e,canShow:t,hideOnRouteChange:n,handleShow:r,handleHide:a,processOnMount:i}){const s=ze(),{props:o,emit:f,proxy:d}=s;let m;function k(y){e.value===!0?_(y):p(y)}function p(y){if(o.disable===!0||y!==void 0&&y.qAnchorHandled===!0||t!==void 0&&t(y)!==!0)return;const x=o["onUpdate:modelValue"]!==void 0;x===!0&&(f("update:modelValue",!0),m=y,Re(()=>{m===y&&(m=void 0)})),(o.modelValue===null||x===!1)&&c(y)}function c(y){e.value!==!0&&(e.value=!0,f("before-show",y),r!==void 0?r(y):f("show",y))}function _(y){if(o.disable===!0)return;const x=o["onUpdate:modelValue"]!==void 0;x===!0&&(f("update:modelValue",!1),m=y,Re(()=>{m===y&&(m=void 0)})),(o.modelValue===null||x===!1)&&S(y)}function S(y){e.value!==!1&&(e.value=!1,f("before-hide",y),a!==void 0?a(y):f("hide",y))}function h(y){o.disable===!0&&y===!0?o["onUpdate:modelValue"]!==void 0&&f("update:modelValue",!1):y===!0!==e.value&&(y===!0?c:S)(m)}de(()=>o.modelValue,h),n!==void 0&&Us(s)===!0&&de(()=>d.$route.fullPath,()=>{n.value===!0&&e.value===!0&&_()}),i===!0&&Mt(()=>{h(o.modelValue)});const g={show:p,hide:_,toggle:k};return Object.assign(d,g),g}let Lt=[],yn=[];function _i(e){yn=yn.filter(t=>t!==e)}function Ao(e){_i(e),yn.push(e)}function Da(e){_i(e),yn.length===0&&Lt.length>0&&(Lt[Lt.length-1](),Lt=[])}function Qr(e){yn.length===0?e():Lt.push(e)}function Lo(e){Lt=Lt.filter(t=>t!==e)}const Ht=[];function Ro(e){return Ht.find(t=>t.__qPortalInnerRef.value!==null&&t.__qPortalInnerRef.value.contains(e))}function Io(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return Nn(e)}else if(e.__qPortalInnerRef!==void 0){const n=Nn(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=Nn(e)}while(e!=null)}function Po(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortalInnerRef!==void 0){if(n--,e.$options.name==="QMenu"){e=Io(e,t);continue}e.hide(t)}e=Nn(e)}}function Bo(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function bi(e,t,n,r){const a=oe(!1),i=oe(!1);let s=null;const o={},f=r===!0&&Bo(e);function d(k){if(k===!0){Da(o),i.value=!0;return}i.value=!1,a.value===!1&&(f===!1&&s===null&&(s=Vs()),a.value=!0,Ht.push(e.proxy),Ao(o))}function m(k){if(i.value=!1,k!==!0)return;Da(o),a.value=!1;const p=Ht.indexOf(e.proxy);p>-1&&Ht.splice(p,1),s!==null&&(Ws(s),s=null)}return Ys(()=>{m(!0)}),Object.assign(e.proxy,{__qPortalInnerRef:t}),{showPortal:d,hidePortal:m,portalIsActive:a,portalIsAccessible:i,renderPortal:()=>f===!0?n():a.value===!0?[J(qs,{to:s},n())]:void 0}}const wi={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function zo(e,t){const n=oe(t.value);return de(t,r=>{Re(()=>{n.value=r})}),{transition:$(()=>"q-transition--"+(n.value===!0?e.transitionHide:e.transitionShow)),transitionStyle:$(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function Kr(){let e;return Ze(()=>{e=void 0}),{registerTick(t){e=t,Re(()=>{e===t&&(e(),e=void 0)})},removeTick(){e=void 0}}}function _n(){let e;return Ze(()=>{clearTimeout(e)}),{registerTimeout(t,n){clearTimeout(e),e=setTimeout(t,n)},removeTimeout(){clearTimeout(e)}}}let ki;const{notPassiveCapture:$n}=ut,It=[];function jn(e){clearTimeout(ki);const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=Ht.length-1;for(;n>=0;){const r=Ht[n].$;if(r.type.name!=="QDialog")break;if(r.props.seamless!==!0)return;n--}for(let r=It.length-1;r>=0;r--){const a=It[r];if((a.anchorEl.value===null||a.anchorEl.value.contains(t)===!1)&&(t===document.body||a.innerRef.value!==null&&a.innerRef.value.contains(t)===!1))e.qClickOutside=!0,a.onClickOutside(e);else return}}function No(e){It.push(e),It.length===1&&(document.addEventListener("mousedown",jn,$n),document.addEventListener("touchstart",jn,$n))}function Ma(e){const t=It.findIndex(n=>n===e);t>-1&&(It.splice(t,1),It.length===0&&(clearTimeout(ki),document.removeEventListener("mousedown",jn,$n),document.removeEventListener("touchstart",jn,$n)))}let Fa,Aa;function La(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Uo(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Lr={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Lr[`${e}#ltr`]=e,Lr[`${e}#rtl`]=e});function Ra(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:Lr[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function Yo(e,t){let{top:n,left:r,right:a,bottom:i,width:s,height:o}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],r-=t[0],i+=t[1],a+=t[0],s+=t[0],o+=t[1]),{top:n,left:r,right:a,bottom:i,width:s,height:o,middle:r+(a-r)/2,center:n+(i-n)/2}}function qo(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function Vo(e){if(Qe.is.ios===!0&&window.visualViewport!==void 0){const o=document.body.style,{offsetLeft:f,offsetTop:d}=window.visualViewport;f!==Fa&&(o.setProperty("--q-pe-left",f+"px"),Fa=f),d!==Aa&&(o.setProperty("--q-pe-top",d+"px"),Aa=d)}let t;const{scrollLeft:n,scrollTop:r}=e.el;if(e.absoluteOffset===void 0)t=Yo(e.anchorEl,e.cover===!0?[0,0]:e.offset);else{const{top:o,left:f}=e.anchorEl.getBoundingClientRect(),d=o+e.absoluteOffset.top,m=f+e.absoluteOffset.left;t={top:d,left:m,width:1,height:1,right:m+1,center:d,middle:m,bottom:d+1}}let a={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(a.minWidth=t.width+"px",e.cover===!0&&(a.minHeight=t.height+"px")),Object.assign(e.el.style,a);const i=qo(e.el),s={top:t[e.anchorOrigin.vertical]-i[e.selfOrigin.vertical],left:t[e.anchorOrigin.horizontal]-i[e.selfOrigin.horizontal]};Wo(s,t,i,e.anchorOrigin,e.selfOrigin),a={top:s.top+"px",left:s.left+"px"},s.maxHeight!==void 0&&(a.maxHeight=s.maxHeight+"px",t.height>s.maxHeight&&(a.minHeight=a.maxHeight)),s.maxWidth!==void 0&&(a.maxWidth=s.maxWidth+"px",t.width>s.maxWidth&&(a.minWidth=a.maxWidth)),Object.assign(e.el.style,a),e.el.scrollTop!==r&&(e.el.scrollTop=r),e.el.scrollLeft!==n&&(e.el.scrollLeft=n)}function Wo(e,t,n,r,a){const i=n.bottom,s=n.right,o=fo(),f=window.innerHeight-o,d=document.body.clientWidth;if(e.top<0||e.top+i>f)if(a.vertical==="center")e.top=t[r.vertical]>f/2?Math.max(0,f-i):0,e.maxHeight=Math.min(i,f);else if(t[r.vertical]>f/2){const m=Math.min(f,r.vertical==="center"?t.center:r.vertical===a.vertical?t.bottom:t.top);e.maxHeight=Math.min(i,m),e.top=Math.max(0,m-i)}else e.top=Math.max(0,r.vertical==="center"?t.center:r.vertical===a.vertical?t.top:t.bottom),e.maxHeight=Math.min(i,f-e.top);if(e.left<0||e.left+s>d)if(e.maxWidth=Math.min(s,d),a.horizontal==="middle")e.left=t[r.horizontal]>d/2?Math.max(0,d-s):0;else if(t[r.horizontal]>d/2){const m=Math.min(d,r.horizontal==="middle"?t.middle:r.horizontal===a.horizontal?t.right:t.left);e.maxWidth=Math.min(s,m),e.left=Math.max(0,m-e.maxWidth)}else e.left=Math.max(0,r.horizontal==="middle"?t.middle:r.horizontal===a.horizontal?t.left:t.right),e.maxWidth=Math.min(s,d-e.left)}var Un=Ve({name:"QTooltip",inheritAttrs:!1,props:Fe(ce(ce(ce({},Do),Hr),wi),{maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:La},self:{type:String,default:"top middle",validator:La},offset:{type:Array,default:()=>[14,14],validator:Uo},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}}),emits:[...Zr],setup(e,{slots:t,emit:n,attrs:r}){let a,i;const s=ze(),{proxy:{$q:o}}=s,f=oe(null),d=oe(!1),m=$(()=>Ra(e.anchor,o.lang.rtl)),k=$(()=>Ra(e.self,o.lang.rtl)),p=$(()=>e.persistent!==!0),{registerTick:c,removeTick:_}=Kr(),{registerTimeout:S,removeTimeout:h}=_n(),{transition:g,transitionStyle:y}=zo(e,d),{localScrollTarget:x,changeScrollEvent:R,unconfigureScrollTarget:T}=Fo(e,P),{anchorEl:O,canShow:M,anchorEvents:z}=Mo({showing:d,configureAnchorEl:K}),{show:F,hide:B}=Gr({showing:d,canShow:M,handleShow:u,handleHide:N,hideOnRouteChange:p,processOnMount:!0});Object.assign(z,{delayShow:Q,delayHide:I});const{showPortal:W,hidePortal:b,renderPortal:C}=bi(s,f,te);if(o.platform.is.mobile===!0){const Z={anchorEl:O,innerRef:f,onClickOutside(pe){return B(pe),pe.target.classList.contains("q-dialog__backdrop")&&at(pe),!0}},ee=$(()=>e.modelValue===null&&e.persistent!==!0&&d.value===!0);de(ee,pe=>{(pe===!0?No:Ma)(Z)}),Ze(()=>{Ma(Z)})}function u(Z){_(),h(),W(),c(()=>{i=new MutationObserver(()=>A()),i.observe(f.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),A(),P()}),a===void 0&&(a=de(()=>o.screen.width+"|"+o.screen.height+"|"+e.self+"|"+e.anchor+"|"+o.lang.rtl,A)),S(()=>{W(!0),n("show",Z)},e.transitionDuration)}function N(Z){_(),h(),b(),ne(),S(()=>{b(!0),n("hide",Z)},e.transitionDuration)}function ne(){i!==void 0&&(i.disconnect(),i=void 0),a!==void 0&&(a(),a=void 0),T(),jt(z,"tooltipTemp")}function A(){const Z=f.value;O.value===null||!Z||Vo({el:Z,offset:e.offset,anchorEl:O.value,anchorOrigin:m.value,selfOrigin:k.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Q(Z){if(o.platform.is.mobile===!0){Wn(),document.body.classList.add("non-selectable");const ee=O.value,pe=["touchmove","touchcancel","touchend","click"].map(Se=>[ee,Se,"delayHide","passiveCapture"]);Et(z,"tooltipTemp",pe)}S(()=>{F(Z)},e.delay)}function I(Z){h(),o.platform.is.mobile===!0&&(jt(z,"tooltipTemp"),Wn(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),S(()=>{B(Z)},e.hideDelay)}function K(){if(e.noParentEvent===!0||O.value===null)return;const Z=o.platform.is.mobile===!0?[[O.value,"touchstart","delayShow","passive"]]:[[O.value,"mouseenter","delayShow","passive"],[O.value,"mouseleave","delayHide","passive"]];Et(z,"anchor",Z)}function P(){if(O.value!==null||e.scrollTarget!==void 0){x.value=ho(O.value,e.scrollTarget);const Z=e.noParentEvent===!0?A:B;R(x.value,Z)}}function L(){return d.value===!0?J("div",Fe(ce({},r),{ref:f,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",r.class],style:[r.style,y.value],role:"complementary"}),He(t.default)):null}function te(){return J(gn,{name:g.value,appear:!0},L)}return Ze(ne),Object.assign(s.proxy,{updatePosition:A}),C}});function xi(e,t,n){let r;function a(){r!==void 0&&(xa.remove(r),r=void 0)}return Ze(()=>{e.value===!0&&a()}),{removeFromHistory:a,addToHistory(){r={condition:()=>n.value===!0,handler:t},xa.add(r)}}}let on=0,yr,_r,fn,br=!1,Ia,Pa,Ut;function $o(e){jo(e)&&at(e)}function jo(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=$s(e),n=e.shiftKey&&!e.deltaX,r=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),a=n||r?e.deltaY:e.deltaX;for(let i=0;i<t.length;i++){const s=t[i];if(po(s,r))return r?a<0&&s.scrollTop===0?!0:a>0&&s.scrollTop+s.clientHeight===s.scrollHeight:a<0&&s.scrollLeft===0?!0:a>0&&s.scrollLeft+s.clientWidth===s.scrollWidth}return!0}function Ba(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function Fn(e){br!==!0&&(br=!0,requestAnimationFrame(()=>{br=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:r}=document.scrollingElement;(fn===void 0||t!==window.innerHeight)&&(fn=n-t,document.scrollingElement.scrollTop=r),r>fn&&(document.scrollingElement.scrollTop-=Math.ceil((r-fn)/8))}))}function za(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:r,overflowX:a}=window.getComputedStyle(t);yr=mo(window),_r=vo(window),Ia=t.style.left,Pa=t.style.top,t.style.left=`-${yr}px`,t.style.top=`-${_r}px`,a!=="hidden"&&(a==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),r!=="hidden"&&(r==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,Qe.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",Fn,ut.passiveCapture),window.visualViewport.addEventListener("scroll",Fn,ut.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",Ba,ut.passiveCapture))}Qe.is.desktop===!0&&Qe.is.mac===!0&&window[`${e}EventListener`]("wheel",$o,ut.notPassive),e==="remove"&&(Qe.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",Fn,ut.passiveCapture),window.visualViewport.removeEventListener("scroll",Fn,ut.passiveCapture)):window.removeEventListener("scroll",Ba,ut.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=Ia,t.style.top=Pa,window.scrollTo(yr,_r),fn=void 0)}function Ho(e){let t="add";if(e===!0){if(on++,Ut!==void 0){clearTimeout(Ut),Ut=void 0;return}if(on>1)return}else{if(on===0||(on--,on>0))return;if(t="remove",Qe.is.ios===!0&&Qe.is.nativeMobile===!0){clearTimeout(Ut),Ut=setTimeout(()=>{za(t),Ut=void 0},100);return}}za(t)}function Si(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,Ho(t))}}}const Na=150;var Zo=Ve({name:"QDrawer",inheritAttrs:!1,props:Fe(ce(ce({},Hr),Jt),{side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean}),emits:[...Zr,"on-layout","mini-state"],setup(e,{slots:t,emit:n,attrs:r}){const a=ze(),{proxy:{$q:i}}=a,s=en(e,i),{preventBodyScroll:o}=Si(),{registerTimeout:f}=_n(),d=tr(js,()=>{console.error("QDrawer needs to be child of QLayout")});let m,k,p;const c=oe(e.behavior==="mobile"||e.behavior!=="desktop"&&d.totalWidth.value<=e.breakpoint),_=$(()=>e.mini===!0&&c.value!==!0),S=$(()=>_.value===!0?e.miniWidth:e.width),h=oe(e.showIfAbove===!0&&c.value===!1?!0:e.modelValue===!0),g=$(()=>e.persistent!==!0&&(c.value===!0||I.value===!0));function y(E,U){if(O(),E!==!1&&d.animate(),ke(0),c.value===!0){const H=d.instances[N.value];H!==void 0&&H.belowBreakpoint===!0&&H.hide(!1),Oe(1),d.isContainer.value!==!0&&o(!0)}else Oe(0),E!==!1&&l(!1);f(()=>{E!==!1&&l(!0),U!==!0&&n("show",E)},Na)}function x(E,U){M(),E!==!1&&d.animate(),Oe(0),ke(B.value*S.value),w(),U!==!0&&f(()=>{n("hide",E)},Na)}const{show:R,hide:T}=Gr({showing:h,hideOnRouteChange:g,handleShow:y,handleHide:x}),{addToHistory:O,removeFromHistory:M}=xi(h,T,g),z={belowBreakpoint:c,hide:T},F=$(()=>e.side==="right"),B=$(()=>(i.lang.rtl===!0?-1:1)*(F.value===!0?1:-1)),W=oe(0),b=oe(!1),C=oe(!1),u=oe(S.value*B.value),N=$(()=>F.value===!0?"left":"right"),ne=$(()=>h.value===!0&&c.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:S.value:0),A=$(()=>e.overlay===!0||e.miniToOverlay===!0||d.view.value.indexOf(F.value?"R":"L")>-1||i.platform.is.ios===!0&&d.isContainer.value===!0),Q=$(()=>e.overlay===!1&&h.value===!0&&c.value===!1),I=$(()=>e.overlay===!0&&h.value===!0&&c.value===!1),K=$(()=>"fullscreen q-drawer__backdrop"+(h.value===!1&&b.value===!1?" hidden":"")),P=$(()=>({backgroundColor:`rgba(0,0,0,${W.value*.4})`})),L=$(()=>F.value===!0?d.rows.value.top[2]==="r":d.rows.value.top[0]==="l"),te=$(()=>F.value===!0?d.rows.value.bottom[2]==="r":d.rows.value.bottom[0]==="l"),Z=$(()=>{const E={};return d.header.space===!0&&L.value===!1&&(A.value===!0?E.top=`${d.header.offset}px`:d.header.space===!0&&(E.top=`${d.header.size}px`)),d.footer.space===!0&&te.value===!1&&(A.value===!0?E.bottom=`${d.footer.offset}px`:d.footer.space===!0&&(E.bottom=`${d.footer.size}px`)),E}),ee=$(()=>{const E={width:`${S.value}px`,transform:`translateX(${u.value}px)`};return c.value===!0?E:Object.assign(E,Z.value)}),pe=$(()=>"q-drawer__content fit "+(d.isContainer.value!==!0?"scroll":"overflow-auto")),Se=$(()=>`q-drawer q-drawer--${e.side}`+(C.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(s.value===!0?" q-drawer--dark q-dark":"")+(b.value===!0?" no-transition":h.value===!0?"":" q-layout--prevent-focus")+(c.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${_.value===!0?"mini":"standard"}`+(A.value===!0||Q.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(L.value===!0?" q-drawer--top-padding":""))),fe=$(()=>{const E=i.lang.rtl===!0?e.side:N.value;return[[gr,Y,void 0,{[E]:!0,mouse:!0}]]}),ie=$(()=>{const E=i.lang.rtl===!0?N.value:e.side;return[[gr,v,void 0,{[E]:!0,mouse:!0}]]}),be=$(()=>{const E=i.lang.rtl===!0?N.value:e.side;return[[gr,v,void 0,{[E]:!0,mouse:!0,mouseAllDir:!0}]]});function we(){q(c,e.behavior==="mobile"||e.behavior!=="desktop"&&d.totalWidth.value<=e.breakpoint)}de(c,E=>{E===!0?(m=h.value,h.value===!0&&T(!1)):e.overlay===!1&&e.behavior!=="mobile"&&m!==!1&&(h.value===!0?(ke(0),Oe(0),w()):R(!1))}),de(()=>e.side,(E,U)=>{d.instances[U]===z&&(d.instances[U]=void 0,d[U].space=!1,d[U].offset=0),d.instances[E]=z,d[E].size=S.value,d[E].space=Q.value,d[E].offset=ne.value}),de(d.totalWidth,()=>{(d.isContainer.value===!0||document.qScrollPrevented!==!0)&&we()}),de(()=>e.behavior+e.breakpoint,we),de(d.isContainer,E=>{h.value===!0&&o(E!==!0),E===!0&&we()}),de(d.scrollbarWidth,()=>{ke(h.value===!0?0:void 0)}),de(ne,E=>{D("offset",E)}),de(Q,E=>{n("on-layout",E),D("space",E)}),de(F,()=>{ke()}),de(S,E=>{ke(),V(e.miniToOverlay,E)}),de(()=>e.miniToOverlay,E=>{V(E,S.value)}),de(()=>i.lang.rtl,()=>{ke()}),de(()=>e.mini,()=>{e.modelValue===!0&&(j(),d.animate())}),de(_,E=>{n("mini-state",E)});function ke(E){E===void 0?Re(()=>{E=h.value===!0?0:S.value,ke(B.value*E)}):(d.isContainer.value===!0&&F.value===!0&&(c.value===!0||Math.abs(E)===S.value)&&(E+=B.value*d.scrollbarWidth.value),u.value=E)}function Oe(E){W.value=E}function l(E){const U=E===!0?"remove":d.isContainer.value!==!0?"add":"";U!==""&&document.body.classList[U]("q-body--drawer-toggle")}function j(){clearTimeout(k),a.proxy&&a.proxy.$el&&a.proxy.$el.classList.add("q-drawer--mini-animate"),C.value=!0,k=setTimeout(()=>{C.value=!1,a&&a.proxy&&a.proxy.$el&&a.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Y(E){if(h.value!==!1)return;const U=S.value,H=cn(E.distance.x,0,U);if(E.isFinal===!0){H>=Math.min(75,U)===!0?R():(d.animate(),Oe(0),ke(B.value*U)),b.value=!1;return}ke((i.lang.rtl===!0?F.value!==!0:F.value)?Math.max(U-H,0):Math.min(0,H-U)),Oe(cn(H/U,0,1)),E.isFirst===!0&&(b.value=!0)}function v(E){if(h.value!==!0)return;const U=S.value,H=E.direction===e.side,G=(i.lang.rtl===!0?H!==!0:H)?cn(E.distance.x,0,U):0;if(E.isFinal===!0){Math.abs(G)<Math.min(75,U)===!0?(d.animate(),Oe(1),ke(0)):T(),b.value=!1;return}ke(B.value*G),Oe(cn(1-G/U,0,1)),E.isFirst===!0&&(b.value=!0)}function w(){o(!1),l(!0)}function D(E,U){d.update(e.side,E,U)}function q(E,U){E.value!==U&&(E.value=U)}function V(E,U){D("size",E===!0?e.miniWidth:U)}return d.instances[e.side]=z,V(e.miniToOverlay,S.value),D("space",Q.value),D("offset",ne.value),e.showIfAbove===!0&&e.modelValue!==!0&&h.value===!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",!0),Mt(()=>{n("on-layout",Q.value),n("mini-state",_.value),m=e.showIfAbove===!0;const E=()=>{(h.value===!0?y:x)(!1,!0)};if(d.totalWidth.value!==0){Re(E);return}p=de(d.totalWidth,()=>{p(),p=void 0,h.value===!1&&e.showIfAbove===!0&&c.value===!1?R(!1):E()})}),Ze(()=>{p!==void 0&&p(),clearTimeout(k),h.value===!0&&w(),d.instances[e.side]===z&&(d.instances[e.side]=void 0,D("size",0),D("offset",0),D("space",!1))}),()=>{const E=[];c.value===!0&&(e.noSwipeOpen===!1&&E.push(Tt(J("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),fe.value)),E.push(Mr("div",{ref:"backdrop",class:K.value,style:P.value,"aria-hidden":"true",onClick:T},void 0,"backdrop",e.noSwipeBackdrop!==!0&&h.value===!0,()=>be.value)));const U=_.value===!0&&t.mini!==void 0,H=[J("div",Fe(ce({},r),{key:""+U,class:[pe.value,r.class]}),U===!0?t.mini():He(t.default))];return e.elevated===!0&&h.value===!0&&H.push(J("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),E.push(Mr("aside",{ref:"content",class:Se.value,style:ee.value},H,"contentclose",e.noSwipeClose!==!0&&c.value===!0,()=>ie.value)),J("div",{class:"q-drawer-container"},E)}}});const Go=J("div",{class:"q-space"});var Qo=Ve({name:"QSpace",setup(){return()=>Go}}),Ua=Ve({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=$(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>J(e.tag,{class:n.value},He(t.default))}}),Ko=Ve({name:"QCardActions",props:Fe(ce({},Hs),{vertical:Boolean}),setup(e,{slots:t}){const n=Zs(e),r=$(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>J("div",{class:r.value},He(t.default))}});const Pt=[];let Xt;function Xo(e){Xt=e.keyCode===27}function Jo(){Xt===!0&&(Xt=!1)}function el(e){Xt===!0&&(Xt=!1,er(e,27)===!0&&Pt[Pt.length-1](e))}function Ei(e){window[e]("keydown",Xo),window[e]("blur",Jo),window[e]("keyup",el),Xt=!1}function tl(e){Qe.is.desktop===!0&&(Pt.push(e),Pt.length===1&&Ei("addEventListener"))}function Ya(e){const t=Pt.indexOf(e);t>-1&&(Pt.splice(t,1),Pt.length===0&&Ei("removeEventListener"))}const Bt=[];function Ci(e){Bt[Bt.length-1](e)}function nl(e){Qe.is.desktop===!0&&(Bt.push(e),Bt.length===1&&document.body.addEventListener("focusin",Ci))}function qa(e){const t=Bt.indexOf(e);t>-1&&(Bt.splice(t,1),Bt.length===0&&document.body.removeEventListener("focusin",Ci))}let An=0;const rl={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Va={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var al=Ve({name:"QDialog",inheritAttrs:!1,props:Fe(ce(ce({},Hr),wi),{transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}}),emits:[...Zr,"shake","click","escape-key"],setup(e,{slots:t,emit:n,attrs:r}){const a=ze(),i=oe(null),s=oe(!1),o=oe(!1),f=oe(!1);let d,m=null,k,p;const c=$(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:_}=Si(),{registerTimeout:S,removeTimeout:h}=_n(),{registerTick:g,removeTick:y}=Kr(),{showPortal:x,hidePortal:R,portalIsAccessible:T,renderPortal:O}=bi(a,i,fe,!0),{hide:M}=Gr({showing:s,hideOnRouteChange:c,handleShow:Q,handleHide:I,processOnMount:!0}),{addToHistory:z,removeFromHistory:F}=xi(s,M,c),B=$(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${rl[e.position]}`+(f.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),W=$(()=>"q-transition--"+(e.transitionShow===void 0?Va[e.position][0]:e.transitionShow)),b=$(()=>"q-transition--"+(e.transitionHide===void 0?Va[e.position][1]:e.transitionHide)),C=$(()=>o.value===!0?b.value:W.value),u=$(()=>`--q-transition-duration: ${e.transitionDuration}ms`),N=$(()=>s.value===!0&&e.seamless!==!0),ne=$(()=>e.autoClose===!0?{onClick:ee}:{}),A=$(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${N.value===!0?"modal":"seamless"}`,r.class]);de(s,ie=>{Re(()=>{o.value=ie})}),de(()=>e.maximized,ie=>{s.value===!0&&Z(ie)}),de(N,ie=>{_(ie),ie===!0?(nl(Se),tl(L)):(qa(Se),Ya(L))});function Q(ie){h(),y(),z(),m=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,Z(e.maximized),x(),f.value=!0,e.noFocus!==!0&&(document.activeElement!==null&&document.activeElement.blur(),g(K)),S(()=>{if(a.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:be,bottom:we}=document.activeElement.getBoundingClientRect(),{innerHeight:ke}=window,Oe=window.visualViewport!==void 0?window.visualViewport.height:ke;be>0&&we>Oe/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Oe,we>=ke?1/0:Math.ceil(document.scrollingElement.scrollTop+we-Oe/2))),document.activeElement.scrollIntoView()}p=!0,i.value.click(),p=!1}x(!0),f.value=!1,n("show",ie)},e.transitionDuration)}function I(ie){h(),y(),F(),te(!0),f.value=!0,R(),m!==null&&(m.focus(),m=null),S(()=>{R(!0),f.value=!1,n("hide",ie)},e.transitionDuration)}function K(ie){Qr(()=>{let be=i.value;be===null||be.contains(document.activeElement)===!0||(be=be.querySelector(ie||"[autofocus], [data-autofocus]")||be,be.focus({preventScroll:!0}))})}function P(){K(),n("shake");const ie=i.value;ie!==null&&(ie.classList.remove("q-animate--scale"),ie.classList.add("q-animate--scale"),clearTimeout(d),d=setTimeout(()=>{i.value!==null&&(ie.classList.remove("q-animate--scale"),K())},170))}function L(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&P():(n("escape-key"),M()))}function te(ie){clearTimeout(d),(ie===!0||s.value===!0)&&(Z(!1),e.seamless!==!0&&(_(!1),qa(Se),Ya(L))),ie!==!0&&(m=null)}function Z(ie){ie===!0?k!==!0&&(An<1&&document.body.classList.add("q-body--dialog"),An++,k=!0):k===!0&&(An<2&&document.body.classList.remove("q-body--dialog"),An--,k=!1)}function ee(ie){p!==!0&&(M(ie),n("click",ie))}function pe(ie){e.persistent!==!0&&e.noBackdropDismiss!==!0?M(ie):e.noShake!==!0&&P()}function Se(ie){T.value===!0&&Gs(i.value,ie.target)!==!0&&K('[tabindex]:not([tabindex="-1"])')}Object.assign(a.proxy,{focus:K,shake:P,__updateRefocusTarget(ie){m=ie||null}}),Ze(te);function fe(){return J("div",Fe(ce({},r),{class:A.value}),[J(gn,{name:"q-transition--fade",appear:!0},()=>N.value===!0?J("div",{class:"q-dialog__backdrop fixed-full",style:u.value,"aria-hidden":"true",onMousedown:pe}):null),J(gn,{name:C.value,appear:!0},()=>s.value===!0?J("div",ce({ref:i,class:B.value,style:u.value,tabindex:-1},ne.value),He(t.default)):null)])}return O}});function Wa(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var wr=si({name:"close-popup",beforeMount(e,{value:t}){const n={depth:Wa(t),handler(r){n.depth!==0&&setTimeout(()=>{const a=Ro(e);a!==void 0&&Po(a,r,n.depth)})},handlerKey(r){er(r,13)===!0&&n.handler(r)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=Wa(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function il(){return tr(Qs)}const Oi=oi("options",{state:()=>({confoundingImage:!1,confoundingXhtml:!1,chapterMode:"default",firstChapter:1,pageCount:10,firstPage:""})}),sl=oi("dialog",{state:()=>({barText:"\u63D0\u793A",title:"",text:"",bar:!1})});let ol=0;const ll=["click","keydown"],ul={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${ol++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function dl(e,t,n,r){const a=tr(li,()=>{console.error("QTab/QRouteTab component needs to be child of QTabs")}),{proxy:i}=ze(),s=oe(null),o=oe(null),f=oe(null),d=$(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),m=$(()=>a.currentModel.value===e.name),k=$(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(m.value===!0?" q-tab--active"+(a.tabProps.value.activeClass?" "+a.tabProps.value.activeClass:"")+(a.tabProps.value.activeColor?` text-${a.tabProps.value.activeColor}`:"")+(a.tabProps.value.activeBgColor?` bg-${a.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&a.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||a.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(r!==void 0&&r.linkClass.value!==""?` ${r.linkClass.value}`:"")),p=$(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(a.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),c=$(()=>e.disable===!0||a.hasFocus.value===!0?-1:e.tabindex||0);function _(x,R){if(R!==!0&&s.value!==null&&s.value.focus(),e.disable!==!0){let T;if(r!==void 0)if(r.hasRouterLink.value===!0)T=()=>{x.__qNavigate=!0,a.avoidRouteWatcher=!0;const O=r.navigateToRouterLink(x);O===!1?a.avoidRouteWatcher=!1:O.then(M=>{a.avoidRouteWatcher=!1,M===void 0&&a.updateModel({name:e.name,fromRoute:!0})})};else{n("click",x);return}else T=()=>{a.updateModel({name:e.name,fromRoute:!1})};n("click",x,T),x.defaultPrevented!==!0&&T()}}function S(x){er(x,[13,32])?_(x,!0):ui(x)!==!0&&x.keyCode>=35&&x.keyCode<=40&&a.onKbdNavigate(x.keyCode,i.$el)===!0&&at(x),n("keydown",x)}function h(){const x=a.tabProps.value.narrowIndicator,R=[],T=J("div",{ref:f,class:["q-tab__indicator",a.tabProps.value.indicatorClass]});e.icon!==void 0&&R.push(J(bt,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&R.push(J("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&R.push(e.alertIcon!==void 0?J(bt,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):J("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),x===!0&&R.push(T);const O=[J("div",{class:"q-focus-helper",tabindex:-1,ref:s}),J("div",{class:p.value},jr(t.default,R))];return x===!1&&O.push(T),O}const g={name:$(()=>e.name),rootRef:o,tabIndicatorRef:f,routerProps:r};Ze(()=>{a.unregisterTab(g),a.recalculateScroll()}),Mt(()=>{a.registerTab(g),a.recalculateScroll()});function y(x,R){const T=ce({ref:o,class:k.value,tabindex:c.value,role:"tab","aria-selected":m.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:_,onKeydown:S},R);return Tt(J(x,T,h()),[[Ks,d.value]])}return{renderTab:y,$tabs:a}}var kr=Ve({name:"QTab",props:ul,emits:ll,setup(e,{slots:t,emit:n}){const{renderTab:r}=dl(e,t,n);return()=>r("div")}});let Ti=!1;{const e=document.createElement("div"),t=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",t.style.width="1000px",t.style.height="1px",document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,Ti=e.scrollLeft>=0,e.remove()}function cl(e,t,n){const r=n===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?r[0]:r[1]}${e?` text-${e}`:""}`}const fl=["left","center","right","justify"],$a=()=>{};var hl=Ve({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>fl.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:n}){const r=ze(),{proxy:{$q:a}}=r,{registerTick:i}=Kr(),{registerTimeout:s,removeTimeout:o}=_n(),{registerTimeout:f}=_n(),d=oe(null),m=oe(null),k=oe(e.modelValue),p=oe(!1),c=oe(!0),_=oe(!1),S=oe(!1),h=$(()=>a.platform.is.desktop===!0||e.mobileArrows===!0),g=[],y=oe(!1);let x=!1,R,T,O,M=h.value===!0?K:Fr;const z=$(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:cl(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),F=$(()=>`q-tabs__content--align-${p.value===!0?"left":S.value===!0?"justify":e.align}`),B=$(()=>`q-tabs row no-wrap items-center q-tabs--${p.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${h.value===!0&&e.outsideArrows===!0?"outside":"inside"}`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),W=$(()=>"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar relative-position "+F.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")+(a.platform.is.mobile===!0?" scroll":"")),b=$(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),C=$(()=>e.vertical!==!0&&a.lang.rtl===!0),u=$(()=>Ti===!1&&C.value===!0);de(C,M),de(()=>e.modelValue,v=>{N({name:v,setCurrent:!0,skipEmit:!0})}),de(()=>e.outsideArrows,()=>{Re(ne())}),de(h,v=>{M=v===!0?K:Fr,Re(ne())});function N({name:v,setCurrent:w,skipEmit:D,fromRoute:q}){k.value!==v&&(D!==!0&&n("update:modelValue",v),(w===!0||e["onUpdate:modelValue"]===void 0)&&(Q(k.value,v),k.value=v)),q!==void 0&&(x=q)}function ne(){i(()=>{r.isDeactivated!==!0&&r.isUnmounted!==!0&&A({width:d.value.offsetWidth,height:d.value.offsetHeight})})}function A(v){if(b.value===void 0||m.value===null)return;const w=v[b.value.container],D=Math.min(m.value[b.value.scroll],Array.prototype.reduce.call(m.value.children,(E,U)=>E+(U[b.value.content]||0),0)),q=w>0&&D>w;p.value!==q&&(p.value=q),q===!0&&Re(M);const V=w<parseInt(e.breakpoint,10);S.value!==V&&(S.value=V)}function Q(v,w){const D=v!=null&&v!==""?g.find(V=>V.name.value===v):null,q=w!=null&&w!==""?g.find(V=>V.name.value===w):null;if(D&&q){const V=D.tabIndicatorRef.value,E=q.tabIndicatorRef.value;clearTimeout(R),V.style.transition="none",V.style.transform="none",E.style.transition="none",E.style.transform="none";const U=V.getBoundingClientRect(),H=E.getBoundingClientRect();E.style.transform=e.vertical===!0?`translate3d(0,${U.top-H.top}px,0) scale3d(1,${H.height?U.height/H.height:1},1)`:`translate3d(${U.left-H.left}px,0,0) scale3d(${H.width?U.width/H.width:1},1,1)`,Re(()=>{R=setTimeout(()=>{E.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",E.style.transform="none"},70)})}q&&p.value===!0&&I(q.rootRef.value)}function I(v){const{left:w,width:D,top:q,height:V}=m.value.getBoundingClientRect(),E=v.getBoundingClientRect();let U=e.vertical===!0?E.top-q:E.left-w;if(U<0){m.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(U),M();return}U+=e.vertical===!0?E.height-V:E.width-D,U>0&&(m.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(U),M())}function K(){const v=m.value;if(v!==null){const w=v.getBoundingClientRect(),D=e.vertical===!0?v.scrollTop:Math.abs(v.scrollLeft);C.value===!0?(c.value=Math.ceil(D+w.width)<v.scrollWidth-1,_.value=D>0):(c.value=D>0,_.value=e.vertical===!0?Math.ceil(D+w.height)<v.scrollHeight:Math.ceil(D+w.width)<v.scrollWidth)}}function P(v){Z(),Se(v),T=setInterval(()=>{Se(v)===!0&&Z()},5)}function L(){P(u.value===!0?Number.MAX_SAFE_INTEGER:0)}function te(){P(u.value===!0?0:Number.MAX_SAFE_INTEGER)}function Z(){clearInterval(T)}function ee(v,w){const D=Array.prototype.filter.call(m.value.children,H=>H===w||H.matches&&H.matches(".q-tab.q-focusable")===!0),q=D.length;if(q===0)return;if(v===36)return I(D[0]),!0;if(v===35)return I(D[q-1]),!0;const V=v===(e.vertical===!0?38:37),E=v===(e.vertical===!0?40:39),U=V===!0?-1:E===!0?1:void 0;if(U!==void 0){const H=C.value===!0?-1:1,G=D.indexOf(w)+U*H;return G>=0&&G<q&&(I(D[G]),D[G].focus({preventScroll:!0})),!0}}const pe=$(()=>u.value===!0?{get:v=>Math.abs(v.scrollLeft),set:(v,w)=>{v.scrollLeft=-w}}:e.vertical===!0?{get:v=>v.scrollTop,set:(v,w)=>{v.scrollTop=w}}:{get:v=>v.scrollLeft,set:(v,w)=>{v.scrollLeft=w}});function Se(v){const w=m.value,{get:D,set:q}=pe.value;let V=!1,E=D(w);const U=v<E?-1:1;return E+=U*5,E<0?(V=!0,E=0):(U===-1&&E<=v||U===1&&E>=v)&&(V=!0,E=v),q(w,E),M(),V}function fe(){return g.filter(v=>v.routerProps!==void 0&&v.routerProps.hasRouterLink.value===!0)}function ie(){let v=null,w=x;const D={matchedLen:0,hrefLen:0,exact:!1,found:!1},{hash:q}=r.proxy.$route,V=k.value;let E=w===!0?$a:H=>{V===H.name.value&&(w=!0,E=$a)};const U=fe();for(const H of U){const G=H.routerProps.exact.value===!0;if(H.routerProps[G===!0?"linkIsExactActive":"linkIsActive"].value!==!0||D.exact===!0&&G!==!0){E(H);continue}const se=H.routerProps.linkRoute.value,xe=se.hash;if(G===!0){if(q===xe){v=H.name.value;break}else if(q!==""&&xe!==""){E(H);continue}}const me=se.matched.length,je=se.href.length-xe.length;if(me===D.matchedLen?je>D.hrefLen:me>D.matchedLen){v=H.name.value,Object.assign(D,{matchedLen:me,hrefLen:je,exact:G});continue}E(H)}(w===!0||v!==null)&&N({name:v,setCurrent:!0,fromRoute:!0})}function be(v){if(o(),y.value!==!0&&d.value!==null&&v.target&&typeof v.target.closest=="function"){const w=v.target.closest(".q-tab");w&&d.value.contains(w)===!0&&(y.value=!0)}}function we(){s(()=>{y.value=!1},30)}function ke(){j.avoidRouteWatcher!==!0&&f(ie)}function Oe(v){g.push(v),fe().length>0&&(O===void 0&&(O=de(()=>r.proxy.$route,ke)),ke())}function l(v){g.splice(g.indexOf(v),1),O!==void 0&&(fe().length===0&&(O(),O=void 0),ke())}const j={currentModel:k,tabProps:z,hasFocus:y,registerTab:Oe,unregisterTab:l,verifyRouteModel:ke,updateModel:N,recalculateScroll:ne,onKbdNavigate:ee,avoidRouteWatcher:!1};Xs(li,j),Ze(()=>{clearTimeout(R),O!==void 0&&O()});let Y=!1;return di(()=>{Y=!0}),ci(()=>{Y===!0&&ne()}),()=>{const v=[J(go,{onResize:A}),J("div",{ref:m,class:W.value,onScroll:M},He(t.default))];return h.value===!0&&v.push(J(bt,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(c.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||a.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedown:L,onTouchstartPassive:L,onMouseup:Z,onMouseleave:Z,onTouchend:Z}),J(bt,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(_.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||a.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedown:te,onTouchstartPassive:te,onMouseup:Z,onMouseleave:Z,onTouchend:Z})),J("div",{ref:d,class:B.value,role:"tablist",onFocusin:be,onFocusout:we},v)}}});function ml({validate:e,resetValidation:t,requiresQForm:n}){const r=tr(Js,!1);if(r!==!1){const{props:a,proxy:i}=ze();Object.assign(i,{validate:e,resetValidation:t}),de(()=>a.disable,s=>{s===!0?(typeof t=="function"&&t(),r.unbindComponent(i)):r.bindComponent(i)}),a.disable!==!0&&r.bindComponent(i),Ze(()=>{a.disable!==!0&&r.unbindComponent(i)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const ja=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Ha=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Za=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Ln=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Rn=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Ga={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>ja.test(e),hexaColor:e=>Ha.test(e),hexOrHexaColor:e=>Za.test(e),rgbColor:e=>Ln.test(e),rgbaColor:e=>Rn.test(e),rgbOrRgbaColor:e=>Ln.test(e)||Rn.test(e),hexOrRgbColor:e=>ja.test(e)||Ln.test(e),hexaOrRgbaColor:e=>Ha.test(e)||Rn.test(e),anyColor:e=>Za.test(e)||Ln.test(e)||Rn.test(e)},vl={};"Boolean Number String Function Array Date RegExp Object".split(" ").forEach(e=>{vl["[object "+e+"]"]=e.toLowerCase()});const pl=["rejected"],gl=[...pl,"start","finish","added","removed"],yl=()=>!0;function _l(e){const t={};return e.forEach(n=>{t[n]=yl}),t}_l(gl);let xr,In=0;const Ne=new Array(256);for(let e=0;e<256;e++)Ne[e]=(e+256).toString(16).substring(1);const bl=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let r=t;r>0;r--)n.push(Math.floor(Math.random()*256));return n}})(),Qa=4096;function wl(){(xr===void 0||In+16>Qa)&&(In=0,xr=bl(Qa));const e=Array.prototype.slice.call(xr,In,In+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Ne[e[0]]+Ne[e[1]]+Ne[e[2]]+Ne[e[3]]+"-"+Ne[e[4]]+Ne[e[5]]+"-"+Ne[e[6]]+Ne[e[7]]+"-"+Ne[e[8]]+Ne[e[9]]+"-"+Ne[e[10]]+Ne[e[11]]+Ne[e[12]]+Ne[e[13]]+Ne[e[14]]+Ne[e[15]]}const kl=[!0,!1,"ondemand"],xl={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>kl.includes(e)}};function Sl(e,t){const{props:n,proxy:r}=ze(),a=oe(!1),i=oe(null),s=oe(null);ml({validate:_,resetValidation:c});let o=0,f;const d=$(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length>0),m=$(()=>n.disable!==!0&&d.value===!0),k=$(()=>n.error===!0||a.value===!0),p=$(()=>typeof n.errorMessage=="string"&&n.errorMessage.length>0?n.errorMessage:i.value);de(()=>n.modelValue,()=>{S()}),de(()=>n.reactiveRules,g=>{g===!0?f===void 0&&(f=de(()=>n.rules,()=>{S(!0)})):f!==void 0&&(f(),f=void 0)},{immediate:!0}),de(e,g=>{g===!0?s.value===null&&(s.value=!1):s.value===!1&&(s.value=!0,m.value===!0&&n.lazyRules!=="ondemand"&&t.value===!1&&h())});function c(){o++,t.value=!1,s.value=null,a.value=!1,i.value=null,h.cancel()}function _(g=n.modelValue){if(m.value!==!0)return!0;const y=++o;t.value!==!0&&n.lazyRules!==!0&&(s.value=!0);const x=(T,O)=>{a.value!==T&&(a.value=T);const M=O||void 0;i.value!==M&&(i.value=M),t.value=!1},R=[];for(let T=0;T<n.rules.length;T++){const O=n.rules[T];let M;if(typeof O=="function"?M=O(g):typeof O=="string"&&Ga[O]!==void 0&&(M=Ga[O](g)),M===!1||typeof M=="string")return x(!0,M),!1;M!==!0&&M!==void 0&&R.push(M)}return R.length===0?(x(!1),!0):(t.value=!0,Promise.all(R).then(T=>{if(T===void 0||Array.isArray(T)===!1||T.length===0)return y===o&&x(!1),!0;const O=T.find(M=>M===!1||typeof M=="string");return y===o&&x(O!==void 0,O),O===void 0},T=>(y===o&&(console.error(T),x(!0)),!1)))}function S(g){m.value===!0&&n.lazyRules!=="ondemand"&&(s.value===!0||n.lazyRules!==!0&&g!==!0)&&h()}const h=eo(_,0);return Ze(()=>{f!==void 0&&f(),h.cancel()}),Object.assign(r,{resetValidation:c,validate:_}),to(r,"hasError",()=>k.value),{isDirtyModel:s,hasRules:d,hasError:k,errorMessage:p,validate:_,resetValidation:c}}const Ka=/^on[A-Z]/;function El(e,t){const n={listeners:oe({}),attributes:oe({})};function r(){const a={},i={};for(const s in e)s!=="class"&&s!=="style"&&Ka.test(s)===!1&&(a[s]=e[s]);for(const s in t.props)Ka.test(s)===!0&&(i[s]=t.props[s]);n.attributes.value=a,n.listeners.value=i}return no(r),r(),n}function Rr(e){return e===void 0?`f_${wl()}`:e}function Ir(e){return e!=null&&(""+e).length>0}const Cl=Fe(ce(ce({},Jt),xl),{label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]}),Ol=["update:modelValue","clear","focus","blur","popup-show","popup-hide"];function Tl(){const{props:e,attrs:t,proxy:n,vnode:r}=ze();return{isDark:en(e,n.$q),editable:$(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:oe(!1),focused:oe(!1),hasPopupOpen:!1,splitAttrs:El(t,r),targetUid:oe(Rr(e.for)),rootRef:oe(null),targetRef:oe(null),controlRef:oe(null)}}function Dl(e){const{props:t,emit:n,slots:r,attrs:a,proxy:i}=ze(),{$q:s}=i;let o;e.hasValue===void 0&&(e.hasValue=$(()=>Ir(t.modelValue))),e.emitValue===void 0&&(e.emitValue=A=>{n("update:modelValue",A)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:F,onFocusout:B}),Object.assign(e,{clearValue:W,onControlFocusin:F,onControlFocusout:B,focus:M}),e.computedCounter===void 0&&(e.computedCounter=$(()=>{if(t.counter!==!1){const A=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,Q=t.maxlength!==void 0?t.maxlength:t.maxValues;return A+(Q!==void 0?" / "+Q:"")}}));const{isDirtyModel:f,hasRules:d,hasError:m,errorMessage:k,resetValidation:p}=Sl(e.focused,e.innerLoading),c=e.floatingLabel!==void 0?$(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):$(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),_=$(()=>t.bottomSlots===!0||t.hint!==void 0||d.value===!0||t.counter===!0||t.error!==null),S=$(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),h=$(()=>`q-field row no-wrap items-start q-field--${S.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(c.value===!0?" q-field--float":"")+(y.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(m.value===!0?" q-field--error":"")+(m.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&_.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),g=$(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(m.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length>0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),y=$(()=>t.labelSlot===!0||t.label!==void 0),x=$(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&m.value!==!0?` text-${t.labelColor}`:"")),R=$(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:c.value,modelValue:t.modelValue,emitValue:e.emitValue})),T=$(()=>{const A={for:e.targetUid.value};return t.disable===!0?A["aria-disabled"]="true":t.readonly===!0&&(A["aria-readonly"]="true"),A});de(()=>t.for,A=>{e.targetUid.value=Rr(A)});function O(){const A=document.activeElement;let Q=e.targetRef!==void 0&&e.targetRef.value;Q&&(A===null||A.id!==e.targetUid.value)&&(Q.hasAttribute("tabindex")===!0||(Q=Q.querySelector("[tabindex]")),Q&&Q!==A&&Q.focus({preventScroll:!0}))}function M(){Qr(O)}function z(){Lo(O);const A=document.activeElement;A!==null&&e.rootRef.value.contains(A)&&A.blur()}function F(A){clearTimeout(o),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",A))}function B(A,Q){clearTimeout(o),o=setTimeout(()=>{document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1)||(e.focused.value===!0&&(e.focused.value=!1,n("blur",A)),Q!==void 0&&Q())})}function W(A){at(A),s.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),Re(()=>{p(),s.platform.is.mobile!==!0&&(f.value=!1)})}function b(){const A=[];return r.prepend!==void 0&&A.push(J("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Vt},r.prepend())),A.push(J("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},C())),m.value===!0&&t.noErrorIcon===!1&&A.push(N("error",[J(bt,{name:s.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?A.push(N("inner-loading-append",r.loading!==void 0?r.loading():[J(ao,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&A.push(N("inner-clearable-append",[J(bt,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||s.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:W})])),r.append!==void 0&&A.push(J("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Vt},r.append())),e.getInnerAppend!==void 0&&A.push(N("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&A.push(e.getControlChild()),A}function C(){const A=[];return t.prefix!==void 0&&t.prefix!==null&&A.push(J("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&A.push(e.getShadowControl()),e.getControl!==void 0?A.push(e.getControl()):r.rawControl!==void 0?A.push(r.rawControl()):r.control!==void 0&&A.push(J("div",Fe(ce({ref:e.targetRef,class:"q-field__native row"},e.splitAttrs.attributes.value),{"data-autofocus":t.autofocus===!0||void 0}),r.control(R.value))),y.value===!0&&A.push(J("div",{class:x.value},He(r.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&A.push(J("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),A.concat(He(r.default))}function u(){let A,Q;m.value===!0?k.value!==null?(A=[J("div",{role:"alert"},k.value)],Q=`q--slot-error-${k.value}`):(A=He(r.error),Q="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(A=[J("div",t.hint)],Q=`q--slot-hint-${t.hint}`):(A=He(r.hint),Q="q--slot-hint"));const I=t.counter===!0||r.counter!==void 0;if(t.hideBottomSpace===!0&&I===!1&&A===void 0)return;const K=J("div",{key:Q,class:"q-field__messages col"},A);return J("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale")},[t.hideBottomSpace===!0?K:J(gn,{name:"q-transition--field-message"},()=>K),I===!0?J("div",{class:"q-field__counter"},r.counter!==void 0?r.counter():e.computedCounter.value):null])}function N(A,Q){return Q===null?null:J("div",{key:A,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},Q)}Object.assign(i,{focus:M,blur:z});let ne=!1;return di(()=>{ne=!0}),ci(()=>{ne===!0&&t.autofocus===!0&&i.focus()}),Mt(()=>{ro.value===!0&&t.for===void 0&&(e.targetUid.value=Rr()),t.autofocus===!0&&i.focus()}),Ze(()=>{clearTimeout(o)}),function(){const Q=e.getControl===void 0&&r.control===void 0?ce(Fe(ce({},e.splitAttrs.attributes.value),{"data-autofocus":t.autofocus}),T.value):T.value;return J("label",ce({ref:e.rootRef,class:[h.value,a.class],style:a.style},Q),[r.before!==void 0?J("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Vt},r.before()):null,J("div",{class:"q-field__inner relative-position col self-stretch"},[J("div",ce({ref:e.controlRef,class:g.value,tabindex:-1},e.controlEvents),b()),_.value===!0?u():null]),r.after!==void 0?J("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Vt},r.after()):null])}}const Xa={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Hn={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Di=Object.keys(Hn);Di.forEach(e=>{Hn[e].regex=new RegExp(Hn[e].pattern)});const Ml=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Di.join("")+"])|(.)","g"),Ja=/[.*+?^${}()|[\]\\]/g,Ie=String.fromCharCode(1),Fl={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Al(e,t,n,r){let a,i,s,o;const f=oe(null),d=oe(k());function m(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}de(()=>e.type+e.autogrow,c),de(()=>e.mask,O=>{if(O!==void 0)_(d.value,!0);else{const M=R(d.value);c(),e.modelValue!==M&&t("update:modelValue",M)}}),de(()=>e.fillMask+e.reverseFillMask,()=>{f.value===!0&&_(d.value,!0)}),de(()=>e.unmaskedValue,()=>{f.value===!0&&_(d.value)});function k(){if(c(),f.value===!0){const O=y(R(e.modelValue));return e.fillMask!==!1?T(O):O}return e.modelValue}function p(O){if(O<a.length)return a.slice(-O);let M="",z=a;const F=z.indexOf(Ie);if(F>-1){for(let B=O-z.length;B>0;B--)M+=Ie;z=z.slice(0,F)+M+z.slice(F)}return z}function c(){if(f.value=e.mask!==void 0&&e.mask.length>0&&m(),f.value===!1){o=void 0,a="",i="";return}const O=Xa[e.mask]===void 0?e.mask:Xa[e.mask],M=typeof e.fillMask=="string"&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",z=M.replace(Ja,"\\$&"),F=[],B=[],W=[];let b=e.reverseFillMask===!0,C="",u="";O.replace(Ml,(Q,I,K,P,L)=>{if(P!==void 0){const te=Hn[P];W.push(te),u=te.negate,b===!0&&(B.push("(?:"+u+"+)?("+te.pattern+"+)?(?:"+u+"+)?("+te.pattern+"+)?"),b=!1),B.push("(?:"+u+"+)?("+te.pattern+")?")}else if(K!==void 0)C="\\"+(K==="\\"?"":K),W.push(K),F.push("([^"+C+"]+)?"+C+"?");else{const te=I!==void 0?I:L;C=te==="\\"?"\\\\\\\\":te.replace(Ja,"\\\\$&"),W.push(te),F.push("([^"+C+"]+)?"+C+"?")}});const N=new RegExp("^"+F.join("")+"("+(C===""?".":"[^"+C+"]")+"+)?$"),ne=B.length-1,A=B.map((Q,I)=>I===0&&e.reverseFillMask===!0?new RegExp("^"+z+"*"+Q):I===ne?new RegExp("^"+Q+"("+(u===""?".":u)+"+)?"+(e.reverseFillMask===!0?"$":z+"*")):new RegExp("^"+Q));s=W,o=Q=>{const I=N.exec(Q);I!==null&&(Q=I.slice(1).join(""));const K=[],P=A.length;for(let L=0,te=Q;L<P;L++){const Z=A[L].exec(te);if(Z===null)break;te=te.slice(Z.shift().length),K.push(...Z)}return K.length>0?K.join(""):Q},a=W.map(Q=>typeof Q=="string"?Q:Ie).join(""),i=a.split(Ie).join(M)}function _(O,M,z){const F=r.value,B=F.selectionEnd,W=F.value.length-B,b=R(O);M===!0&&c();const C=y(b),u=e.fillMask!==!1?T(C):C,N=d.value!==u;F.value!==u&&(F.value=u),N===!0&&(d.value=u),document.activeElement===F&&Re(()=>{if(u===i){const A=e.reverseFillMask===!0?i.length:0;F.setSelectionRange(A,A,"forward");return}if(z==="insertFromPaste"&&e.reverseFillMask!==!0){const A=B-1;h.right(F,A,A);return}if(["deleteContentBackward","deleteContentForward"].indexOf(z)>-1){const A=e.reverseFillMask===!0?B===0?u.length>C.length?1:0:Math.max(0,u.length-(u===i?0:Math.min(C.length,W)+1))+1:B;F.setSelectionRange(A,A,"forward");return}if(e.reverseFillMask===!0)if(N===!0){const A=Math.max(0,u.length-(u===i?0:Math.min(C.length,W+1)));A===1&&B===1?F.setSelectionRange(A,A,"forward"):h.rightReverse(F,A,A)}else{const A=u.length-W;F.setSelectionRange(A,A,"backward")}else if(N===!0){const A=Math.max(0,a.indexOf(Ie),Math.min(C.length,B)-1);h.right(F,A,A)}else{const A=B-1;h.right(F,A,A)}});const ne=e.unmaskedValue===!0?R(u):u;String(e.modelValue)!==ne&&n(ne,!0)}function S(O,M,z){const F=y(R(O.value));M=Math.max(0,a.indexOf(Ie),Math.min(F.length,M)),O.setSelectionRange(M,z,"forward")}const h={left(O,M,z,F){const B=a.slice(M-1).indexOf(Ie)===-1;let W=Math.max(0,M-1);for(;W>=0;W--)if(a[W]===Ie){M=W,B===!0&&M++;break}if(W<0&&a[M]!==void 0&&a[M]!==Ie)return h.right(O,0,0);M>=0&&O.setSelectionRange(M,F===!0?z:M,"backward")},right(O,M,z,F){const B=O.value.length;let W=Math.min(B,z+1);for(;W<=B;W++)if(a[W]===Ie){z=W;break}else a[W-1]===Ie&&(z=W);if(W>B&&a[z-1]!==void 0&&a[z-1]!==Ie)return h.left(O,B,B);O.setSelectionRange(F?M:z,z,"forward")},leftReverse(O,M,z,F){const B=p(O.value.length);let W=Math.max(0,M-1);for(;W>=0;W--)if(B[W-1]===Ie){M=W;break}else if(B[W]===Ie&&(M=W,W===0))break;if(W<0&&B[M]!==void 0&&B[M]!==Ie)return h.rightReverse(O,0,0);M>=0&&O.setSelectionRange(M,F===!0?z:M,"backward")},rightReverse(O,M,z,F){const B=O.value.length,W=p(B),b=W.slice(0,z+1).indexOf(Ie)===-1;let C=Math.min(B,z+1);for(;C<=B;C++)if(W[C-1]===Ie){z=C,z>0&&b===!0&&z--;break}if(C>B&&W[z-1]!==void 0&&W[z-1]!==Ie)return h.leftReverse(O,B,B);O.setSelectionRange(F===!0?M:z,z,"forward")}};function g(O){if(ui(O)===!0)return;const M=r.value,z=M.selectionStart,F=M.selectionEnd;if(O.keyCode===37||O.keyCode===39){const B=h[(O.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];O.preventDefault(),B(M,z,F,O.shiftKey)}else O.keyCode===8&&e.reverseFillMask!==!0&&z===F?h.left(M,z,F,!0):O.keyCode===46&&e.reverseFillMask===!0&&z===F&&h.rightReverse(M,z,F,!0)}function y(O){if(O==null||O==="")return"";if(e.reverseFillMask===!0)return x(O);const M=s;let z=0,F="";for(let B=0;B<M.length;B++){const W=O[z],b=M[B];if(typeof b=="string")F+=b,W===b&&z++;else if(W!==void 0&&b.regex.test(W))F+=b.transform!==void 0?b.transform(W):W,z++;else return F}return F}function x(O){const M=s,z=a.indexOf(Ie);let F=O.length-1,B="";for(let W=M.length-1;W>=0&&F>-1;W--){const b=M[W];let C=O[F];if(typeof b=="string")B=b+B,C===b&&F--;else if(C!==void 0&&b.regex.test(C))do B=(b.transform!==void 0?b.transform(C):C)+B,F--,C=O[F];while(z===W&&C!==void 0&&b.regex.test(C));else return B}return B}function R(O){return typeof O!="string"||o===void 0?typeof O=="number"?o(""+O):O:o(O)}function T(O){return i.length-O.length<=0?O:e.reverseFillMask===!0&&O.length>0?i.slice(0,-O.length)+O:O+i.slice(O.length)}return{innerValue:d,hasMask:f,moveCursorForPaste:S,updateMaskValue:_,onMaskedKeydown:g}}const Xr={name:String};function Mi(e={}){return(t,n,r)=>{t[n](J("input",ce({class:"hidden"+(r||"")},e.value)))}}function Ll(e){return $(()=>e.name||e.for)}function Rl(e,t){function n(){const r=e.modelValue;try{const a="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(r)===r&&("length"in r?Array.from(r):[r]).forEach(i=>{a.items.add(i)}),{files:a.files}}catch{return{files:void 0}}}return t===!0?$(()=>{if(e.type==="file")return n()}):$(n)}const Il=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Pl=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Bl=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/;function zl(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.composing!==!0)return;n.target.composing=!1,e(n)}else n.type==="compositionupdate"?typeof n.data=="string"&&Il.test(n.data)===!1&&Pl.test(n.data)===!1&&Bl.test(n.data)===!1&&(n.target.composing=!1):n.target.composing=!0}}var Ke=Ve({name:"QInput",inheritAttrs:!1,props:Fe(ce(ce(ce({},Cl),Fl),Xr),{modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]}),emits:[...Ol,"paste","change"],setup(e,{emit:t,attrs:n}){const r={};let a=NaN,i,s,o,f;const d=oe(null),m=Ll(e),{innerValue:k,hasMask:p,moveCursorForPaste:c,updateMaskValue:_,onMaskedKeydown:S}=Al(e,t,b,d),h=Rl(e,!0),g=$(()=>Ir(k.value)),y=zl(W),x=Tl(),R=$(()=>e.type==="textarea"||e.autogrow===!0),T=$(()=>R.value===!0||["text","search","url","tel","password"].includes(e.type)),O=$(()=>{const I=Fe(ce({},x.splitAttrs.listeners.value),{onInput:W,onPaste:B,onChange:u,onBlur:N,onFocus:Sa});return I.onCompositionstart=I.onCompositionupdate=I.onCompositionend=y,p.value===!0&&(I.onKeydown=S),e.autogrow===!0&&(I.onAnimationend=C),I}),M=$(()=>{const I=Fe(ce({tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:m.value},x.splitAttrs.attributes.value),{id:x.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0});return R.value===!1&&(I.type=e.type),e.autogrow===!0&&(I.rows=1),I});de(()=>e.type,()=>{d.value&&(d.value.value=e.modelValue)}),de(()=>e.modelValue,I=>{if(p.value===!0){if(s===!0&&(s=!1,String(I)===a))return;_(I)}else k.value!==I&&(k.value=I,e.type==="number"&&r.hasOwnProperty("value")===!0&&(i===!0?i=!1:delete r.value));e.autogrow===!0&&Re(C)}),de(()=>e.autogrow,I=>{I===!0?Re(C):d.value!==null&&n.rows>0&&(d.value.style.height="auto")}),de(()=>e.dense,()=>{e.autogrow===!0&&Re(C)});function z(){Qr(()=>{const I=document.activeElement;d.value!==null&&d.value!==I&&(I===null||I.id!==x.targetUid.value)&&d.value.focus({preventScroll:!0})})}function F(){d.value!==null&&d.value.select()}function B(I){if(p.value===!0&&e.reverseFillMask!==!0){const K=I.target;c(K,K.selectionStart,K.selectionEnd)}t("paste",I)}function W(I){if(!I||!I.target||I.target.composing===!0)return;if(e.type==="file"){t("update:modelValue",I.target.files);return}const K=I.target.value;if(p.value===!0)_(K,!1,I.inputType);else if(b(K),T.value===!0&&I.target===document.activeElement){const{selectionStart:P,selectionEnd:L}=I.target;P!==void 0&&L!==void 0&&Re(()=>{I.target===document.activeElement&&K.indexOf(I.target.value)===0&&I.target.setSelectionRange(P,L)})}e.autogrow===!0&&C()}function b(I,K){f=()=>{e.type!=="number"&&r.hasOwnProperty("value")===!0&&delete r.value,e.modelValue!==I&&a!==I&&(K===!0&&(s=!0),t("update:modelValue",I),Re(()=>{a===I&&(a=NaN)})),f=void 0},e.type==="number"&&(i=!0,r.value=I),e.debounce!==void 0?(clearTimeout(o),r.value=I,o=setTimeout(f,e.debounce)):f()}function C(){const I=d.value;if(I!==null){const K=I.parentNode.style;K.marginBottom=I.scrollHeight-1+"px",I.style.height="1px",I.style.height=I.scrollHeight+"px",K.marginBottom=""}}function u(I){y(I),clearTimeout(o),f!==void 0&&f(),t("change",I.target.value)}function N(I){I!==void 0&&Sa(I),clearTimeout(o),f!==void 0&&f(),i=!1,s=!1,delete r.value,e.type!=="file"&&setTimeout(()=>{d.value!==null&&(d.value.value=k.value!==void 0?k.value:"")})}function ne(){return r.hasOwnProperty("value")===!0?r.value:k.value!==void 0?k.value:""}Ze(()=>{N()}),Mt(()=>{e.autogrow===!0&&C()}),Object.assign(x,{innerValue:k,fieldClass:$(()=>`q-${R.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:$(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length>0),inputRef:d,emitValue:b,hasValue:g,floatingLabel:$(()=>g.value===!0||Ir(e.displayValue)),getControl:()=>J(R.value===!0?"textarea":"input",ce(ce(ce({ref:d,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle},M.value),O.value),e.type!=="file"?{value:ne()}:h.value)),getShadowControl:()=>J("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(R.value===!0?"":" text-no-wrap")},[J("span",{class:"invisible"},ne()),J("span",e.shadowText)])});const A=Dl(x),Q=ze();return Object.assign(Q.proxy,{focus:z,select:F,getNativeElement:()=>d.value}),A}});function Fi(e,t){const n=oe(null),r=$(()=>e.disable!==!0?null:J("span",{ref:n,class:"no-outline",tabindex:-1}));function a(i){const s=t.value;i!==void 0&&i.type.indexOf("key")===0?s!==null&&document.activeElement!==s&&s.contains(document.activeElement)===!0&&s.focus():n.value!==null&&(i===void 0||s!==null&&s.contains(i.target)===!0)&&n.value.focus()}return{refocusTargetEl:r,refocusTarget:a}}var Ai={xs:30,sm:35,md:40,lg:50,xl:60};const Nl=J("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24","aria-hidden":"true"},[J("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),J("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var Ul=Ve({name:"QRadio",props:Fe(ce(ce(ce({},Jt),Wr),Xr),{modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]}),emits:["update:modelValue"],setup(e,{slots:t,emit:n}){const{proxy:r}=ze(),a=en(e,r.$q),i=$r(e,Ai),s=oe(null),{refocusTargetEl:o,refocusTarget:f}=Fi(e,s),d=$(()=>e.modelValue===e.val),m=$(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(a.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),k=$(()=>{const x=e.color!==void 0&&(e.keepColor===!0||d.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${d.value===!0?"truthy":"falsy"}${x}`}),p=$(()=>(d.value===!0?e.checkedIcon:e.uncheckedIcon)||null),c=$(()=>e.disable===!0?-1:e.tabindex||0),_=$(()=>{const x={type:"radio"};return e.name!==void 0&&Object.assign(x,{"^checked":d.value===!0?"checked":void 0,name:e.name,value:e.val}),x}),S=Mi(_);function h(x){x!==void 0&&(at(x),f(x)),e.disable!==!0&&d.value!==!0&&n("update:modelValue",e.val,x)}function g(x){(x.keyCode===13||x.keyCode===32)&&at(x)}function y(x){(x.keyCode===13||x.keyCode===32)&&h(x)}return Object.assign(r,{set:h}),()=>{const x=p.value!==null?[J("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[J(bt,{class:"q-radio__icon",name:p.value})])]:[Nl];e.disable!==!0&&S(x,"unshift"," q-radio__native q-ma-none q-pa-none");const R=[J("div",{class:k.value,style:i.value},x)];o.value!==null&&R.push(o.value);const T=e.label!==void 0?jr(t.default,[e.label]):He(t.default);return T!==void 0&&R.push(J("div",{class:"q-radio__label q-anchor--skip"},T)),J("div",{ref:s,class:m.value,tabindex:c.value,role:"radio","aria-label":e.label,"aria-checked":d.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:h,onKeydown:g,onKeyup:y},R)}}});const Li=Fe(ce(ce(ce({},Jt),Wr),Xr),{modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]}),Ri=["update:modelValue"];function Ii(e,t){const{props:n,slots:r,emit:a,proxy:i}=ze(),{$q:s}=i,o=en(n,s),f=oe(null),{refocusTargetEl:d,refocusTarget:m}=Fi(n,f),k=$r(n,Ai),p=$(()=>n.val!==void 0&&Array.isArray(n.modelValue)),c=$(()=>p.value===!0?n.modelValue.indexOf(n.val):-1),_=$(()=>p.value===!0?c.value>-1:n.modelValue===n.trueValue),S=$(()=>p.value===!0?c.value===-1:n.modelValue===n.falseValue),h=$(()=>_.value===!1&&S.value===!1),g=$(()=>n.disable===!0?-1:n.tabindex||0),y=$(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(n.disable===!0?" disabled":"")+(o.value===!0?` q-${e}--dark`:"")+(n.dense===!0?` q-${e}--dense`:"")+(n.leftLabel===!0?" reverse":"")),x=$(()=>{const b=_.value===!0?"truthy":S.value===!0?"falsy":"indet",C=n.color!==void 0&&(n.keepColor===!0||(e==="toggle"?_.value===!0:S.value!==!0))?` text-${n.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${b}${C}`}),R=$(()=>{const b={type:"checkbox"};return n.name!==void 0&&Object.assign(b,{"^checked":_.value===!0?"checked":void 0,name:n.name,value:p.value===!0?n.val:n.trueValue}),b}),T=Mi(R),O=$(()=>{const b={tabindex:g.value,role:"checkbox","aria-label":n.label,"aria-checked":h.value===!0?"mixed":_.value===!0?"true":"false"};return n.disable===!0&&(b["aria-disabled"]="true"),b});function M(b){b!==void 0&&(at(b),m(b)),n.disable!==!0&&a("update:modelValue",z(),b)}function z(){if(p.value===!0){if(_.value===!0){const b=n.modelValue.slice();return b.splice(c.value,1),b}return n.modelValue.concat([n.val])}if(_.value===!0){if(n.toggleOrder!=="ft"||n.toggleIndeterminate===!1)return n.falseValue}else if(S.value===!0){if(n.toggleOrder==="ft"||n.toggleIndeterminate===!1)return n.trueValue}else return n.toggleOrder!=="ft"?n.trueValue:n.falseValue;return n.indeterminateValue}function F(b){(b.keyCode===13||b.keyCode===32)&&at(b)}function B(b){(b.keyCode===13||b.keyCode===32)&&M(b)}const W=t(_,h);return Object.assign(i,{toggle:M}),()=>{const b=W();n.disable!==!0&&T(b,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const C=[J("div",{class:x.value,style:k.value},b)];d.value!==null&&C.push(d.value);const u=n.label!==void 0?jr(r.default,[n.label]):He(r.default);return u!==void 0&&C.push(J("div",{class:`q-${e}__label q-anchor--skip`},u)),J("div",Fe(ce({ref:f,class:y.value},O.value),{onClick:M,onKeydown:F,onKeyup:B}),C)}}const Yl=J("div",{key:"svg",class:"q-checkbox__bg absolute"},[J("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24","aria-hidden":"true"},[J("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),J("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var Pr=Ve({name:"QCheckbox",props:Li,emits:Ri,setup(e){function t(n,r){const a=$(()=>(n.value===!0?e.checkedIcon:r.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>a.value!==null?[J("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[J(bt,{class:"q-checkbox__icon",name:a.value})])]:[Yl]}return Ii("checkbox",t)}}),ql=Ve({name:"QToggle",props:Fe(ce({},Li),{icon:String,iconColor:String}),emits:Ri,setup(e){function t(n,r){const a=$(()=>(n.value===!0?e.checkedIcon:r.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),i=$(()=>n.value===!0?e.iconColor:null);return()=>[J("div",{class:"q-toggle__track"}),J("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},a.value!==void 0?[J(bt,{name:a.value,color:i.value})]:void 0)]}return Ii("toggle",t)}});const Pi={radio:Ul,checkbox:Pr,toggle:ql},Vl=Object.keys(Pi);var Wl=Ve({name:"QOptionGroup",props:Fe(ce({},Jt),{modelValue:{required:!0},options:{type:Array,validator:e=>e.every(t=>"value"in t&&"label"in t)},name:String,type:{default:"radio",validator:e=>Vl.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean}),emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const{proxy:{$q:r}}=ze(),a=Array.isArray(e.modelValue);e.type==="radio"?a===!0&&console.error("q-option-group: model should not be array"):a===!1&&console.error("q-option-group: model should be array in your case");const i=en(e,r),s=$(()=>Pi[e.type]),o=$(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),f=$(()=>{const m={};return e.type==="radio"&&(m.role="radiogroup",e.disable===!0&&(m["aria-disabled"]="true")),m});function d(m){t("update:modelValue",m)}return()=>J("div",ce({class:o.value},f.value),e.options.map((m,k)=>{const p=n["label-"+k]!==void 0?()=>n["label-"+k](m):n.label!==void 0?()=>n.label(m):void 0;return J("div",[J(s.value,{modelValue:e.modelValue,val:m.value,name:m.name===void 0?e.name:m.name,disable:e.disable||m.disable,label:p===void 0?m.label:null,leftLabel:m.leftLabel===void 0?e.leftLabel:m.leftLabel,color:m.color===void 0?e.color:m.color,checkedIcon:m.checkedIcon,uncheckedIcon:m.uncheckedIcon,dark:m.dark||i.value,size:m.size===void 0?e.size:m.size,dense:e.dense,keepColor:m.keepColor===void 0?e.keepColor:m.keepColor,"onUpdate:modelValue":d},p)])}))}});function $l(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((n,r)=>{const a=parseFloat(n);a&&(t[r]=a)}),t}var jl=si({name:"touch-swipe",beforeMount(e,{value:t,arg:n,modifiers:r}){if(r.mouse!==!0&&Qe.has.touch!==!0)return;const a=r.mouseCapture===!0?"Capture":"",i={handler:t,sensitivity:$l(n),direction:Oa(r),noop:Fr,mouseStart(s){Ta(s,i)&&io(s)&&(Et(i,"temp",[[document,"mousemove","move",`notPassive${a}`],[document,"mouseup","end","notPassiveCapture"]]),i.start(s,!0))},touchStart(s){if(Ta(s,i)){const o=s.target;Et(i,"temp",[[o,"touchmove","move","notPassiveCapture"],[o,"touchcancel","end","notPassiveCapture"],[o,"touchend","end","notPassiveCapture"]]),i.start(s)}},start(s,o){Qe.is.firefox===!0&&vr(e,!0);const f=Ea(s);i.event={x:f.left,y:f.top,time:Date.now(),mouse:o===!0,dir:!1}},move(s){if(i.event===void 0)return;if(i.event.dir!==!1){at(s);return}const o=Date.now()-i.event.time;if(o===0)return;const f=Ea(s),d=f.left-i.event.x,m=Math.abs(d),k=f.top-i.event.y,p=Math.abs(k);if(i.event.mouse!==!0){if(m<i.sensitivity[1]&&p<i.sensitivity[1]){i.end(s);return}}else if(m<i.sensitivity[2]&&p<i.sensitivity[2])return;const c=m/o,_=p/o;i.direction.vertical===!0&&m<p&&m<100&&_>i.sensitivity[0]&&(i.event.dir=k<0?"up":"down"),i.direction.horizontal===!0&&m>p&&p<100&&c>i.sensitivity[0]&&(i.event.dir=d<0?"left":"right"),i.direction.up===!0&&m<p&&k<0&&m<100&&_>i.sensitivity[0]&&(i.event.dir="up"),i.direction.down===!0&&m<p&&k>0&&m<100&&_>i.sensitivity[0]&&(i.event.dir="down"),i.direction.left===!0&&m>p&&d<0&&p<100&&c>i.sensitivity[0]&&(i.event.dir="left"),i.direction.right===!0&&m>p&&d>0&&p<100&&c>i.sensitivity[0]&&(i.event.dir="right"),i.event.dir!==!1?(at(s),i.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Wn(),i.styleCleanup=S=>{i.styleCleanup=void 0,document.body.classList.remove("non-selectable");const h=()=>{document.body.classList.remove("no-pointer-events--children")};S===!0?setTimeout(h,50):h()}),i.handler({evt:s,touch:i.event.mouse!==!0,mouse:i.event.mouse,direction:i.event.dir,duration:o,distance:{x:m,y:p}})):i.end(s)},end(s){i.event!==void 0&&(jt(i,"temp"),Qe.is.firefox===!0&&vr(e,!1),i.styleCleanup!==void 0&&i.styleCleanup(!0),s!==void 0&&i.event.dir!==!1&&at(s),i.event=void 0)}};e.__qtouchswipe=i,r.mouse===!0&&Et(i,"main",[[e,"mousedown","mouseStart",`passive${a}`]]),Qe.has.touch===!0&&Et(i,"main",[[e,"touchstart","touchStart",`passive${r.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchswipe;n!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&n.end(),n.handler=t.value),n.direction=Oa(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(jt(t,"main"),jt(t,"temp"),Qe.is.firefox===!0&&vr(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});function Hl(){const e=new Map;return{getCache:function(t,n){return e[t]===void 0?e[t]=n:e[t]},getCacheWithFn:function(t,n){return e[t]===void 0?e[t]=n():e[t]}}}const Zl={name:{required:!0},disable:Boolean},ei={setup(e,{slots:t}){return()=>J("div",{class:"q-panel scroll",role:"tabpanel"},He(t.default))}},Gl={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Ql=["update:modelValue","before-transition","transition"];function Kl(){const{props:e,emit:t,proxy:n}=ze(),{getCacheWithFn:r}=Hl();let a,i;const s=oe(null),o=oe(null);function f(C){const u=e.vertical===!0?"up":"left";M((n.$q.lang.rtl===!0?-1:1)*(C.direction===u?1:-1))}const d=$(()=>[[jl,f,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),m=$(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),k=$(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),p=$(()=>`--q-transition-duration: ${e.transitionDuration}ms`),c=$(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),_=$(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),S=$(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);de(()=>e.modelValue,(C,u)=>{const N=x(C)===!0?R(C):-1;i!==!0&&O(N===-1?0:N<R(u)?-1:1),s.value!==N&&(s.value=N,t("before-transition",C,u),Re(()=>{t("transition",C,u)}))});function h(){M(1)}function g(){M(-1)}Object.assign(n,{next:h,previous:g,goTo:y});function y(C){t("update:modelValue",C)}function x(C){return C!=null&&C!==""}function R(C){return a.findIndex(u=>u.props.name===C&&u.props.disable!==""&&u.props.disable!==!0)}function T(){return a.filter(C=>C.props.disable!==""&&C.props.disable!==!0)}function O(C){const u=C!==0&&e.animated===!0&&s.value!==-1?"q-transition--"+(C===-1?m.value:k.value):null;o.value!==u&&(o.value=u)}function M(C,u=s.value){let N=u+C;for(;N>-1&&N<a.length;){const ne=a[N];if(ne!==void 0&&ne.props.disable!==""&&ne.props.disable!==!0){O(C),i=!0,t("update:modelValue",ne.props.name),setTimeout(()=>{i=!1});return}N+=C}e.infinite===!0&&a.length>0&&u!==-1&&u!==a.length&&M(C,C===-1?a.length:-1)}function z(){const C=R(e.modelValue);return s.value!==C&&(s.value=C),!0}function F(){const C=x(e.modelValue)===!0&&z()&&a[s.value];return e.keepAlive===!0?[J(so,_.value,[J(S.value===!0?r(c.value,()=>Fe(ce({},ei),{name:c.value})):ei,{key:c.value,style:p.value},()=>C)])]:[J("div",{class:"q-panel scroll",style:p.value,key:c.value,role:"tabpanel"},[C])]}function B(){if(a.length!==0)return e.animated===!0?[J(gn,{name:o.value},F)]:F()}function W(C){return a=oo(He(C.default,[])).filter(u=>u.props!==null&&u.props.slot===void 0&&x(u.props.name)===!0),a.length}function b(){return a}return{panelIndex:s,panelDirectives:d,updatePanelsList:W,updatePanelIndex:z,getPanelContent:B,getEnabledPanels:T,getPanels:b,isValidPanelName:x,keepAliveProps:_,needsUniqueKeepAliveWrapper:S,goToPanelByOffset:M,goToPanel:y,nextPanel:h,previousPanel:g}}var Sr=Ve({name:"QTabPanel",props:Zl,setup(e,{slots:t}){return()=>J("div",{class:"q-tab-panel"},He(t.default))}}),Xl=Ve({name:"QTabPanels",props:ce(ce({},Gl),Jt),emits:Ql,setup(e,{slots:t}){const n=ze(),r=en(e,n.proxy.$q),{updatePanelsList:a,getPanelContent:i,panelDirectives:s}=Kl(),o=$(()=>"q-tab-panels q-panel-parent"+(r.value===!0?" q-tab-panels--dark q-dark":""));return()=>(a(t),Mr("div",{class:o.value},i(),"pan",e.swipeable,()=>s.value))}});const ti=e=>{const t=e.substring(e.lastIndexOf("."));let n="";return n=t===".svg"?"image/svg+xml":n,n=t===".png"?"image/png":n,n=t===".jpg"||t===".jpeg"?"image/jpeg":n,n=t===".gif"?"image/gif":n,n=t===".tif"||t===".tiff"?"image/tiff":n,n},Bi=()=>{const e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),"urn:uuid:"+t.substring(t.lastIndexOf("/")+1)};const Jl=fi({setup(){const e=["basemeta","moremeta","options"];let t=oe("basemeta");const n=pi();let{confoundingImage:r,confoundingXhtml:a,pageCount:i,firstChapter:s,chapterMode:o,firstPage:f}=hi(Oi()),d=oe(null),m=oe("");de(i,()=>{i.value<2&&(i.value=2)}),de(s,()=>{s.value<0&&(s.value=0)});const k=()=>{d.value!==null&&d.value.click()};return Mt(()=>{d.value!==null&&(d.value.onchange=p=>{let c=p.target.files[0];n.cover.name=c.name,n.cover.data=c,m.value=URL.createObjectURL(c)})}),{tab:t,tabs:e,metadata:n,coverBtn:d,inputCover:k,imageUrl:m,getUuid:Bi,confoundingImage:r,confoundingXhtml:a,chapterMode:o,firstChapter:s,pageCount:i,firstPage:f}}}),eu={type:"file",ref:"coverBtn",style:{display:"none"},accept:"image/*"},tu={class:"base-meta"},nu=["src"],ru={key:1},au={class:"q-ma-sm"},iu={class:"q-gutter-y-md",style:{"max-width":"350px"}},su=Ue("div",{class:"q-my-xs text-caption"},"\u6BCF\u4E00\u5F20\u56FE\u7247\u5C31\u662F\u4E00\u7AE0",-1),ou=Ue("div",{class:"q-my-xs text-caption"}," \u8BF7\u7ED9\u6BCF\u8BDD\u7B2C\u4E00\u5F20\u56FE\u7247\u7684\u6587\u4EF6\u540D\u6DFB\u52A0\u6807\u8BB0\uFF08\u652F\u6301\u6B63\u5219\uFF09\uFF0C\u4F8B\u5982\u201C_C\u201D\uFF1Axxx_C.jpg\uFF0Cepub\u4F1A\u81EA\u52A8\u5339\u914D\u6807\u8BB0\u8FDB\u884C\u5206\u7AE0\u3002 ",-1),lu=Kt(" \u8FD9\u672C\u4E66\u5F00\u59CB\u4E8E\u7B2C\u51E0\u8BDD "),uu=Ue("div",{class:"q-my-xs text-caption"},"\u6309\u56FA\u5B9A\u9875\u6570\u5206\u7AE0",-1),du=Ue("div",{class:"q-pa-md"},"\u52FE\u9009\u53EF\u4EE5\u6253\u4E71\u6587\u4EF6\u540D\u79F0\u3002",-1);function cu(e,t,n,r,a,i){return hn(),mn(vi,null,[ue(hl,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=s=>e.tab=s),"inline-label":"",class:"bg-primary text-white shadow-2"},{default:Ee(()=>[ue(kr,{name:"basemeta",label:"\u5143\u6570\u636E"}),ue(kr,{name:"moremeta",label:"\u5206\u7AE0"}),ue(kr,{name:"options",label:"\u9009\u9879"})]),_:1},8,["modelValue"]),Tt(Ue("div",null,[Ue("input",eu,null,512),Ue("section",tu,[Ue("div",{class:"set-cover",onClick:t[1]||(t[1]=(...s)=>e.inputCover&&e.inputCover(...s))},[e.imageUrl?(hn(),mn("img",{key:0,src:e.imageUrl,alt:""},null,8,nu)):(hn(),mn("span",ru,"\u9009\u62E9\u5C01\u9762"))])]),ue(Ke,{outlined:"",modelValue:e.metadata.title,"onUpdate:modelValue":t[2]||(t[2]=s=>e.metadata.title=s),modelModifiers:{lazy:!0},label:"\u4E66\u540D"},null,8,["modelValue"]),ue(Ke,{outlined:"",modelValue:e.metadata.author,"onUpdate:modelValue":t[3]||(t[3]=s=>e.metadata.author=s),modelModifiers:{lazy:!0},label:"\u4F5C\u8005"},null,8,["modelValue"]),ue(Ke,{outlined:"",modelValue:e.metadata.maker,"onUpdate:modelValue":t[4]||(t[4]=s=>e.metadata.maker=s),modelModifiers:{lazy:!0},label:"\u5236\u4F5C\u8005"},null,8,["modelValue"]),ue(Ke,{color:"teal",outlined:"",modelValue:e.metadata.id,"onUpdate:modelValue":t[6]||(t[6]=s=>e.metadata.id=s),label:"id"},{append:Ee(()=>[ue(lo,null,{default:Ee(()=>[ue(St,{icon:"bi-arrow-clockwise","text-color":"primary",onClick:t[5]||(t[5]=s=>e.metadata.id=e.getUuid())})]),_:1})]),_:1},8,["modelValue"]),ue(Ke,{outlined:"",modelValue:e.metadata.sequence,"onUpdate:modelValue":t[7]||(t[7]=s=>e.metadata.sequence=s),modelModifiers:{lazy:!0},label:"\u96C6/\u5377"},null,8,["modelValue"]),ue(Ke,{outlined:"",modelValue:e.metadata.publisher,"onUpdate:modelValue":t[8]||(t[8]=s=>e.metadata.publisher=s),modelModifiers:{lazy:!0},label:"\u51FA\u7248\u5546"},null,8,["modelValue"]),ue(Ke,{outlined:"",modelValue:e.metadata.published,"onUpdate:modelValue":t[9]||(t[9]=s=>e.metadata.published=s),modelModifiers:{lazy:!0},label:"\u51FA\u7248\u65E5\u671F"},null,8,["modelValue"]),ue(Ke,{outlined:"",modelValue:e.metadata.genre,"onUpdate:modelValue":t[10]||(t[10]=s=>e.metadata.genre=s),modelModifiers:{lazy:!0},label:"\u6D41\u6D3E"},null,8,["modelValue"]),ue(Ke,{outlined:"",modelValue:e.metadata.tags,"onUpdate:modelValue":t[11]||(t[11]=s=>e.metadata.tags=s),modelModifiers:{lazy:!0},label:"\u6807\u7B7E"},null,8,["modelValue"]),ue(Ke,{modelValue:e.metadata.description,"onUpdate:modelValue":t[12]||(t[12]=s=>e.metadata.description=s),outlined:"",type:"textarea",label:"\u5185\u5BB9\u7B80\u4ECB"},null,8,["modelValue"])],512),[[pr,e.tab===e.tabs[0]]]),Tt(Ue("div",null,[Ue("div",au,[Ue("div",iu,[ue(Wl,{modelValue:e.chapterMode,"onUpdate:modelValue":t[13]||(t[13]=s=>e.chapterMode=s),inline:"",options:[{label:"\u9ED8\u8BA4",value:"default"},{label:"\u6309\u6807\u8BB0\u5206\u7AE0",value:"mark"},{label:"\u6309\u9875\u6570\u5206\u7AE0",value:"count"}]},null,8,["modelValue"]),ue(Xl,{modelValue:e.chapterMode,"onUpdate:modelValue":t[17]||(t[17]=s=>e.chapterMode=s),animated:"",class:"q-mt-xs"},{default:Ee(()=>[ue(Sr,{name:"default"},{default:Ee(()=>[su]),_:1}),ue(Sr,{name:"mark"},{default:Ee(()=>[ou,ue(Ke,{outlined:"",modelValue:e.firstPage,"onUpdate:modelValue":t[14]||(t[14]=s=>e.firstPage=s),modelModifiers:{lazy:!0},label:"\u8F93\u5165\u8BBE\u7F6E\u7684\u6807\u8BB0"},null,8,["modelValue"]),ue(Ke,{outlined:"",modelValue:e.firstChapter,"onUpdate:modelValue":t[15]||(t[15]=s=>e.firstChapter=s),modelModifiers:{lazy:!0},type:"number",rules:[s=>s>=0],label:"\u5F00\u59CB\u7AE0\u8282"},{default:Ee(()=>[ue(Un,{class:"bg-indigo",offset:[10,10]},{default:Ee(()=>[lu]),_:1})]),_:1},8,["modelValue","rules"])]),_:1}),ue(Sr,{name:"count"},{default:Ee(()=>[uu,ue(Ke,{outlined:"",modelValue:e.pageCount,"onUpdate:modelValue":t[16]||(t[16]=s=>e.pageCount=s),modelModifiers:{lazy:!0},rules:[s=>s>=2],type:"number",label:"\u9875\u6570"},null,8,["modelValue","rules"])]),_:1})]),_:1},8,["modelValue"])])])],512),[[pr,e.tab===e.tabs[1]]]),Tt(Ue("div",null,[ue(Pr,{class:"q-ma-sm",modelValue:e.confoundingImage,"onUpdate:modelValue":t[18]||(t[18]=s=>e.confoundingImage=s),label:"\u6DF7\u6DC6\u56FE\u7247\u540D"},null,8,["modelValue"]),ue(Pr,{class:"q-ma-sm",modelValue:e.confoundingXhtml,"onUpdate:modelValue":t[19]||(t[19]=s=>e.confoundingXhtml=s),label:"\u6DF7\u6DC6xhtml\u540D"},null,8,["modelValue"]),du],512),[[pr,e.tab===e.tabs[2]]])],64)}var fu=mi(Jl,[["render",cu]]);const hu=`       <br/>
<div class="box">
  <h1 class="meg">\u8BF4\u660E</h1>
  <div class="book">
    <p>\u4E66\u3000\u540D\uFF1A[[TITLE]] [[SEQUENCE]]</p>
    <p>\u56FE\u3000\u6587\uFF1A[[AUTHOR]]</p>
    <p>\u5236\u3000\u4F5C\uFF1A[[MAKER]]</p>
  </div>
  <div class="option">
    <p style="text-indent:-4em;duokan-text-indent:-4em;padding-left:4em">\u58F0\u3000\u660E\uFF1A\u6B64EPUB\u6587\u6863\u7531\u8F6F\u4EF6\u81EA\u52A8\u751F\u6210\uFF0C\u4EC5\u4F9B\u6D4B\u8BD5\uFF0C\u7981\u6B62\u4F20\u64AD\u548C\u5546\u7528\u3002</p>
    <p style="text-indent:-4em;duokan-text-indent:-4em;padding-left:4em">\u5730\u3000\u5740\uFF1A<a href="https://taiyuuki.github.io/elepub-web-build/"><span style="color:#fff">https://taiyuuki.github.io/elepub-web-build/</span></a></p>
    <p style="text-indent:-4em;duokan-text-indent:-4em;padding-left:4em">\u9605\u8BFB\u5668\uFF1A\u8BF7\u4F7F\u7528<a href="http://www.duokan.com/product"><span style="color:#fff">\u591A\u770B\u9605\u8BFB</span></a>\uFF0C\u5E76\u5C06\u7FFB\u9875\u6A21\u5F0F\u8BBE\u7F6E\u4E3A\u201C\u4E0A\u4E0B\u7FFB\u9875\u201D\u3002</p>
  </div>
</div>`,mu='*{margin:0;padding:0;text-indent:0;duokan-text-indent:0}body{padding:0;margin:0}p{text-indent:0;duokan-text-indent:0;display:block;line-height:1.3em;margin-top:.6em;margin-bottom:.6em}div{text-indent:0;duokan-text-indent:0;margin:0;padding:0;text-align:justify}img{width:100%}a{text-decoration:none}a:hover{background-color:rgba(0,0,0,0.5)}.box{color:#258;padding:5px;margin:10% -0.25em;border:1px solid #258;background-color:rgba(34,85,136,0.1)}.box p{font-size:.8em}.book{font-family:"\u5FAE\u8F6F\u96C5\u9ED1","\u9ED1\u4F53","ht","sans-serif"}.book p{font-size:1em;text-shadow:1px 1px 1px #fff;text-indent:0;duokan-text-indent:0}.meg{margin:-5px;padding:5px;color:#fff;font-family:"gy","DK-FANGSONG","fs","fangsong","\u4EFF\u5B8B";font-weight:bold;font-size:1.2em;text-indent:0;duokan-text-indent:0;text-align:center;line-height:120%;background-color:#258}.option{font-family:"gy","DK-FANGSONG","fs","fangsong","\u4EFF\u5B8B";font-size:1em;font-weight:bold;margin:-5px;padding:5px;line-height:120%;background-color:rgba(34,85,136,0.8);color:#fff}';//! moment.js
//! version : 2.29.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var zi;function re(){return zi.apply(null,arguments)}function vu(e){zi=e}function it(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function zt(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function ye(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Jr(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(ye(e,t))return!1;return!0}function Ge(e){return e===void 0}function wt(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Sn(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Ni(e,t){var n=[],r;for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function Ct(e,t){for(var n in t)ye(t,n)&&(e[n]=t[n]);return ye(t,"toString")&&(e.toString=t.toString),ye(t,"valueOf")&&(e.valueOf=t.valueOf),e}function ft(e,t,n,r){return us(e,t,n,r,!0).utc()}function pu(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function he(e){return e._pf==null&&(e._pf=pu()),e._pf}var Br;Array.prototype.some?Br=Array.prototype.some:Br=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function ea(e){if(e._isValid==null){var t=he(e),n=Br.call(t.parsedDateParts,function(a){return a!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function nr(e){var t=ft(NaN);return e!=null?Ct(he(t),e):he(t).userInvalidated=!0,t}var Er=re.momentProperties=[],Cr=!1;function ta(e,t){var n,r,a;if(Ge(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Ge(t._i)||(e._i=t._i),Ge(t._f)||(e._f=t._f),Ge(t._l)||(e._l=t._l),Ge(t._strict)||(e._strict=t._strict),Ge(t._tzm)||(e._tzm=t._tzm),Ge(t._isUTC)||(e._isUTC=t._isUTC),Ge(t._offset)||(e._offset=t._offset),Ge(t._pf)||(e._pf=he(t)),Ge(t._locale)||(e._locale=t._locale),Er.length>0)for(n=0;n<Er.length;n++)r=Er[n],a=t[r],Ge(a)||(e[r]=a);return e}function En(e){ta(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Cr===!1&&(Cr=!0,re.updateOffset(this),Cr=!1)}function st(e){return e instanceof En||e!=null&&e._isAMomentObject!=null}function Ui(e){re.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function tt(e,t){var n=!0;return Ct(function(){if(re.deprecationHandler!=null&&re.deprecationHandler(null,e),n){var r=[],a,i,s;for(i=0;i<arguments.length;i++){if(a="",typeof arguments[i]=="object"){a+=`
[`+i+"] ";for(s in arguments[0])ye(arguments[0],s)&&(a+=s+": "+arguments[0][s]+", ");a=a.slice(0,-2)}else a=arguments[i];r.push(a)}Ui(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var ni={};function Yi(e,t){re.deprecationHandler!=null&&re.deprecationHandler(e,t),ni[e]||(Ui(t),ni[e]=!0)}re.suppressDeprecationWarnings=!1;re.deprecationHandler=null;function ht(e){return typeof Function!="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function gu(e){var t,n;for(n in e)ye(e,n)&&(t=e[n],ht(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function zr(e,t){var n=Ct({},e),r;for(r in t)ye(t,r)&&(zt(e[r])&&zt(t[r])?(n[r]={},Ct(n[r],e[r]),Ct(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)ye(e,r)&&!ye(t,r)&&zt(e[r])&&(n[r]=Ct({},n[r]));return n}function na(e){e!=null&&this.set(e)}var Nr;Object.keys?Nr=Object.keys:Nr=function(e){var t,n=[];for(t in e)ye(e,t)&&n.push(t);return n};var yu={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function _u(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return ht(r)?r.call(t,n):r}function ct(e,t,n){var r=""+Math.abs(e),a=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}var ra=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Pn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Or={},Zt={};function le(e,t,n,r){var a=r;typeof r=="string"&&(a=function(){return this[r]()}),e&&(Zt[e]=a),t&&(Zt[t[0]]=function(){return ct(a.apply(this,arguments),t[1],t[2])}),n&&(Zt[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function bu(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function wu(e){var t=e.match(ra),n,r;for(n=0,r=t.length;n<r;n++)Zt[t[n]]?t[n]=Zt[t[n]]:t[n]=bu(t[n]);return function(a){var i="",s;for(s=0;s<r;s++)i+=ht(t[s])?t[s].call(a,e):t[s];return i}}function Yn(e,t){return e.isValid()?(t=qi(t,e.localeData()),Or[t]=Or[t]||wu(t),Or[t](e)):e.localeData().invalidDate()}function qi(e,t){var n=5;function r(a){return t.longDateFormat(a)||a}for(Pn.lastIndex=0;n>=0&&Pn.test(e);)e=e.replace(Pn,r),Pn.lastIndex=0,n-=1;return e}var ku={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function xu(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(ra).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var Su="Invalid date";function Eu(){return this._invalidDate}var Cu="%d",Ou=/\d{1,2}/;function Tu(e){return this._ordinal.replace("%d",e)}var Du={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Mu(e,t,n,r){var a=this._relativeTime[n];return ht(a)?a(e,t,n,r):a.replace(/%d/i,e)}function Fu(e,t){var n=this._relativeTime[e>0?"future":"past"];return ht(n)?n(t):n.replace(/%s/i,t)}var vn={};function We(e,t){var n=e.toLowerCase();vn[n]=vn[n+"s"]=vn[t]=e}function nt(e){return typeof e=="string"?vn[e]||vn[e.toLowerCase()]:void 0}function aa(e){var t={},n,r;for(r in e)ye(e,r)&&(n=nt(r),n&&(t[n]=e[r]));return t}var Vi={};function $e(e,t){Vi[e]=t}function Au(e){var t=[],n;for(n in e)ye(e,n)&&t.push({unit:n,priority:Vi[n]});return t.sort(function(r,a){return r.priority-a.priority}),t}function rr(e){return e%4===0&&e%100!==0||e%400===0}function et(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ve(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=et(t)),n}function tn(e,t){return function(n){return n!=null?(Wi(this,e,n),re.updateOffset(this,t),this):Zn(this,e)}}function Zn(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Wi(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&rr(e.year())&&e.month()===1&&e.date()===29?(n=ve(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ur(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Lu(e){return e=nt(e),ht(this[e])?this[e]():this}function Ru(e,t){if(typeof e=="object"){e=aa(e);var n=Au(e),r;for(r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=nt(e),ht(this[e]))return this[e](t);return this}var $i=/\d/,Je=/\d\d/,ji=/\d{3}/,ia=/\d{4}/,ar=/[+-]?\d{6}/,De=/\d\d?/,Hi=/\d\d\d\d?/,Zi=/\d\d\d\d\d\d?/,ir=/\d{1,3}/,sa=/\d{1,4}/,sr=/[+-]?\d{1,6}/,nn=/\d+/,or=/[+-]?\d+/,Iu=/Z|[+-]\d\d:?\d\d/gi,lr=/Z|[+-]\d\d(?::?\d\d)?/gi,Pu=/[+-]?\d+(\.\d{1,3})?/,Cn=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Gn;Gn={};function ae(e,t,n){Gn[e]=ht(t)?t:function(r,a){return r&&n?n:t}}function Bu(e,t){return ye(Gn,e)?Gn[e](t._strict,t._locale):new RegExp(zu(e))}function zu(e){return Xe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,a,i){return n||r||a||i}))}function Xe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Ur={};function Ce(e,t){var n,r=t;for(typeof e=="string"&&(e=[e]),wt(t)&&(r=function(a,i){i[t]=ve(a)}),n=0;n<e.length;n++)Ur[e[n]]=r}function On(e,t){Ce(e,function(n,r,a,i){a._w=a._w||{},t(n,a._w,a,i)})}function Nu(e,t,n){t!=null&&ye(Ur,e)&&Ur[e](t,n._a,n,e)}var qe=0,gt=1,dt=2,Be=3,rt=4,yt=5,Rt=6,Uu=7,Yu=8;function qu(e,t){return(e%t+t)%t}var Le;Array.prototype.indexOf?Le=Array.prototype.indexOf:Le=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function ur(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=qu(t,12);return e+=(t-n)/12,n===1?rr(e)?29:28:31-n%7%2}le("M",["MM",2],"Mo",function(){return this.month()+1});le("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});le("MMMM",0,0,function(e){return this.localeData().months(this,e)});We("month","M");$e("month",8);ae("M",De);ae("MM",De,Je);ae("MMM",function(e,t){return t.monthsShortRegex(e)});ae("MMMM",function(e,t){return t.monthsRegex(e)});Ce(["M","MM"],function(e,t){t[gt]=ve(e)-1});Ce(["MMM","MMMM"],function(e,t,n,r){var a=n._locale.monthsParse(e,r,n._strict);a!=null?t[gt]=a:he(n).invalidMonth=e});var Vu="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Gi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Qi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Wu=Cn,$u=Cn;function ju(e,t){return e?it(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Qi).test(t)?"format":"standalone"][e.month()]:it(this._months)?this._months:this._months.standalone}function Hu(e,t){return e?it(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Qi.test(t)?"format":"standalone"][e.month()]:it(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Zu(e,t,n){var r,a,i,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=ft([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(a=Le.call(this._shortMonthsParse,s),a!==-1?a:null):(a=Le.call(this._longMonthsParse,s),a!==-1?a:null):t==="MMM"?(a=Le.call(this._shortMonthsParse,s),a!==-1?a:(a=Le.call(this._longMonthsParse,s),a!==-1?a:null)):(a=Le.call(this._longMonthsParse,s),a!==-1?a:(a=Le.call(this._shortMonthsParse,s),a!==-1?a:null))}function Gu(e,t,n){var r,a,i;if(this._monthsParseExact)return Zu.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=ft([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function Ki(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=ve(t);else if(t=e.localeData().monthsParse(t),!wt(t))return e}return n=Math.min(e.date(),ur(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Xi(e){return e!=null?(Ki(this,e),re.updateOffset(this,!0),this):Zn(this,"Month")}function Qu(){return ur(this.year(),this.month())}function Ku(e){return this._monthsParseExact?(ye(this,"_monthsRegex")||Ji.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ye(this,"_monthsShortRegex")||(this._monthsShortRegex=Wu),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Xu(e){return this._monthsParseExact?(ye(this,"_monthsRegex")||Ji.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ye(this,"_monthsRegex")||(this._monthsRegex=$u),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Ji(){function e(s,o){return o.length-s.length}var t=[],n=[],r=[],a,i;for(a=0;a<12;a++)i=ft([2e3,a]),t.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(t.sort(e),n.sort(e),r.sort(e),a=0;a<12;a++)t[a]=Xe(t[a]),n[a]=Xe(n[a]);for(a=0;a<24;a++)r[a]=Xe(r[a]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}le("Y",0,0,function(){var e=this.year();return e<=9999?ct(e,4):"+"+e});le(0,["YY",2],0,function(){return this.year()%100});le(0,["YYYY",4],0,"year");le(0,["YYYYY",5],0,"year");le(0,["YYYYYY",6,!0],0,"year");We("year","y");$e("year",1);ae("Y",or);ae("YY",De,Je);ae("YYYY",sa,ia);ae("YYYYY",sr,ar);ae("YYYYYY",sr,ar);Ce(["YYYYY","YYYYYY"],qe);Ce("YYYY",function(e,t){t[qe]=e.length===2?re.parseTwoDigitYear(e):ve(e)});Ce("YY",function(e,t){t[qe]=re.parseTwoDigitYear(e)});Ce("Y",function(e,t){t[qe]=parseInt(e,10)});function pn(e){return rr(e)?366:365}re.parseTwoDigitYear=function(e){return ve(e)+(ve(e)>68?1900:2e3)};var es=tn("FullYear",!0);function Ju(){return rr(this.year())}function ed(e,t,n,r,a,i,s){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,r,a,i,s),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,r,a,i,s),o}function bn(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Qn(e,t,n){var r=7+t-n,a=(7+bn(e,0,r).getUTCDay()-t)%7;return-a+r-1}function ts(e,t,n,r,a){var i=(7+n-r)%7,s=Qn(e,r,a),o=1+7*(t-1)+i+s,f,d;return o<=0?(f=e-1,d=pn(f)+o):o>pn(e)?(f=e+1,d=o-pn(e)):(f=e,d=o),{year:f,dayOfYear:d}}function wn(e,t,n){var r=Qn(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1,i,s;return a<1?(s=e.year()-1,i=a+_t(s,t,n)):a>_t(e.year(),t,n)?(i=a-_t(e.year(),t,n),s=e.year()+1):(s=e.year(),i=a),{week:i,year:s}}function _t(e,t,n){var r=Qn(e,t,n),a=Qn(e+1,t,n);return(pn(e)-r+a)/7}le("w",["ww",2],"wo","week");le("W",["WW",2],"Wo","isoWeek");We("week","w");We("isoWeek","W");$e("week",5);$e("isoWeek",5);ae("w",De);ae("ww",De,Je);ae("W",De);ae("WW",De,Je);On(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=ve(e)});function td(e){return wn(e,this._week.dow,this._week.doy).week}var nd={dow:0,doy:6};function rd(){return this._week.dow}function ad(){return this._week.doy}function id(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function sd(e){var t=wn(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}le("d",0,"do","day");le("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});le("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});le("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});le("e",0,0,"weekday");le("E",0,0,"isoWeekday");We("day","d");We("weekday","e");We("isoWeekday","E");$e("day",11);$e("weekday",11);$e("isoWeekday",11);ae("d",De);ae("e",De);ae("E",De);ae("dd",function(e,t){return t.weekdaysMinRegex(e)});ae("ddd",function(e,t){return t.weekdaysShortRegex(e)});ae("dddd",function(e,t){return t.weekdaysRegex(e)});On(["dd","ddd","dddd"],function(e,t,n,r){var a=n._locale.weekdaysParse(e,r,n._strict);a!=null?t.d=a:he(n).invalidWeekday=e});On(["d","e","E"],function(e,t,n,r){t[r]=ve(e)});function od(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function ld(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function oa(e,t){return e.slice(t,7).concat(e.slice(0,t))}var ud="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ns="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),dd="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),cd=Cn,fd=Cn,hd=Cn;function md(e,t){var n=it(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?oa(n,this._week.dow):e?n[e.day()]:n}function vd(e){return e===!0?oa(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function pd(e){return e===!0?oa(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function gd(e,t,n){var r,a,i,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=ft([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(a=Le.call(this._weekdaysParse,s),a!==-1?a:null):t==="ddd"?(a=Le.call(this._shortWeekdaysParse,s),a!==-1?a:null):(a=Le.call(this._minWeekdaysParse,s),a!==-1?a:null):t==="dddd"?(a=Le.call(this._weekdaysParse,s),a!==-1||(a=Le.call(this._shortWeekdaysParse,s),a!==-1)?a:(a=Le.call(this._minWeekdaysParse,s),a!==-1?a:null)):t==="ddd"?(a=Le.call(this._shortWeekdaysParse,s),a!==-1||(a=Le.call(this._weekdaysParse,s),a!==-1)?a:(a=Le.call(this._minWeekdaysParse,s),a!==-1?a:null)):(a=Le.call(this._minWeekdaysParse,s),a!==-1||(a=Le.call(this._weekdaysParse,s),a!==-1)?a:(a=Le.call(this._shortWeekdaysParse,s),a!==-1?a:null))}function yd(e,t,n){var r,a,i;if(this._weekdaysParseExact)return gd.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=ft([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function _d(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=od(e,this.localeData()),this.add(e-t,"d")):t}function bd(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function wd(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=ld(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function kd(e){return this._weekdaysParseExact?(ye(this,"_weekdaysRegex")||la.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ye(this,"_weekdaysRegex")||(this._weekdaysRegex=cd),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function xd(e){return this._weekdaysParseExact?(ye(this,"_weekdaysRegex")||la.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ye(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=fd),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Sd(e){return this._weekdaysParseExact?(ye(this,"_weekdaysRegex")||la.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ye(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=hd),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function la(){function e(m,k){return k.length-m.length}var t=[],n=[],r=[],a=[],i,s,o,f,d;for(i=0;i<7;i++)s=ft([2e3,1]).day(i),o=Xe(this.weekdaysMin(s,"")),f=Xe(this.weekdaysShort(s,"")),d=Xe(this.weekdays(s,"")),t.push(o),n.push(f),r.push(d),a.push(o),a.push(f),a.push(d);t.sort(e),n.sort(e),r.sort(e),a.sort(e),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function ua(){return this.hours()%12||12}function Ed(){return this.hours()||24}le("H",["HH",2],0,"hour");le("h",["hh",2],0,ua);le("k",["kk",2],0,Ed);le("hmm",0,0,function(){return""+ua.apply(this)+ct(this.minutes(),2)});le("hmmss",0,0,function(){return""+ua.apply(this)+ct(this.minutes(),2)+ct(this.seconds(),2)});le("Hmm",0,0,function(){return""+this.hours()+ct(this.minutes(),2)});le("Hmmss",0,0,function(){return""+this.hours()+ct(this.minutes(),2)+ct(this.seconds(),2)});function rs(e,t){le(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}rs("a",!0);rs("A",!1);We("hour","h");$e("hour",13);function as(e,t){return t._meridiemParse}ae("a",as);ae("A",as);ae("H",De);ae("h",De);ae("k",De);ae("HH",De,Je);ae("hh",De,Je);ae("kk",De,Je);ae("hmm",Hi);ae("hmmss",Zi);ae("Hmm",Hi);ae("Hmmss",Zi);Ce(["H","HH"],Be);Ce(["k","kk"],function(e,t,n){var r=ve(e);t[Be]=r===24?0:r});Ce(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Ce(["h","hh"],function(e,t,n){t[Be]=ve(e),he(n).bigHour=!0});Ce("hmm",function(e,t,n){var r=e.length-2;t[Be]=ve(e.substr(0,r)),t[rt]=ve(e.substr(r)),he(n).bigHour=!0});Ce("hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[Be]=ve(e.substr(0,r)),t[rt]=ve(e.substr(r,2)),t[yt]=ve(e.substr(a)),he(n).bigHour=!0});Ce("Hmm",function(e,t,n){var r=e.length-2;t[Be]=ve(e.substr(0,r)),t[rt]=ve(e.substr(r))});Ce("Hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[Be]=ve(e.substr(0,r)),t[rt]=ve(e.substr(r,2)),t[yt]=ve(e.substr(a))});function Cd(e){return(e+"").toLowerCase().charAt(0)==="p"}var Od=/[ap]\.?m?\.?/i,Td=tn("Hours",!0);function Dd(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var is={calendar:yu,longDateFormat:ku,invalidDate:Su,ordinal:Cu,dayOfMonthOrdinalParse:Ou,relativeTime:Du,months:Vu,monthsShort:Gi,week:nd,weekdays:ud,weekdaysMin:dd,weekdaysShort:ns,meridiemParse:Od},Me={},ln={},kn;function Md(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function ri(e){return e&&e.toLowerCase().replace("_","-")}function Fd(e){for(var t=0,n,r,a,i;t<e.length;){for(i=ri(e[t]).split("-"),n=i.length,r=ri(e[t+1]),r=r?r.split("-"):null;n>0;){if(a=dr(i.slice(0,n).join("-")),a)return a;if(r&&r.length>=n&&Md(i,r)>=n-1)break;n--}t++}return kn}function dr(e){var t=null,n;if(Me[e]===void 0&&typeof module!="undefined"&&module&&module.exports)try{t=kn._abbr,n=require,n("./locale/"+e),Dt(t)}catch{Me[e]=null}return Me[e]}function Dt(e,t){var n;return e&&(Ge(t)?n=kt(e):n=da(e,t),n?kn=n:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),kn._abbr}function da(e,t){if(t!==null){var n,r=is;if(t.abbr=e,Me[e]!=null)Yi("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Me[e]._config;else if(t.parentLocale!=null)if(Me[t.parentLocale]!=null)r=Me[t.parentLocale]._config;else if(n=dr(t.parentLocale),n!=null)r=n._config;else return ln[t.parentLocale]||(ln[t.parentLocale]=[]),ln[t.parentLocale].push({name:e,config:t}),null;return Me[e]=new na(zr(r,t)),ln[e]&&ln[e].forEach(function(a){da(a.name,a.config)}),Dt(e),Me[e]}else return delete Me[e],null}function Ad(e,t){if(t!=null){var n,r,a=is;Me[e]!=null&&Me[e].parentLocale!=null?Me[e].set(zr(Me[e]._config,t)):(r=dr(e),r!=null&&(a=r._config),t=zr(a,t),r==null&&(t.abbr=e),n=new na(t),n.parentLocale=Me[e],Me[e]=n),Dt(e)}else Me[e]!=null&&(Me[e].parentLocale!=null?(Me[e]=Me[e].parentLocale,e===Dt()&&Dt(e)):Me[e]!=null&&delete Me[e]);return Me[e]}function kt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return kn;if(!it(e)){if(t=dr(e),t)return t;e=[e]}return Fd(e)}function Ld(){return Nr(Me)}function ca(e){var t,n=e._a;return n&&he(e).overflow===-2&&(t=n[gt]<0||n[gt]>11?gt:n[dt]<1||n[dt]>ur(n[qe],n[gt])?dt:n[Be]<0||n[Be]>24||n[Be]===24&&(n[rt]!==0||n[yt]!==0||n[Rt]!==0)?Be:n[rt]<0||n[rt]>59?rt:n[yt]<0||n[yt]>59?yt:n[Rt]<0||n[Rt]>999?Rt:-1,he(e)._overflowDayOfYear&&(t<qe||t>dt)&&(t=dt),he(e)._overflowWeeks&&t===-1&&(t=Uu),he(e)._overflowWeekday&&t===-1&&(t=Yu),he(e).overflow=t),e}var Rd=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Id=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Pd=/Z|[+-]\d\d(?::?\d\d)?/,Bn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Tr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Bd=/^\/?Date\((-?\d+)/i,zd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Nd={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ss(e){var t,n,r=e._i,a=Rd.exec(r)||Id.exec(r),i,s,o,f;if(a){for(he(e).iso=!0,t=0,n=Bn.length;t<n;t++)if(Bn[t][1].exec(a[1])){s=Bn[t][0],i=Bn[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(a[3]){for(t=0,n=Tr.length;t<n;t++)if(Tr[t][1].exec(a[3])){o=(a[2]||" ")+Tr[t][0];break}if(o==null){e._isValid=!1;return}}if(!i&&o!=null){e._isValid=!1;return}if(a[4])if(Pd.exec(a[4]))f="Z";else{e._isValid=!1;return}e._f=s+(o||"")+(f||""),ha(e)}else e._isValid=!1}function Ud(e,t,n,r,a,i){var s=[Yd(e),Gi.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(a,10)];return i&&s.push(parseInt(i,10)),s}function Yd(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function qd(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Vd(e,t,n){if(e){var r=ns.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(r!==a)return he(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Wd(e,t,n){if(e)return Nd[e];if(t)return 0;var r=parseInt(n,10),a=r%100,i=(r-a)/100;return i*60+a}function os(e){var t=zd.exec(qd(e._i)),n;if(t){if(n=Ud(t[4],t[3],t[2],t[5],t[6],t[7]),!Vd(t[1],n,e))return;e._a=n,e._tzm=Wd(t[8],t[9],t[10]),e._d=bn.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),he(e).rfc2822=!0}else e._isValid=!1}function $d(e){var t=Bd.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(ss(e),e._isValid===!1)delete e._isValid;else return;if(os(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:re.createFromInputFallback(e)}re.createFromInputFallback=tt("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function qt(e,t,n){return e!=null?e:t!=null?t:n}function jd(e){var t=new Date(re.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function fa(e){var t,n,r=[],a,i,s;if(!e._d){for(a=jd(e),e._w&&e._a[dt]==null&&e._a[gt]==null&&Hd(e),e._dayOfYear!=null&&(s=qt(e._a[qe],a[qe]),(e._dayOfYear>pn(s)||e._dayOfYear===0)&&(he(e)._overflowDayOfYear=!0),n=bn(s,0,e._dayOfYear),e._a[gt]=n.getUTCMonth(),e._a[dt]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=a[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Be]===24&&e._a[rt]===0&&e._a[yt]===0&&e._a[Rt]===0&&(e._nextDay=!0,e._a[Be]=0),e._d=(e._useUTC?bn:ed).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Be]=24),e._w&&typeof e._w.d!="undefined"&&e._w.d!==i&&(he(e).weekdayMismatch=!0)}}function Hd(e){var t,n,r,a,i,s,o,f,d;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,s=4,n=qt(t.GG,e._a[qe],wn(Te(),1,4).year),r=qt(t.W,1),a=qt(t.E,1),(a<1||a>7)&&(f=!0)):(i=e._locale._week.dow,s=e._locale._week.doy,d=wn(Te(),i,s),n=qt(t.gg,e._a[qe],d.year),r=qt(t.w,d.week),t.d!=null?(a=t.d,(a<0||a>6)&&(f=!0)):t.e!=null?(a=t.e+i,(t.e<0||t.e>6)&&(f=!0)):a=i),r<1||r>_t(n,i,s)?he(e)._overflowWeeks=!0:f!=null?he(e)._overflowWeekday=!0:(o=ts(n,r,a,i,s),e._a[qe]=o.year,e._dayOfYear=o.dayOfYear)}re.ISO_8601=function(){};re.RFC_2822=function(){};function ha(e){if(e._f===re.ISO_8601){ss(e);return}if(e._f===re.RFC_2822){os(e);return}e._a=[],he(e).empty=!0;var t=""+e._i,n,r,a,i,s,o=t.length,f=0,d;for(a=qi(e._f,e._locale).match(ra)||[],n=0;n<a.length;n++)i=a[n],r=(t.match(Bu(i,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&he(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),f+=r.length),Zt[i]?(r?he(e).empty=!1:he(e).unusedTokens.push(i),Nu(i,r,e)):e._strict&&!r&&he(e).unusedTokens.push(i);he(e).charsLeftOver=o-f,t.length>0&&he(e).unusedInput.push(t),e._a[Be]<=12&&he(e).bigHour===!0&&e._a[Be]>0&&(he(e).bigHour=void 0),he(e).parsedDateParts=e._a.slice(0),he(e).meridiem=e._meridiem,e._a[Be]=Zd(e._locale,e._a[Be],e._meridiem),d=he(e).era,d!==null&&(e._a[qe]=e._locale.erasConvertYear(d,e._a[qe])),fa(e),ca(e)}function Zd(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function Gd(e){var t,n,r,a,i,s,o=!1;if(e._f.length===0){he(e).invalidFormat=!0,e._d=new Date(NaN);return}for(a=0;a<e._f.length;a++)i=0,s=!1,t=ta({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[a],ha(t),ea(t)&&(s=!0),i+=he(t).charsLeftOver,i+=he(t).unusedTokens.length*10,he(t).score=i,o?i<r&&(r=i,n=t):(r==null||i<r||s)&&(r=i,n=t,s&&(o=!0));Ct(e,n||t)}function Qd(e){if(!e._d){var t=aa(e._i),n=t.day===void 0?t.date:t.day;e._a=Ni([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),fa(e)}}function Kd(e){var t=new En(ca(ls(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function ls(e){var t=e._i,n=e._f;return e._locale=e._locale||kt(e._l),t===null||n===void 0&&t===""?nr({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),st(t)?new En(ca(t)):(Sn(t)?e._d=t:it(n)?Gd(e):n?ha(e):Xd(e),ea(e)||(e._d=null),e))}function Xd(e){var t=e._i;Ge(t)?e._d=new Date(re.now()):Sn(t)?e._d=new Date(t.valueOf()):typeof t=="string"?$d(e):it(t)?(e._a=Ni(t.slice(0),function(n){return parseInt(n,10)}),fa(e)):zt(t)?Qd(e):wt(t)?e._d=new Date(t):re.createFromInputFallback(e)}function us(e,t,n,r,a){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(zt(e)&&Jr(e)||it(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=a,i._l=n,i._i=e,i._f=t,i._strict=r,Kd(i)}function Te(e,t,n,r){return us(e,t,n,r,!1)}var Jd=tt("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Te.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:nr()}),ec=tt("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Te.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:nr()});function ds(e,t){var n,r;if(t.length===1&&it(t[0])&&(t=t[0]),!t.length)return Te();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function tc(){var e=[].slice.call(arguments,0);return ds("isBefore",e)}function nc(){var e=[].slice.call(arguments,0);return ds("isAfter",e)}var rc=function(){return Date.now?Date.now():+new Date},un=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ac(e){var t,n=!1,r;for(t in e)if(ye(e,t)&&!(Le.call(un,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<un.length;++r)if(e[un[r]]){if(n)return!1;parseFloat(e[un[r]])!==ve(e[un[r]])&&(n=!0)}return!0}function ic(){return this._isValid}function sc(){return ot(NaN)}function cr(e){var t=aa(e),n=t.year||0,r=t.quarter||0,a=t.month||0,i=t.week||t.isoWeek||0,s=t.day||0,o=t.hour||0,f=t.minute||0,d=t.second||0,m=t.millisecond||0;this._isValid=ac(t),this._milliseconds=+m+d*1e3+f*6e4+o*1e3*60*60,this._days=+s+i*7,this._months=+a+r*3+n*12,this._data={},this._locale=kt(),this._bubble()}function qn(e){return e instanceof cr}function Yr(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function oc(e,t,n){var r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),i=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&ve(e[s])!==ve(t[s]))&&i++;return i+a}function cs(e,t){le(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+ct(~~(n/60),2)+t+ct(~~n%60,2)})}cs("Z",":");cs("ZZ","");ae("Z",lr);ae("ZZ",lr);Ce(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=ma(lr,e)});var lc=/([\+\-]|\d\d)/gi;function ma(e,t){var n=(t||"").match(e),r,a,i;return n===null?null:(r=n[n.length-1]||[],a=(r+"").match(lc)||["-",0,0],i=+(a[1]*60)+ve(a[2]),i===0?0:a[0]==="+"?i:-i)}function va(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(st(e)||Sn(e)?e.valueOf():Te(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),re.updateOffset(n,!1),n):Te(e).local()}function qr(e){return-Math.round(e._d.getTimezoneOffset())}re.updateOffset=function(){};function uc(e,t,n){var r=this._offset||0,a;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=ma(lr,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(a=qr(this)),this._offset=e,this._isUTC=!0,a!=null&&this.add(a,"m"),r!==e&&(!t||this._changeInProgress?ms(this,ot(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,re.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:qr(this)}function dc(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function cc(e){return this.utcOffset(0,e)}function fc(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(qr(this),"m")),this}function hc(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=ma(Iu,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function mc(e){return this.isValid()?(e=e?Te(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function vc(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function pc(){if(!Ge(this._isDSTShifted))return this._isDSTShifted;var e={},t;return ta(e,this),e=ls(e),e._a?(t=e._isUTC?ft(e._a):Te(e._a),this._isDSTShifted=this.isValid()&&oc(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function gc(){return this.isValid()?!this._isUTC:!1}function yc(){return this.isValid()?this._isUTC:!1}function fs(){return this.isValid()?this._isUTC&&this._offset===0:!1}var _c=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,bc=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ot(e,t){var n=e,r=null,a,i,s;return qn(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:wt(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=_c.exec(e))?(a=r[1]==="-"?-1:1,n={y:0,d:ve(r[dt])*a,h:ve(r[Be])*a,m:ve(r[rt])*a,s:ve(r[yt])*a,ms:ve(Yr(r[Rt]*1e3))*a}):(r=bc.exec(e))?(a=r[1]==="-"?-1:1,n={y:Ft(r[2],a),M:Ft(r[3],a),w:Ft(r[4],a),d:Ft(r[5],a),h:Ft(r[6],a),m:Ft(r[7],a),s:Ft(r[8],a)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=wc(Te(n.from),Te(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),i=new cr(n),qn(e)&&ye(e,"_locale")&&(i._locale=e._locale),qn(e)&&ye(e,"_isValid")&&(i._isValid=e._isValid),i}ot.fn=cr.prototype;ot.invalid=sc;function Ft(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function ai(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function wc(e,t){var n;return e.isValid()&&t.isValid()?(t=va(t,e),e.isBefore(t)?n=ai(e,t):(n=ai(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function hs(e,t){return function(n,r){var a,i;return r!==null&&!isNaN(+r)&&(Yi(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),a=ot(n,r),ms(this,a,e),this}}function ms(e,t,n,r){var a=t._milliseconds,i=Yr(t._days),s=Yr(t._months);!e.isValid()||(r=r==null?!0:r,s&&Ki(e,Zn(e,"Month")+s*n),i&&Wi(e,"Date",Zn(e,"Date")+i*n),a&&e._d.setTime(e._d.valueOf()+a*n),r&&re.updateOffset(e,i||s))}var kc=hs(1,"add"),xc=hs(-1,"subtract");function vs(e){return typeof e=="string"||e instanceof String}function Sc(e){return st(e)||Sn(e)||vs(e)||wt(e)||Cc(e)||Ec(e)||e===null||e===void 0}function Ec(e){var t=zt(e)&&!Jr(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,i;for(a=0;a<r.length;a+=1)i=r[a],n=n||ye(e,i);return t&&n}function Cc(e){var t=it(e),n=!1;return t&&(n=e.filter(function(r){return!wt(r)&&vs(e)}).length===0),t&&n}function Oc(e){var t=zt(e)&&!Jr(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,i;for(a=0;a<r.length;a+=1)i=r[a],n=n||ye(e,i);return t&&n}function Tc(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Dc(e,t){arguments.length===1&&(arguments[0]?Sc(arguments[0])?(e=arguments[0],t=void 0):Oc(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Te(),r=va(n,this).startOf("day"),a=re.calendarFormat(this,r)||"sameElse",i=t&&(ht(t[a])?t[a].call(this,n):t[a]);return this.format(i||this.localeData().calendar(a,this,Te(n)))}function Mc(){return new En(this)}function Fc(e,t){var n=st(e)?e:Te(e);return this.isValid()&&n.isValid()?(t=nt(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function Ac(e,t){var n=st(e)?e:Te(e);return this.isValid()&&n.isValid()?(t=nt(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function Lc(e,t,n,r){var a=st(e)?e:Te(e),i=st(t)?t:Te(t);return this.isValid()&&a.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(a,n):!this.isBefore(a,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function Rc(e,t){var n=st(e)?e:Te(e),r;return this.isValid()&&n.isValid()?(t=nt(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function Ic(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Pc(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Bc(e,t,n){var r,a,i;if(!this.isValid())return NaN;if(r=va(e,this),!r.isValid())return NaN;switch(a=(r.utcOffset()-this.utcOffset())*6e4,t=nt(t),t){case"year":i=Vn(this,r)/12;break;case"month":i=Vn(this,r);break;case"quarter":i=Vn(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-a)/864e5;break;case"week":i=(this-r-a)/6048e5;break;default:i=this-r}return n?i:et(i)}function Vn(e,t){if(e.date()<t.date())return-Vn(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),a,i;return t-r<0?(a=e.clone().add(n-1,"months"),i=(t-r)/(r-a)):(a=e.clone().add(n+1,"months"),i=(t-r)/(a-r)),-(n+i)||0}re.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";re.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function zc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Nc(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Yn(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ht(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Yn(n,"Z")):Yn(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Uc(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,a,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+r+a+i)}function Yc(e){e||(e=this.isUtc()?re.defaultFormatUtc:re.defaultFormat);var t=Yn(this,e);return this.localeData().postformat(t)}function qc(e,t){return this.isValid()&&(st(e)&&e.isValid()||Te(e).isValid())?ot({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Vc(e){return this.from(Te(),e)}function Wc(e,t){return this.isValid()&&(st(e)&&e.isValid()||Te(e).isValid())?ot({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function $c(e){return this.to(Te(),e)}function ps(e){var t;return e===void 0?this._locale._abbr:(t=kt(e),t!=null&&(this._locale=t),this)}var gs=tt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function ys(){return this._locale}var Kn=1e3,Gt=60*Kn,Xn=60*Gt,_s=(365*400+97)*24*Xn;function Qt(e,t){return(e%t+t)%t}function bs(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-_s:new Date(e,t,n).valueOf()}function ws(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-_s:Date.UTC(e,t,n)}function jc(e){var t,n;if(e=nt(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?ws:bs,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Qt(t+(this._isUTC?0:this.utcOffset()*Gt),Xn);break;case"minute":t=this._d.valueOf(),t-=Qt(t,Gt);break;case"second":t=this._d.valueOf(),t-=Qt(t,Kn);break}return this._d.setTime(t),re.updateOffset(this,!0),this}function Hc(e){var t,n;if(e=nt(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?ws:bs,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Xn-Qt(t+(this._isUTC?0:this.utcOffset()*Gt),Xn)-1;break;case"minute":t=this._d.valueOf(),t+=Gt-Qt(t,Gt)-1;break;case"second":t=this._d.valueOf(),t+=Kn-Qt(t,Kn)-1;break}return this._d.setTime(t),re.updateOffset(this,!0),this}function Zc(){return this._d.valueOf()-(this._offset||0)*6e4}function Gc(){return Math.floor(this.valueOf()/1e3)}function Qc(){return new Date(this.valueOf())}function Kc(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Xc(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Jc(){return this.isValid()?this.toISOString():null}function ef(){return ea(this)}function tf(){return Ct({},he(this))}function nf(){return he(this).overflow}function rf(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}le("N",0,0,"eraAbbr");le("NN",0,0,"eraAbbr");le("NNN",0,0,"eraAbbr");le("NNNN",0,0,"eraName");le("NNNNN",0,0,"eraNarrow");le("y",["y",1],"yo","eraYear");le("y",["yy",2],0,"eraYear");le("y",["yyy",3],0,"eraYear");le("y",["yyyy",4],0,"eraYear");ae("N",pa);ae("NN",pa);ae("NNN",pa);ae("NNNN",vf);ae("NNNNN",pf);Ce(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var a=n._locale.erasParse(e,r,n._strict);a?he(n).era=a:he(n).invalidEra=e});ae("y",nn);ae("yy",nn);ae("yyy",nn);ae("yyyy",nn);ae("yo",gf);Ce(["y","yy","yyy","yyyy"],qe);Ce(["yo"],function(e,t,n,r){var a;n._locale._eraYearOrdinalRegex&&(a=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[qe]=n._locale.eraYearOrdinalParse(e,a):t[qe]=parseInt(e,10)});function af(e,t){var n,r,a,i=this._eras||kt("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":a=re(i[n].since).startOf("day"),i[n].since=a.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":a=re(i[n].until).startOf("day").valueOf(),i[n].until=a.valueOf();break}}return i}function sf(e,t,n){var r,a,i=this.eras(),s,o,f;for(e=e.toUpperCase(),r=0,a=i.length;r<a;++r)if(s=i[r].name.toUpperCase(),o=i[r].abbr.toUpperCase(),f=i[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return i[r];break;case"NNNN":if(s===e)return i[r];break;case"NNNNN":if(f===e)return i[r];break}else if([s,o,f].indexOf(e)>=0)return i[r]}function of(e,t){var n=e.since<=e.until?1:-1;return t===void 0?re(e.since).year():re(e.since).year()+(t-e.offset)*n}function lf(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function uf(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function df(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function cf(){var e,t,n,r,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,r=this.clone().startOf("day").valueOf(),a[e].since<=r&&r<=a[e].until||a[e].until<=r&&r<=a[e].since)return(this.year()-re(a[e].since).year())*n+a[e].offset;return this.year()}function ff(e){return ye(this,"_erasNameRegex")||ga.call(this),e?this._erasNameRegex:this._erasRegex}function hf(e){return ye(this,"_erasAbbrRegex")||ga.call(this),e?this._erasAbbrRegex:this._erasRegex}function mf(e){return ye(this,"_erasNarrowRegex")||ga.call(this),e?this._erasNarrowRegex:this._erasRegex}function pa(e,t){return t.erasAbbrRegex(e)}function vf(e,t){return t.erasNameRegex(e)}function pf(e,t){return t.erasNarrowRegex(e)}function gf(e,t){return t._eraYearOrdinalRegex||nn}function ga(){var e=[],t=[],n=[],r=[],a,i,s=this.eras();for(a=0,i=s.length;a<i;++a)t.push(Xe(s[a].name)),e.push(Xe(s[a].abbr)),n.push(Xe(s[a].narrow)),r.push(Xe(s[a].name)),r.push(Xe(s[a].abbr)),r.push(Xe(s[a].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}le(0,["gg",2],0,function(){return this.weekYear()%100});le(0,["GG",2],0,function(){return this.isoWeekYear()%100});function fr(e,t){le(0,[e,e.length],0,t)}fr("gggg","weekYear");fr("ggggg","weekYear");fr("GGGG","isoWeekYear");fr("GGGGG","isoWeekYear");We("weekYear","gg");We("isoWeekYear","GG");$e("weekYear",1);$e("isoWeekYear",1);ae("G",or);ae("g",or);ae("GG",De,Je);ae("gg",De,Je);ae("GGGG",sa,ia);ae("gggg",sa,ia);ae("GGGGG",sr,ar);ae("ggggg",sr,ar);On(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=ve(e)});On(["gg","GG"],function(e,t,n,r){t[r]=re.parseTwoDigitYear(e)});function yf(e){return ks.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function _f(e){return ks.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function bf(){return _t(this.year(),1,4)}function wf(){return _t(this.isoWeekYear(),1,4)}function kf(){var e=this.localeData()._week;return _t(this.year(),e.dow,e.doy)}function xf(){var e=this.localeData()._week;return _t(this.weekYear(),e.dow,e.doy)}function ks(e,t,n,r,a){var i;return e==null?wn(this,r,a).year:(i=_t(e,r,a),t>i&&(t=i),Sf.call(this,e,t,n,r,a))}function Sf(e,t,n,r,a){var i=ts(e,t,n,r,a),s=bn(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}le("Q",0,"Qo","quarter");We("quarter","Q");$e("quarter",7);ae("Q",$i);Ce("Q",function(e,t){t[gt]=(ve(e)-1)*3});function Ef(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}le("D",["DD",2],"Do","date");We("date","D");$e("date",9);ae("D",De);ae("DD",De,Je);ae("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Ce(["D","DD"],dt);Ce("Do",function(e,t){t[dt]=ve(e.match(De)[0])});var xs=tn("Date",!0);le("DDD",["DDDD",3],"DDDo","dayOfYear");We("dayOfYear","DDD");$e("dayOfYear",4);ae("DDD",ir);ae("DDDD",ji);Ce(["DDD","DDDD"],function(e,t,n){n._dayOfYear=ve(e)});function Cf(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}le("m",["mm",2],0,"minute");We("minute","m");$e("minute",14);ae("m",De);ae("mm",De,Je);Ce(["m","mm"],rt);var Of=tn("Minutes",!1);le("s",["ss",2],0,"second");We("second","s");$e("second",15);ae("s",De);ae("ss",De,Je);Ce(["s","ss"],yt);var Tf=tn("Seconds",!1);le("S",0,0,function(){return~~(this.millisecond()/100)});le(0,["SS",2],0,function(){return~~(this.millisecond()/10)});le(0,["SSS",3],0,"millisecond");le(0,["SSSS",4],0,function(){return this.millisecond()*10});le(0,["SSSSS",5],0,function(){return this.millisecond()*100});le(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});le(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});le(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});le(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});We("millisecond","ms");$e("millisecond",16);ae("S",ir,$i);ae("SS",ir,Je);ae("SSS",ir,ji);var Ot,Ss;for(Ot="SSSS";Ot.length<=9;Ot+="S")ae(Ot,nn);function Df(e,t){t[Rt]=ve(("0."+e)*1e3)}for(Ot="S";Ot.length<=9;Ot+="S")Ce(Ot,Df);Ss=tn("Milliseconds",!1);le("z",0,0,"zoneAbbr");le("zz",0,0,"zoneName");function Mf(){return this._isUTC?"UTC":""}function Ff(){return this._isUTC?"Coordinated Universal Time":""}var X=En.prototype;X.add=kc;X.calendar=Dc;X.clone=Mc;X.diff=Bc;X.endOf=Hc;X.format=Yc;X.from=qc;X.fromNow=Vc;X.to=Wc;X.toNow=$c;X.get=Lu;X.invalidAt=nf;X.isAfter=Fc;X.isBefore=Ac;X.isBetween=Lc;X.isSame=Rc;X.isSameOrAfter=Ic;X.isSameOrBefore=Pc;X.isValid=ef;X.lang=gs;X.locale=ps;X.localeData=ys;X.max=ec;X.min=Jd;X.parsingFlags=tf;X.set=Ru;X.startOf=jc;X.subtract=xc;X.toArray=Kc;X.toObject=Xc;X.toDate=Qc;X.toISOString=Nc;X.inspect=Uc;typeof Symbol!="undefined"&&Symbol.for!=null&&(X[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});X.toJSON=Jc;X.toString=zc;X.unix=Gc;X.valueOf=Zc;X.creationData=rf;X.eraName=lf;X.eraNarrow=uf;X.eraAbbr=df;X.eraYear=cf;X.year=es;X.isLeapYear=Ju;X.weekYear=yf;X.isoWeekYear=_f;X.quarter=X.quarters=Ef;X.month=Xi;X.daysInMonth=Qu;X.week=X.weeks=id;X.isoWeek=X.isoWeeks=sd;X.weeksInYear=kf;X.weeksInWeekYear=xf;X.isoWeeksInYear=bf;X.isoWeeksInISOWeekYear=wf;X.date=xs;X.day=X.days=_d;X.weekday=bd;X.isoWeekday=wd;X.dayOfYear=Cf;X.hour=X.hours=Td;X.minute=X.minutes=Of;X.second=X.seconds=Tf;X.millisecond=X.milliseconds=Ss;X.utcOffset=uc;X.utc=cc;X.local=fc;X.parseZone=hc;X.hasAlignedHourOffset=mc;X.isDST=vc;X.isLocal=gc;X.isUtcOffset=yc;X.isUtc=fs;X.isUTC=fs;X.zoneAbbr=Mf;X.zoneName=Ff;X.dates=tt("dates accessor is deprecated. Use date instead.",xs);X.months=tt("months accessor is deprecated. Use month instead",Xi);X.years=tt("years accessor is deprecated. Use year instead",es);X.zone=tt("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",dc);X.isDSTShifted=tt("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",pc);function Af(e){return Te(e*1e3)}function Lf(){return Te.apply(null,arguments).parseZone()}function Es(e){return e}var _e=na.prototype;_e.calendar=_u;_e.longDateFormat=xu;_e.invalidDate=Eu;_e.ordinal=Tu;_e.preparse=Es;_e.postformat=Es;_e.relativeTime=Mu;_e.pastFuture=Fu;_e.set=gu;_e.eras=af;_e.erasParse=sf;_e.erasConvertYear=of;_e.erasAbbrRegex=hf;_e.erasNameRegex=ff;_e.erasNarrowRegex=mf;_e.months=ju;_e.monthsShort=Hu;_e.monthsParse=Gu;_e.monthsRegex=Xu;_e.monthsShortRegex=Ku;_e.week=td;_e.firstDayOfYear=ad;_e.firstDayOfWeek=rd;_e.weekdays=md;_e.weekdaysMin=pd;_e.weekdaysShort=vd;_e.weekdaysParse=yd;_e.weekdaysRegex=kd;_e.weekdaysShortRegex=xd;_e.weekdaysMinRegex=Sd;_e.isPM=Cd;_e.meridiem=Dd;function Jn(e,t,n,r){var a=kt(),i=ft().set(r,t);return a[n](i,e)}function Cs(e,t,n){if(wt(e)&&(t=e,e=void 0),e=e||"",t!=null)return Jn(e,t,n,"month");var r,a=[];for(r=0;r<12;r++)a[r]=Jn(e,r,n,"month");return a}function ya(e,t,n,r){typeof e=="boolean"?(wt(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,wt(t)&&(n=t,t=void 0),t=t||"");var a=kt(),i=e?a._week.dow:0,s,o=[];if(n!=null)return Jn(t,(n+i)%7,r,"day");for(s=0;s<7;s++)o[s]=Jn(t,(s+i)%7,r,"day");return o}function Rf(e,t){return Cs(e,t,"months")}function If(e,t){return Cs(e,t,"monthsShort")}function Pf(e,t,n){return ya(e,t,n,"weekdays")}function Bf(e,t,n){return ya(e,t,n,"weekdaysShort")}function zf(e,t,n){return ya(e,t,n,"weekdaysMin")}Dt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=ve(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});re.lang=tt("moment.lang is deprecated. Use moment.locale instead.",Dt);re.langData=tt("moment.langData is deprecated. Use moment.localeData instead.",kt);var vt=Math.abs;function Nf(){var e=this._data;return this._milliseconds=vt(this._milliseconds),this._days=vt(this._days),this._months=vt(this._months),e.milliseconds=vt(e.milliseconds),e.seconds=vt(e.seconds),e.minutes=vt(e.minutes),e.hours=vt(e.hours),e.months=vt(e.months),e.years=vt(e.years),this}function Os(e,t,n,r){var a=ot(t,n);return e._milliseconds+=r*a._milliseconds,e._days+=r*a._days,e._months+=r*a._months,e._bubble()}function Uf(e,t){return Os(this,e,t,1)}function Yf(e,t){return Os(this,e,t,-1)}function ii(e){return e<0?Math.floor(e):Math.ceil(e)}function qf(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,a,i,s,o,f;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=ii(Vr(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,a=et(e/1e3),r.seconds=a%60,i=et(a/60),r.minutes=i%60,s=et(i/60),r.hours=s%24,t+=et(s/24),f=et(Ts(t)),n+=f,t-=ii(Vr(f)),o=et(n/12),n%=12,r.days=t,r.months=n,r.years=o,this}function Ts(e){return e*4800/146097}function Vr(e){return e*146097/4800}function Vf(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=nt(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+Ts(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Vr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function Wf(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+ve(this._months/12)*31536e6:NaN}function xt(e){return function(){return this.as(e)}}var $f=xt("ms"),jf=xt("s"),Hf=xt("m"),Zf=xt("h"),Gf=xt("d"),Qf=xt("w"),Kf=xt("M"),Xf=xt("Q"),Jf=xt("y");function eh(){return ot(this)}function th(e){return e=nt(e),this.isValid()?this[e+"s"]():NaN}function Nt(e){return function(){return this.isValid()?this._data[e]:NaN}}var nh=Nt("milliseconds"),rh=Nt("seconds"),ah=Nt("minutes"),ih=Nt("hours"),sh=Nt("days"),oh=Nt("months"),lh=Nt("years");function uh(){return et(this.days()/7)}var pt=Math.round,Wt={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function dh(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}function ch(e,t,n,r){var a=ot(e).abs(),i=pt(a.as("s")),s=pt(a.as("m")),o=pt(a.as("h")),f=pt(a.as("d")),d=pt(a.as("M")),m=pt(a.as("w")),k=pt(a.as("y")),p=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||o<=1&&["h"]||o<n.h&&["hh",o]||f<=1&&["d"]||f<n.d&&["dd",f];return n.w!=null&&(p=p||m<=1&&["w"]||m<n.w&&["ww",m]),p=p||d<=1&&["M"]||d<n.M&&["MM",d]||k<=1&&["y"]||["yy",k],p[2]=t,p[3]=+e>0,p[4]=r,dh.apply(null,p)}function fh(e){return e===void 0?pt:typeof e=="function"?(pt=e,!0):!1}function hh(e,t){return Wt[e]===void 0?!1:t===void 0?Wt[e]:(Wt[e]=t,e==="s"&&(Wt.ss=t-1),!0)}function mh(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Wt,a,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Wt,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),a=this.localeData(),i=ch(this,!n,r,a),n&&(i=a.pastFuture(+this,i)),a.postformat(i)}var Dr=Math.abs;function Yt(e){return(e>0)-(e<0)||+e}function hr(){if(!this.isValid())return this.localeData().invalidDate();var e=Dr(this._milliseconds)/1e3,t=Dr(this._days),n=Dr(this._months),r,a,i,s,o=this.asSeconds(),f,d,m,k;return o?(r=et(e/60),a=et(r/60),e%=60,r%=60,i=et(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",f=o<0?"-":"",d=Yt(this._months)!==Yt(o)?"-":"",m=Yt(this._days)!==Yt(o)?"-":"",k=Yt(this._milliseconds)!==Yt(o)?"-":"",f+"P"+(i?d+i+"Y":"")+(n?d+n+"M":"")+(t?m+t+"D":"")+(a||r||e?"T":"")+(a?k+a+"H":"")+(r?k+r+"M":"")+(e?k+s+"S":"")):"P0D"}var ge=cr.prototype;ge.isValid=ic;ge.abs=Nf;ge.add=Uf;ge.subtract=Yf;ge.as=Vf;ge.asMilliseconds=$f;ge.asSeconds=jf;ge.asMinutes=Hf;ge.asHours=Zf;ge.asDays=Gf;ge.asWeeks=Qf;ge.asMonths=Kf;ge.asQuarters=Xf;ge.asYears=Jf;ge.valueOf=Wf;ge._bubble=qf;ge.clone=eh;ge.get=th;ge.milliseconds=nh;ge.seconds=rh;ge.minutes=ah;ge.hours=ih;ge.days=sh;ge.weeks=uh;ge.months=oh;ge.years=lh;ge.humanize=mh;ge.toISOString=hr;ge.toString=hr;ge.toJSON=hr;ge.locale=ps;ge.localeData=ys;ge.toIsoString=tt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",hr);ge.lang=gs;le("X",0,0,"unix");le("x",0,0,"valueOf");ae("x",or);ae("X",Pu);Ce("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Ce("x",function(e,t,n){n._d=new Date(ve(e))});//! moment.js
re.version="2.29.1";vu(Te);re.fn=X;re.min=tc;re.max=nc;re.now=rc;re.utc=ft;re.unix=Af;re.months=Rf;re.isDate=Sn;re.locale=Dt;re.invalid=nr;re.duration=ot;re.isMoment=st;re.weekdays=Pf;re.parseZone=Lf;re.localeData=kt;re.isDuration=qn;re.monthsShort=If;re.weekdaysMin=zf;re.defineLocale=da;re.updateLocale=Ad;re.locales=Ld;re.weekdaysShort=Bf;re.normalizeUnits=nt;re.relativeTimeRounding=fh;re.relativeTimeThreshold=hh;re.calendarFormat=Tc;re.prototype=X;re.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const xn=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("\\"),r=Math.max(t,n);return r<0?e:e.substring(r+1)},Pe=(e,t,n)=>{const r=`[[${t}]]`;return e.split(r).join(n||"")},Ye=(e,t)=>{const n=re().format("YYYY-MM-DD");let r=t;return r=Pe(r,"EOL",`
`),r=Pe(r,"COVER",e.metadata.cover.name),r=Pe(r,"ID",e.metadata.id.toString()),r=Pe(r,"TITLE",e.metadata.title),r=Pe(r,"SERIES",e.metadata.series||""),r=Pe(r,"SEQUENCE",(e.metadata.sequence||"").toString()),r=Pe(r,"COPYRIGHT",e.metadata.copyright||""),r=Pe(r,"LANGUAGE",e.metadata.language||""),r=Pe(r,"FILEAS",e.metadata.fileAs||""),r=Pe(r,"AUTHOR",e.metadata.author||""),r=Pe(r,"PUBLISHER",e.metadata.publisher||""),r=Pe(r,"DESCRIPTION",e.metadata.description||""),r=Pe(r,"PUBLISHED",e.metadata.published||""),r=Pe(r,"GENRE",e.metadata.genre||""),r=Pe(r,"TAGS",e.metadata.tags||""),r=Pe(r,"CONTENTS",e.metadata.contents),r=Pe(r,"SOURCE",e.metadata.source||""),r=Pe(r,"MAKER",e.metadata.maker),r=Pe(r,"MODIFIED",n),r},dn={getMimetype:()=>"application/epub+zip",getContainer:e=>{let t="";return t+="<?xml version='1.0' encoding='UTF-8' ?>[[EOL]]",t+="<container version='1.0' xmlns='urn:oasis:names:tc:opendocument:xmlns:container'>[[EOL]]",t+="  <rootfiles>[[EOL]]",t+="    <rootfile full-path='OEBPF/ebook.opf' media-type='application/oebps-package+xml'/>[[EOL]]",t+="  </rootfiles>[[EOL]]",t+="</container>",Ye(e,Ye(e,t))},getDuokanExtension(e){let t="";return t+='<?xml version="1.0" encoding="UTF-8"?>[[EOL]]',t+='<duokan-extension version="2.4.0">[[EOL]]',t+='  <display-options layout="vertical-comic"/>[[EOL]]',t+="  <writing-options>[[EOL]]",t+='    <option name="writing-mode">horizontal-tb</option>[[EOL]]',t+='    <option name="direction">ltr</option>[[EOL]]',t+="  </writing-options>[[EOL]]",t+="</duokan-extension>[[EOL]]",Ye(e,Ye(e,t))},getOPF:e=>{const t=xn(e.coverImage.name);let n,r="";if(r+="<?xml version='1.0' encoding='utf-8'?>[[EOL]]",r+="<package xmlns='http://www.idpf.org/2007/opf' version='2.0' unique-identifier='duokan-book-id'>[[EOL]]",r+="  <metadata xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:opf='http://www.idpf.org/2007/opf'>[[EOL]]",e.metadata.series&&e.metadata.sequence?r+="    <dc:title>[[TITLE]] ([[SERIES]] #[[SEQUENCE]])</dc:title>[[EOL]]":e.metadata.series?r+="    <dc:title>[[TITLE]] ([[SERIES]])</dc:title>[[EOL]]":e.metadata.sequence?r+="    <dc:title>[[TITLE]] (#[[SEQUENCE]])</dc:title>[[EOL]]":r+="    <dc:title>[[TITLE]]</dc:title>[[EOL]]",r+="    <dc:identifier id='duokan-book-id' opf:scheme='URI'>[[ID]]</dc:identifier>[[EOL]]",r+="    <dc:language>[[LANGUAGE]]</dc:language>[[EOL]]",r+="    <dc:creator opf:role='aut' opf:file-as='[[FILEAS]]'>[[AUTHOR]]</dc:creator>[[EOL]]",r+="    <dc:publisher>[[PUBLISHER]]</dc:publisher>[[EOL]]",r+="    <dc:description>[[DESCRIPTION]]</dc:description>[[EOL]]",r+="    <dc:coverage></dc:coverage>[[EOL]]",r+="    <dc:source>[[SOURCE]]</dc:source>[[EOL]]",r+="    <dc:date opf:event='publication'>[[PUBLISHED]]</dc:date>[[EOL]]",r+="    <dc:date opf:event='modification'>[[MODIFIED]]</dc:date>[[EOL]]",r+="    <dc:rights>[[COPYRIGHT]]</dc:rights>[[EOL]]",e.metadata.genre&&(r+="    <dc:subject>[[GENRE]]</dc:subject>[[EOL]]"),e.metadata.tags){const a=e.metadata.tags.split(",");for(n=0;n<a.length;n+=1)r+=`    <dc:subject>${a[n]}</dc:subject>[[EOL]]`}for(e.metadata.series&&e.metadata.sequence&&(r+="    <meta name='calibre:series' content='[[SERIES]]'/>[[EOL]]",r+="    <meta name='calibre:series_index' content='[[SEQUENCE]]'/>[[EOL]]"),r+="    <meta name='cover' content='cover-image'/>[[EOL]]",r+="  </metadata>[[EOL]]",r+="  <manifest>[[EOL]]",r+=`    <item id='cover-image' media-type='${ti(t)}' href='images/${t}'/>[[EOL]]`,r+="    <item id='cover' media-type='application/xhtml+xml' href='cover.xhtml'/>[[EOL]]",r+="    <item id='navigation' media-type='application/x-dtbncx+xml' href='navigation.ncx'/>[[EOL]]",n=1;n<=e.sections.length;n+=1){const a=e.sections[n-1].filename;r+=`    <item id='s${n}' media-type='application/xhtml+xml' href='content/${a}'/>[[EOL]]`}if(e.showContents&&(r+="    <item id='toc' media-type='application/xhtml+xml' href='content/toc.xhtml'/>[[EOL]]"),r+="    <item id='css' media-type='text/css' href='css/ebook.css'/>[[EOL]]",e.metadata.images)for(n=0;n<e.metadata.images.length;n+=1){const a=e.metadata.images[n],i=xn(a.name),s=ti(a.name);s.length>0&&(r+=`    <item id='img${n}' media-type='${s}' href='images/${i}'/>[[EOL]]`)}for(r+="  </manifest>[[EOL]]",r+="  <spine toc='navigation'>[[EOL]]",r+="    <itemref idref='cover' linear='yes' properties='duokan-page-fullscreen'/>[[EOL]]",n=1;n<=e.sections.length;n+=1)e.sections[n-1].isFrontMatter&&(r+=`    <itemref idref='s${n}' />[[EOL]]`);for(e.showContents&&(r+="    <itemref idref='toc'/>[[EOL]]"),n=1;n<=e.sections.length;n+=1)e.sections[n-1].isFrontMatter||(r+=`    <itemref idref='s${n}' />[[EOL]]`);return r+="  </spine>[[EOL]]",e.showContents&&(r+="  <guide>[[EOL]]",r+="    <reference type='toc' title='Contents' href='content/toc.xhtml'></reference>[[EOL]]",r+="  </guide>[[EOL]]"),r+="</package>[[EOL]]",Ye(e,Ye(e,r))},getNCX:e=>{let t,n,r,a="",i=1;for(a+="<?xml version='1.0' encoding='UTF-8'?>[[EOL]]",a+="<!DOCTYPE ncx PUBLIC '-//NISO//DTD ncx 2005-1//EN' 'http://www.daisy.org/z3986/2005/ncx-2005-1.dtd'>[[EOL]]",a+="<ncx xmlns='http://www.daisy.org/z3986/2005/ncx/'>[[EOL]]",a+="<head>[[EOL]]",a+="  <meta name='dtb:uid' content='[[ID]]'/>[[EOL]]",a+="  <meta name='dtb:depth' content='1'/>[[EOL]]",a+="  <meta name='dtb:totalPageCount' content='0'/>[[EOL]]",a+="  <meta name='dtb:maxPageNumber' content='0'/>[[EOL]]",a+="</head>[[EOL]]",a+="<docTitle><text>[[TITLE]]</text></docTitle>[[EOL]]",a+="<docAuthor><text>[[AUTHOR]]</text></docAuthor>[[EOL]]",a+="<navMap>[[EOL]]",a+=`  <navPoint id='cover' playOrder='${i++}'>[[EOL]]`,a+="    <navLabel><text>Cover</text></navLabel>[[EOL]]",a+="    <content src='cover.xhtml'/>[[EOL]]",a+="  </navPoint>[[EOL]]",t=1;t<=e.sections.length;t+=1)if(!e.sections[t-1].excludeFromContents&&e.sections[t-1].isFrontMatter){const s=e.sections[t-1].filename;n=e.sections[t-1].title,r=i++,e.filesForTOC.push({title:n,link:`${s}`,itemType:"front"}),a+=`  <navPoint class='section' id='s${t}' playOrder='${r}'>[[EOL]]`,a+=`    <navLabel><text>${n}</text></navLabel>[[EOL]]`,a+=`    <content src='content/${s}'/>[[EOL]]`,a+="  </navPoint>[[EOL]]"}for(e.showContents&&(e.filesForTOC.push({title:e.metadata.contents,link:"toc.xhtml",itemType:"contents"}),a+=`  <navPoint class='toc' id='toc' playOrder='${i++}'>[[EOL]]`,a+="    <navLabel><text>[[CONTENTS]]</text></navLabel>[[EOL]]",a+="    <content src='content/toc.xhtml'/>[[EOL]]",a+="  </navPoint>[[EOL]]"),t=1;t<=e.sections.length;t+=1)if(!e.sections[t-1].excludeFromContents&&!e.sections[t-1].isFrontMatter){const s=e.sections[t-1].filename;n=e.sections[t-1].title,r=i++,e.filesForTOC.push({title:n,link:`${s}`,itemType:"main"}),a+=`  <navPoint class='section' id='s${t}' playOrder='${r}'>[[EOL]]`,a+=`    <navLabel><text>${n}</text></navLabel>[[EOL]]`,a+=`    <content src='content/${s}'/>[[EOL]]`,a+="  </navPoint>[[EOL]]"}return a+="</navMap>[[EOL]]",a+="</ncx>[[EOL]]",Ye(e,Ye(e,a))}},$t={getContents:(e,t)=>{let n="";if(n+="<?xml version='1.0' encoding='utf-8'?>[[EOL]]",n+="<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.1//EN' 'http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd' >[[EOL]]",n+="<html xmlns='http://www.w3.org/1999/xhtml'>[[EOL]]",n+="  <head>[[EOL]]",n+="    <title>[[CONTENTS]]</title>[[EOL]]",n+="    <link rel='stylesheet' type='text/css' href='../css/ebook.css' />[[EOL]]",n+="  </head>[[EOL]]",n+="  <body>[[EOL]]",t)n+=t;else{n+="    <div class='contents'>[[EOL]]",n+="      <h1>[[CONTENTS]]</h1>[[EOL]]";for(let r=1;r<=e.sections.length;r+=1){const a=e.sections[r-1];if(!a.excludeFromContents){const{title:i}=a;n+=`      <a href='s${r}.xhtml'>${i}</a><br/>[[EOL]]`}}n+="    </div>[[EOL]]"}return n+="  </body>[[EOL]]",n+="</html>[[EOL]]",n},getTOC:e=>{let t="";if(e.generateContentsCallback){const n=e.generateContentsCallback(e.filesForTOC);t=$t.getContents(e,n)}else t=$t.getContents(e);return Ye(e,Ye(e,t))},getCover:e=>{const t=xn(e.coverImage.name);let n="";return n+="<?xml version='1.0' encoding='UTF-8' ?>[[EOL]]",n+="<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.1//EN'  'http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd'>[[EOL]]",n+="<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en'>[[EOL]]",n+="<head>[[EOL]]",n+="  <title>[[TITLE]]</title>[[EOL]]",n+="  <style type='text/css'>[[EOL]]",n+="    body { margin: 0; padding: 0; text-align: center; }[[EOL]]",n+="    .cover { margin: 0; padding: 0; font-size: 1px; }[[EOL]]",n+="    img { margin: 0; padding: 0; height: 100%; }[[EOL]]",n+="  </style>[[EOL]]",n+="</head>[[EOL]]",n+="<body>[[EOL]]",n+=`  <div class='cover'><img style='height: 100%;width: 100%;' src='images/${t}' alt='Cover' /></div>[[EOL]]`,n+="</body>[[EOL]]",n+="</html>[[EOL]]",Ye(e,Ye(e,n))},getCSS:e=>Ye(e,Ye(e,e.CSS)),getSection:(e,t)=>{const n=e.sections[t-1],{title:r}=n,{content:a}=n;let i="";return i+="<?xml version='1.0' encoding='utf-8'?>[[EOL]]",i+="<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.1//EN' 'http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd'>[[EOL]]",i+="<html xmlns='http://www.w3.org/1999/xhtml'>[[EOL]]",i+="  <head>[[EOL]]",i+=`    <title>${r}</title>[[EOL]]`,i+="    <link rel='stylesheet' type='text/css' href='../css/ebook.css' />[[EOL]]",i+="  </head>[[EOL]]",i+="  <body>[[EOL]]",i+="    <div>[[EOL]]",a.split(`
`).forEach(o=>{o.length>0&&(i+=`      ${o}[[EOL]]`)}),i+="    </div>[[EOL]]",i+="  </body>[[EOL]]",i+="</html>[[EOL]]",Ye(e,Ye(e,i))}};var At=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function zn(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ds={exports:{}};(function(e,t){(function(n,r){r()})(At,function(){function n(d,m){return typeof m=="undefined"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function r(d,m,k){var p=new XMLHttpRequest;p.open("GET",d),p.responseType="blob",p.onload=function(){f(p.response,m,k)},p.onerror=function(){console.error("could not download file")},p.send()}function a(d){var m=new XMLHttpRequest;m.open("HEAD",d,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function i(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(m)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof At=="object"&&At.global===At?At:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(d,m,k){var p=s.URL||s.webkitURL,c=document.createElement("a");m=m||d.name||"download",c.download=m,c.rel="noopener",typeof d=="string"?(c.href=d,c.origin===location.origin?i(c):a(c.href)?r(d,m,k):i(c,c.target="_blank")):(c.href=p.createObjectURL(d),setTimeout(function(){p.revokeObjectURL(c.href)},4e4),setTimeout(function(){i(c)},0))}:"msSaveOrOpenBlob"in navigator?function(d,m,k){if(m=m||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(n(d,k),m);else if(a(d))r(d,m,k);else{var p=document.createElement("a");p.href=d,p.target="_blank",setTimeout(function(){i(p)})}}:function(d,m,k,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof d=="string")return r(d,m,k);var c=d.type==="application/octet-stream",_=/constructor/i.test(s.HTMLElement)||s.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||c&&_||o)&&typeof FileReader!="undefined"){var h=new FileReader;h.onloadend=function(){var x=h.result;x=S?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=x:location=x,p=null},h.readAsDataURL(d)}else{var g=s.URL||s.webkitURL,y=g.createObjectURL(d);p?p.location=y:location.href=y,p=null,setTimeout(function(){g.revokeObjectURL(y)},4e4)}});s.saveAs=f.saveAs=f,e.exports=f})})(Ds);var Ms={exports:{}};/*!

JSZip v3.9.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,a,i){function s(d,m){if(!a[d]){if(!r[d]){var k=typeof zn=="function"&&zn;if(!m&&k)return k(d,!0);if(o)return o(d,!0);var p=new Error("Cannot find module '"+d+"'");throw p.code="MODULE_NOT_FOUND",p}var c=a[d]={exports:{}};r[d][0].call(c.exports,function(_){var S=r[d][1][_];return s(S||_)},c,c.exports,n,r,a,i)}return a[d].exports}for(var o=typeof zn=="function"&&zn,f=0;f<i.length;f++)s(i[f]);return s}({1:[function(n,r,a){var i=n("./utils"),s=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(f){for(var d,m,k,p,c,_,S,h=[],g=0,y=f.length,x=y,R=i.getTypeOf(f)!=="string";g<f.length;)x=y-g,k=R?(d=f[g++],m=g<y?f[g++]:0,g<y?f[g++]:0):(d=f.charCodeAt(g++),m=g<y?f.charCodeAt(g++):0,g<y?f.charCodeAt(g++):0),p=d>>2,c=(3&d)<<4|m>>4,_=1<x?(15&m)<<2|k>>6:64,S=2<x?63&k:64,h.push(o.charAt(p)+o.charAt(c)+o.charAt(_)+o.charAt(S));return h.join("")},a.decode=function(f){var d,m,k,p,c,_,S=0,h=0,g="data:";if(f.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var y,x=3*(f=f.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(f.charAt(f.length-1)===o.charAt(64)&&x--,f.charAt(f.length-2)===o.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=s.uint8array?new Uint8Array(0|x):new Array(0|x);S<f.length;)d=o.indexOf(f.charAt(S++))<<2|(p=o.indexOf(f.charAt(S++)))>>4,m=(15&p)<<4|(c=o.indexOf(f.charAt(S++)))>>2,k=(3&c)<<6|(_=o.indexOf(f.charAt(S++))),y[h++]=d,c!==64&&(y[h++]=m),_!==64&&(y[h++]=k);return y}},{"./support":30,"./utils":32}],2:[function(n,r,a){var i=n("./external"),s=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),f=n("./stream/DataLengthProbe");function d(m,k,p,c,_){this.compressedSize=m,this.uncompressedSize=k,this.crc32=p,this.compression=c,this.compressedContent=_}d.prototype={getContentWorker:function(){var m=new s(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),k=this;return m.on("end",function(){if(this.streamInfo.data_length!==k.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new s(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(m,k,p){return m.pipe(new o).pipe(new f("uncompressedSize")).pipe(k.compressWorker(p)).pipe(new f("compressedSize")).withStreamInfo("compression",k)},r.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,a){var i=n("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(s){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},a.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,a){var i=n("./utils"),s=function(){for(var o,f=[],d=0;d<256;d++){o=d;for(var m=0;m<8;m++)o=1&o?3988292384^o>>>1:o>>>1;f[d]=o}return f}();r.exports=function(o,f){return o!==void 0&&o.length?i.getTypeOf(o)!=="string"?function(d,m,k,p){var c=s,_=p+k;d^=-1;for(var S=p;S<_;S++)d=d>>>8^c[255&(d^m[S])];return-1^d}(0|f,o,o.length,0):function(d,m,k,p){var c=s,_=p+k;d^=-1;for(var S=p;S<_;S++)d=d>>>8^c[255&(d^m.charCodeAt(S))];return-1^d}(0|f,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(n,r,a){var i=null;i=typeof Promise!="undefined"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,a){var i=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",s=n("pako"),o=n("./utils"),f=n("./stream/GenericWorker"),d=i?"uint8array":"array";function m(k,p){f.call(this,"FlateWorker/"+k),this._pako=null,this._pakoAction=k,this._pakoOptions=p,this.meta={}}a.magic="\b\0",o.inherits(m,f),m.prototype.processChunk=function(k){this.meta=k.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(d,k.data),!1)},m.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var k=this;this._pako.onData=function(p){k.push({data:p,meta:k.meta})}},a.compressWorker=function(k){return new m("Deflate",k)},a.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,a){function i(c,_){var S,h="";for(S=0;S<_;S++)h+=String.fromCharCode(255&c),c>>>=8;return h}function s(c,_,S,h,g,y){var x,R,T=c.file,O=c.compression,M=y!==d.utf8encode,z=o.transformTo("string",y(T.name)),F=o.transformTo("string",d.utf8encode(T.name)),B=T.comment,W=o.transformTo("string",y(B)),b=o.transformTo("string",d.utf8encode(B)),C=F.length!==T.name.length,u=b.length!==B.length,N="",ne="",A="",Q=T.dir,I=T.date,K={crc32:0,compressedSize:0,uncompressedSize:0};_&&!S||(K.crc32=c.crc32,K.compressedSize=c.compressedSize,K.uncompressedSize=c.uncompressedSize);var P=0;_&&(P|=8),M||!C&&!u||(P|=2048);var L=0,te=0;Q&&(L|=16),g==="UNIX"?(te=798,L|=function(ee,pe){var Se=ee;return ee||(Se=pe?16893:33204),(65535&Se)<<16}(T.unixPermissions,Q)):(te=20,L|=function(ee){return 63&(ee||0)}(T.dosPermissions)),x=I.getUTCHours(),x<<=6,x|=I.getUTCMinutes(),x<<=5,x|=I.getUTCSeconds()/2,R=I.getUTCFullYear()-1980,R<<=4,R|=I.getUTCMonth()+1,R<<=5,R|=I.getUTCDate(),C&&(ne=i(1,1)+i(m(z),4)+F,N+="up"+i(ne.length,2)+ne),u&&(A=i(1,1)+i(m(W),4)+b,N+="uc"+i(A.length,2)+A);var Z="";return Z+=`
\0`,Z+=i(P,2),Z+=O.magic,Z+=i(x,2),Z+=i(R,2),Z+=i(K.crc32,4),Z+=i(K.compressedSize,4),Z+=i(K.uncompressedSize,4),Z+=i(z.length,2),Z+=i(N.length,2),{fileRecord:k.LOCAL_FILE_HEADER+Z+z+N,dirRecord:k.CENTRAL_FILE_HEADER+i(te,2)+Z+i(W.length,2)+"\0\0\0\0"+i(L,4)+i(h,4)+z+N+W}}var o=n("../utils"),f=n("../stream/GenericWorker"),d=n("../utf8"),m=n("../crc32"),k=n("../signature");function p(c,_,S,h){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=S,this.encodeFileName=h,this.streamFiles=c,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(p,f),p.prototype.push=function(c){var _=c.meta.percent||0,S=this.entriesCount,h=this._sources.length;this.accumulate?this.contentBuffer.push(c):(this.bytesWritten+=c.data.length,f.prototype.push.call(this,{data:c.data,meta:{currentFile:this.currentFile,percent:S?(_+100*(S-h-1))/S:100}}))},p.prototype.openedSource=function(c){this.currentSourceOffset=this.bytesWritten,this.currentFile=c.file.name;var _=this.streamFiles&&!c.file.dir;if(_){var S=s(c,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:S.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(c){this.accumulate=!1;var _=this.streamFiles&&!c.file.dir,S=s(c,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(S.dirRecord),_)this.push({data:function(h){return k.DATA_DESCRIPTOR+i(h.crc32,4)+i(h.compressedSize,4)+i(h.uncompressedSize,4)}(c),meta:{percent:100}});else for(this.push({data:S.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var c=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var S=this.bytesWritten-c,h=function(g,y,x,R,T){var O=o.transformTo("string",T(R));return k.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(g,2)+i(g,2)+i(y,4)+i(x,4)+i(O.length,2)+O}(this.dirRecords.length,S,c,this.zipComment,this.encodeFileName);this.push({data:h,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(c){this._sources.push(c);var _=this;return c.on("data",function(S){_.processChunk(S)}),c.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),c.on("error",function(S){_.error(S)}),this},p.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(c){var _=this._sources;if(!f.prototype.error.call(this,c))return!1;for(var S=0;S<_.length;S++)try{_[S].error(c)}catch{}return!0},p.prototype.lock=function(){f.prototype.lock.call(this);for(var c=this._sources,_=0;_<c.length;_++)c[_].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,a){var i=n("../compressions"),s=n("./ZipFileWorker");a.generateWorker=function(o,f,d){var m=new s(f.streamFiles,d,f.platform,f.encodeFileName),k=0;try{o.forEach(function(p,c){k++;var _=function(y,x){var R=y||x,T=i[R];if(!T)throw new Error(R+" is not a valid compression method !");return T}(c.options.compression,f.compression),S=c.options.compressionOptions||f.compressionOptions||{},h=c.dir,g=c.date;c._compressWorker(_,S).withStreamInfo("file",{name:p,dir:h,date:g,comment:c.comment||"",unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions}).pipe(m)}),m.entriesCount=k}catch(p){m.error(p)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,a){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new i;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.9.1",i.loadAsync=function(s,o){return new i().loadAsync(s,o)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,a){var i=n("./utils"),s=n("./external"),o=n("./utf8"),f=n("./zipEntries"),d=n("./stream/Crc32Probe"),m=n("./nodejsUtils");function k(p){return new s.Promise(function(c,_){var S=p.decompressed.getContentWorker().pipe(new d);S.on("error",function(h){_(h)}).on("end",function(){S.streamInfo.crc32!==p.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):c()}).resume()})}r.exports=function(p,c){var _=this;return c=i.extend(c||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),m.isNode&&m.isStream(p)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",p,!0,c.optimizedBinaryString,c.base64).then(function(S){var h=new f(c);return h.load(S),h}).then(function(S){var h=[s.Promise.resolve(S)],g=S.files;if(c.checkCRC32)for(var y=0;y<g.length;y++)h.push(k(g[y]));return s.Promise.all(h)}).then(function(S){for(var h=S.shift(),g=h.files,y=0;y<g.length;y++){var x=g[y],R=x.fileNameStr,T=i.resolve(x.fileNameStr);_.file(T,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:c.createFolders}),x.dir||(_.file(T).unsafeOriginalName=R)}return h.zipComment.length&&(_.comment=h.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,a){var i=n("../utils"),s=n("../stream/GenericWorker");function o(f,d){s.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(d)}i.inherits(o,s),o.prototype._bindStream=function(f){var d=this;(this._stream=f).pause(),f.on("data",function(m){d.push({data:m,meta:{percent:0}})}).on("error",function(m){d.isPaused?this.generatedError=m:d.error(m)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,a){var i=n("readable-stream").Readable;function s(o,f,d){i.call(this,f),this._helper=o;var m=this;o.on("data",function(k,p){m.push(k)||m._helper.pause(),d&&d(p)}).on("error",function(k){m.emit("error",k)}).on("end",function(){m.push(null)})}n("../utils").inherits(s,i),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,a){r.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(i,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,s);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,s)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var s=new Buffer(i);return s.fill(0),s},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,a){function i(T,O,M){var z,F=o.getTypeOf(O),B=o.extend(M||{},m);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&16384&B.unixPermissions&&(B.dir=!0),B.dosPermissions&&16&B.dosPermissions&&(B.dir=!0),B.dir&&(T=g(T)),B.createFolders&&(z=h(T))&&y.call(this,z,!0);var W=F==="string"&&B.binary===!1&&B.base64===!1;M&&M.binary!==void 0||(B.binary=!W),(O instanceof k&&O.uncompressedSize===0||B.dir||!O||O.length===0)&&(B.base64=!1,B.binary=!0,O="",B.compression="STORE",F="string");var b=null;b=O instanceof k||O instanceof f?O:_.isNode&&_.isStream(O)?new S(T,O):o.prepareContent(T,O,B.binary,B.optimizedBinaryString,B.base64);var C=new p(T,b,B);this.files[T]=C}var s=n("./utf8"),o=n("./utils"),f=n("./stream/GenericWorker"),d=n("./stream/StreamHelper"),m=n("./defaults"),k=n("./compressedObject"),p=n("./zipObject"),c=n("./generate"),_=n("./nodejsUtils"),S=n("./nodejs/NodejsStreamInputAdapter"),h=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var O=T.lastIndexOf("/");return 0<O?T.substring(0,O):""},g=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},y=function(T,O){return O=O!==void 0?O:m.createFolders,T=g(T),this.files[T]||i.call(this,T,null,{dir:!0,createFolders:O}),this.files[T]};function x(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var R={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var O,M,z;for(O in this.files)z=this.files[O],(M=O.slice(this.root.length,O.length))&&O.slice(0,this.root.length)===this.root&&T(M,z)},filter:function(T){var O=[];return this.forEach(function(M,z){T(M,z)&&O.push(z)}),O},file:function(T,O,M){if(arguments.length!==1)return T=this.root+T,i.call(this,T,O,M),this;if(x(T)){var z=T;return this.filter(function(B,W){return!W.dir&&z.test(B)})}var F=this.files[this.root+T];return F&&!F.dir?F:null},folder:function(T){if(!T)return this;if(x(T))return this.filter(function(F,B){return B.dir&&T.test(F)});var O=this.root+T,M=y.call(this,O),z=this.clone();return z.root=M.name,z},remove:function(T){T=this.root+T;var O=this.files[T];if(O||(T.slice(-1)!=="/"&&(T+="/"),O=this.files[T]),O&&!O.dir)delete this.files[T];else for(var M=this.filter(function(F,B){return B.name.slice(0,T.length)===T}),z=0;z<M.length;z++)delete this.files[M[z].name];return this},generate:function(T){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var O,M={};try{if((M=o.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");o.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var z=M.comment||this.comment||"";O=c.generateWorker(this,M,z)}catch(F){(O=new f("error")).error(F)}return new d(O,M.type||"string",M.mimeType)},generateAsync:function(T,O){return this.generateInternalStream(T).accumulate(O)},generateNodeStream:function(T,O){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(O)}};r.exports=R},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,a){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,a){var i=n("./DataReader");function s(o){i.call(this,o);for(var f=0;f<this.data.length;f++)o[f]=255&o[f]}n("../utils").inherits(s,i),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var f=o.charCodeAt(0),d=o.charCodeAt(1),m=o.charCodeAt(2),k=o.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===f&&this.data[p+1]===d&&this.data[p+2]===m&&this.data[p+3]===k)return p-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var f=o.charCodeAt(0),d=o.charCodeAt(1),m=o.charCodeAt(2),k=o.charCodeAt(3),p=this.readData(4);return f===p[0]&&d===p[1]&&m===p[2]&&k===p[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,f},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,a){var i=n("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(o){},readInt:function(o){var f,d=0;for(this.checkOffset(o),f=this.index+o-1;f>=this.index;f--)d=(d<<8)+this.byteAt(f);return this.index+=o,d},readString:function(o){return i.transformTo("string",this.readData(o))},readData:function(o){},lastIndexOfSignature:function(o){},readAndCheckSignature:function(o){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,a){var i=n("./Uint8ArrayReader");function s(o){i.call(this,o)}n("../utils").inherits(s,i),s.prototype.readData=function(o){this.checkOffset(o);var f=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,f},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,a){var i=n("./DataReader");function s(o){i.call(this,o)}n("../utils").inherits(s,i),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var f=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,f},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,a){var i=n("./ArrayReader");function s(o){i.call(this,o)}n("../utils").inherits(s,i),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,f},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,a){var i=n("../utils"),s=n("../support"),o=n("./ArrayReader"),f=n("./StringReader"),d=n("./NodeBufferReader"),m=n("./Uint8ArrayReader");r.exports=function(k){var p=i.getTypeOf(k);return i.checkSupport(p),p!=="string"||s.uint8array?p==="nodebuffer"?new d(k):s.uint8array?new m(i.transformTo("uint8array",k)):new o(i.transformTo("array",k)):new f(k)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,a){var i=n("./GenericWorker"),s=n("../utils");function o(f){i.call(this,"ConvertWorker to "+f),this.destType=f}s.inherits(o,i),o.prototype.processChunk=function(f){this.push({data:s.transformTo(this.destType,f.data),meta:f.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,a){var i=n("./GenericWorker"),s=n("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,i),o.prototype.processChunk=function(f){this.streamInfo.crc32=s(f.data,this.streamInfo.crc32||0),this.push(f)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,a){var i=n("../utils"),s=n("./GenericWorker");function o(f){s.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}i.inherits(o,s),o.prototype.processChunk=function(f){if(f){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+f.data.length}s.prototype.processChunk.call(this,f)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,a){var i=n("../utils"),s=n("./GenericWorker");function o(f){s.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(m){d.dataIsReady=!0,d.data=m,d.max=m&&m.length||0,d.type=i.getTypeOf(m),d.isPaused||d._tickAndRepeat()},function(m){d.error(m)})}i.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,d);break;case"uint8array":f=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":f=this.data.slice(this.index,d)}return this.index=d,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,a){function i(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var f=0;f<this._listeners[s].length;f++)this._listeners[s][f].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(f){o.processChunk(f)}),s.on("end",function(){o.end()}),s.on("error",function(f){o.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=i},{}],29:[function(n,r,a){var i=n("../utils"),s=n("./ConvertWorker"),o=n("./GenericWorker"),f=n("../base64"),d=n("../support"),m=n("../external"),k=null;if(d.nodestream)try{k=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(_,S){return new m.Promise(function(h,g){var y=[],x=_._internalType,R=_._outputType,T=_._mimeType;_.on("data",function(O,M){y.push(O),S&&S(M)}).on("error",function(O){y=[],g(O)}).on("end",function(){try{var O=function(M,z,F){switch(M){case"blob":return i.newBlob(i.transformTo("arraybuffer",z),F);case"base64":return f.encode(z);default:return i.transformTo(M,z)}}(R,function(M,z){var F,B=0,W=null,b=0;for(F=0;F<z.length;F++)b+=z[F].length;switch(M){case"string":return z.join("");case"array":return Array.prototype.concat.apply([],z);case"uint8array":for(W=new Uint8Array(b),F=0;F<z.length;F++)W.set(z[F],B),B+=z[F].length;return W;case"nodebuffer":return Buffer.concat(z);default:throw new Error("concat : unsupported type '"+M+"'")}}(x,y),T);h(O)}catch(M){g(M)}y=[]}).resume()})}function c(_,S,h){var g=S;switch(S){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=S,this._mimeType=h,i.checkSupport(g),this._worker=_.pipe(new s(g)),_.lock()}catch(y){this._worker=new o("error"),this._worker.error(y)}}c.prototype={accumulate:function(_){return p(this,_)},on:function(_,S){var h=this;return _==="data"?this._worker.on(_,function(g){S.call(h,g.data,g.meta)}):this._worker.on(_,function(){i.delay(S,arguments,h)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new k(this,{objectMode:this._outputType!=="nodebuffer"},_)}},r.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",a.nodebuffer=typeof Buffer!="undefined",a.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")a.blob=!1;else{var i=new ArrayBuffer(0);try{a.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(i),a.blob=s.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!n("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,a){for(var i=n("./utils"),s=n("./support"),o=n("./nodejsUtils"),f=n("./stream/GenericWorker"),d=new Array(256),m=0;m<256;m++)d[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;d[254]=d[254]=1;function k(){f.call(this,"utf-8 decode"),this.leftOver=null}function p(){f.call(this,"utf-8 encode")}a.utf8encode=function(c){return s.nodebuffer?o.newBufferFrom(c,"utf-8"):function(_){var S,h,g,y,x,R=_.length,T=0;for(y=0;y<R;y++)(64512&(h=_.charCodeAt(y)))==55296&&y+1<R&&(64512&(g=_.charCodeAt(y+1)))==56320&&(h=65536+(h-55296<<10)+(g-56320),y++),T+=h<128?1:h<2048?2:h<65536?3:4;for(S=s.uint8array?new Uint8Array(T):new Array(T),y=x=0;x<T;y++)(64512&(h=_.charCodeAt(y)))==55296&&y+1<R&&(64512&(g=_.charCodeAt(y+1)))==56320&&(h=65536+(h-55296<<10)+(g-56320),y++),h<128?S[x++]=h:(h<2048?S[x++]=192|h>>>6:(h<65536?S[x++]=224|h>>>12:(S[x++]=240|h>>>18,S[x++]=128|h>>>12&63),S[x++]=128|h>>>6&63),S[x++]=128|63&h);return S}(c)},a.utf8decode=function(c){return s.nodebuffer?i.transformTo("nodebuffer",c).toString("utf-8"):function(_){var S,h,g,y,x=_.length,R=new Array(2*x);for(S=h=0;S<x;)if((g=_[S++])<128)R[h++]=g;else if(4<(y=d[g]))R[h++]=65533,S+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&S<x;)g=g<<6|63&_[S++],y--;1<y?R[h++]=65533:g<65536?R[h++]=g:(g-=65536,R[h++]=55296|g>>10&1023,R[h++]=56320|1023&g)}return R.length!==h&&(R.subarray?R=R.subarray(0,h):R.length=h),i.applyFromCharCode(R)}(c=i.transformTo(s.uint8array?"uint8array":"array",c))},i.inherits(k,f),k.prototype.processChunk=function(c){var _=i.transformTo(s.uint8array?"uint8array":"array",c.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var S=_;(_=new Uint8Array(S.length+this.leftOver.length)).set(this.leftOver,0),_.set(S,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var h=function(y,x){var R;for((x=x||y.length)>y.length&&(x=y.length),R=x-1;0<=R&&(192&y[R])==128;)R--;return R<0||R===0?x:R+d[y[R]]>x?R:x}(_),g=_;h!==_.length&&(s.uint8array?(g=_.subarray(0,h),this.leftOver=_.subarray(h,_.length)):(g=_.slice(0,h),this.leftOver=_.slice(h,_.length))),this.push({data:a.utf8decode(g),meta:c.meta})},k.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=k,i.inherits(p,f),p.prototype.processChunk=function(c){this.push({data:a.utf8encode(c.data),meta:c.meta})},a.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,a){var i=n("./support"),s=n("./base64"),o=n("./nodejsUtils"),f=n("set-immediate-shim"),d=n("./external");function m(h){return h}function k(h,g){for(var y=0;y<h.length;++y)g[y]=255&h.charCodeAt(y);return g}a.newBlob=function(h,g){a.checkSupport("blob");try{return new Blob([h],{type:g})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(h),y.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(h,g,y){var x=[],R=0,T=h.length;if(T<=y)return String.fromCharCode.apply(null,h);for(;R<T;)g==="array"||g==="nodebuffer"?x.push(String.fromCharCode.apply(null,h.slice(R,Math.min(R+y,T)))):x.push(String.fromCharCode.apply(null,h.subarray(R,Math.min(R+y,T)))),R+=y;return x.join("")},stringifyByChar:function(h){for(var g="",y=0;y<h.length;y++)g+=String.fromCharCode(h[y]);return g},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function c(h){var g=65536,y=a.getTypeOf(h),x=!0;if(y==="uint8array"?x=p.applyCanBeUsed.uint8array:y==="nodebuffer"&&(x=p.applyCanBeUsed.nodebuffer),x)for(;1<g;)try{return p.stringifyByChunk(h,y,g)}catch{g=Math.floor(g/2)}return p.stringifyByChar(h)}function _(h,g){for(var y=0;y<h.length;y++)g[y]=h[y];return g}a.applyFromCharCode=c;var S={};S.string={string:m,array:function(h){return k(h,new Array(h.length))},arraybuffer:function(h){return S.string.uint8array(h).buffer},uint8array:function(h){return k(h,new Uint8Array(h.length))},nodebuffer:function(h){return k(h,o.allocBuffer(h.length))}},S.array={string:c,array:m,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return o.newBufferFrom(h)}},S.arraybuffer={string:function(h){return c(new Uint8Array(h))},array:function(h){return _(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:m,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return o.newBufferFrom(new Uint8Array(h))}},S.uint8array={string:c,array:function(h){return _(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:m,nodebuffer:function(h){return o.newBufferFrom(h)}},S.nodebuffer={string:c,array:function(h){return _(h,new Array(h.length))},arraybuffer:function(h){return S.nodebuffer.uint8array(h).buffer},uint8array:function(h){return _(h,new Uint8Array(h.length))},nodebuffer:m},a.transformTo=function(h,g){if(g=g||"",!h)return g;a.checkSupport(h);var y=a.getTypeOf(g);return S[y][h](g)},a.resolve=function(h){for(var g=h.split("/"),y=[],x=0;x<g.length;x++){var R=g[x];R==="."||R===""&&x!==0&&x!==g.length-1||(R===".."?y.pop():y.push(R))}return y.join("/")},a.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":i.nodebuffer&&o.isBuffer(h)?"nodebuffer":i.uint8array&&h instanceof Uint8Array?"uint8array":i.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(h){if(!i[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(h){var g,y,x="";for(y=0;y<(h||"").length;y++)x+="\\x"+((g=h.charCodeAt(y))<16?"0":"")+g.toString(16).toUpperCase();return x},a.delay=function(h,g,y){f(function(){h.apply(y||null,g||[])})},a.inherits=function(h,g){function y(){}y.prototype=g.prototype,h.prototype=new y},a.extend=function(){var h,g,y={};for(h=0;h<arguments.length;h++)for(g in arguments[h])arguments[h].hasOwnProperty(g)&&y[g]===void 0&&(y[g]=arguments[h][g]);return y},a.prepareContent=function(h,g,y,x,R){return d.Promise.resolve(g).then(function(T){return i.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader!="undefined"?new d.Promise(function(O,M){var z=new FileReader;z.onload=function(F){O(F.target.result)},z.onerror=function(F){M(F.target.error)},z.readAsArrayBuffer(T)}):T}).then(function(T){var O=a.getTypeOf(T);return O?(O==="arraybuffer"?T=a.transformTo("uint8array",T):O==="string"&&(R?T=s.decode(T):y&&x!==!0&&(T=function(M){return k(M,i.uint8array?new Uint8Array(M.length):new Array(M.length))}(T))),T):d.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(n,r,a){var i=n("./reader/readerFor"),s=n("./utils"),o=n("./signature"),f=n("./zipEntry"),d=(n("./utf8"),n("./support"));function m(k){this.files=[],this.loadOptions=k}m.prototype={checkSignature:function(k){if(!this.reader.readAndCheckSignature(k)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(p)+", expected "+s.pretty(k)+")")}},isSignature:function(k,p){var c=this.reader.index;this.reader.setIndex(k);var _=this.reader.readString(4)===p;return this.reader.setIndex(c),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var k=this.reader.readData(this.zipCommentLength),p=d.uint8array?"uint8array":"array",c=s.transformTo(p,k);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var k,p,c,_=this.zip64EndOfCentralSize-44;0<_;)k=this.reader.readInt(2),p=this.reader.readInt(4),c=this.reader.readData(p),this.zip64ExtensibleData[k]={id:k,length:p,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var k,p;for(k=0;k<this.files.length;k++)p=this.files[k],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var k;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(k=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(k);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var k=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(k<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(k);var p=k;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(k=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(k),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var c=this.centralDirOffset+this.centralDirSize;this.zip64&&(c+=20,c+=12+this.zip64EndOfCentralSize);var _=p-c;if(0<_)this.isSignature(p,o.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(k){this.reader=i(k)},load:function(k){this.prepareReader(k),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(n,r,a){var i=n("./reader/readerFor"),s=n("./utils"),o=n("./compressedObject"),f=n("./crc32"),d=n("./utf8"),m=n("./compressions"),k=n("./support");function p(c,_){this.options=c,this.loadOptions=_}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(c){var _,S;if(c.skip(22),this.fileNameLength=c.readInt(2),S=c.readInt(2),this.fileName=c.readData(this.fileNameLength),c.skip(S),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(h){for(var g in m)if(m.hasOwnProperty(g)&&m[g].magic===h)return m[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,_,c.readData(this.compressedSize))},readCentralPart:function(c){this.versionMadeBy=c.readInt(2),c.skip(2),this.bitFlag=c.readInt(2),this.compressionMethod=c.readString(2),this.date=c.readDate(),this.crc32=c.readInt(4),this.compressedSize=c.readInt(4),this.uncompressedSize=c.readInt(4);var _=c.readInt(2);if(this.extraFieldsLength=c.readInt(2),this.fileCommentLength=c.readInt(2),this.diskNumberStart=c.readInt(2),this.internalFileAttributes=c.readInt(2),this.externalFileAttributes=c.readInt(4),this.localHeaderOffset=c.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");c.skip(_),this.readExtraFields(c),this.parseZIP64ExtraField(c),this.fileComment=c.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var c=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),c==0&&(this.dosPermissions=63&this.externalFileAttributes),c==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(c){if(this.extraFields[1]){var _=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=_.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=_.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=_.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=_.readInt(4))}},readExtraFields:function(c){var _,S,h,g=c.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});c.index+4<g;)_=c.readInt(2),S=c.readInt(2),h=c.readData(S),this.extraFields[_]={id:_,length:S,value:h};c.setIndex(g)},handleUTF8:function(){var c=k.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var S=s.transformTo(c,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(S)}var h=this.findExtraFieldUnicodeComment();if(h!==null)this.fileCommentStr=h;else{var g=s.transformTo(c,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var c=this.extraFields[28789];if(c){var _=i(c.value);return _.readInt(1)!==1||f(this.fileName)!==_.readInt(4)?null:d.utf8decode(_.readData(c.length-5))}return null},findExtraFieldUnicodeComment:function(){var c=this.extraFields[25461];if(c){var _=i(c.value);return _.readInt(1)!==1||f(this.fileComment)!==_.readInt(4)?null:d.utf8decode(_.readData(c.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,a){function i(_,S,h){this.name=_,this.dir=h.dir,this.date=h.date,this.comment=h.comment,this.unixPermissions=h.unixPermissions,this.dosPermissions=h.dosPermissions,this._data=S,this._dataBinary=h.binary,this.options={compression:h.compression,compressionOptions:h.compressionOptions}}var s=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),f=n("./utf8"),d=n("./compressedObject"),m=n("./stream/GenericWorker");i.prototype={internalStream:function(_){var S=null,h="string";try{if(!_)throw new Error("No output type specified.");var g=(h=_.toLowerCase())==="string"||h==="text";h!=="binarystring"&&h!=="text"||(h="string"),S=this._decompressWorker();var y=!this._dataBinary;y&&!g&&(S=S.pipe(new f.Utf8EncodeWorker)),!y&&g&&(S=S.pipe(new f.Utf8DecodeWorker))}catch(x){(S=new m("error")).error(x)}return new s(S,h,"")},async:function(_,S){return this.internalStream(_).accumulate(S)},nodeStream:function(_,S){return this.internalStream(_||"nodebuffer").toNodejsStream(S)},_compressWorker:function(_,S){if(this._data instanceof d&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var h=this._decompressWorker();return this._dataBinary||(h=h.pipe(new f.Utf8EncodeWorker)),d.createWorkerFrom(h,_,S)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof m?this._data:new o(this._data)}};for(var k=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<k.length;c++)i.prototype[k[c]]=p;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,a){(function(i){var s,o,f=i.MutationObserver||i.WebKitMutationObserver;if(f){var d=0,m=new f(_),k=i.document.createTextNode("");m.observe(k,{characterData:!0}),s=function(){k.data=d=++d%2}}else if(i.setImmediate||i.MessageChannel===void 0)s="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var S=i.document.createElement("script");S.onreadystatechange=function(){_(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},i.document.documentElement.appendChild(S)}:function(){setTimeout(_,0)};else{var p=new i.MessageChannel;p.port1.onmessage=_,s=function(){p.port2.postMessage(0)}}var c=[];function _(){var S,h;o=!0;for(var g=c.length;g;){for(h=c,c=[],S=-1;++S<g;)h[S]();g=c.length}o=!1}r.exports=function(S){c.push(S)!==1||o||s()}}).call(this,typeof At!="undefined"?At:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(n,r,a){var i=n("immediate");function s(){}var o={},f=["REJECTED"],d=["FULFILLED"],m=["PENDING"];function k(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,g!==s&&S(this,g)}function p(g,y,x){this.promise=g,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function c(g,y,x){i(function(){var R;try{R=y(x)}catch(T){return o.reject(g,T)}R===g?o.reject(g,new TypeError("Cannot resolve promise with itself")):o.resolve(g,R)})}function _(g){var y=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof y=="function")return function(){y.apply(g,arguments)}}function S(g,y){var x=!1;function R(M){x||(x=!0,o.reject(g,M))}function T(M){x||(x=!0,o.resolve(g,M))}var O=h(function(){y(T,R)});O.status==="error"&&R(O.value)}function h(g,y){var x={};try{x.value=g(y),x.status="success"}catch(R){x.status="error",x.value=R}return x}(r.exports=k).prototype.finally=function(g){if(typeof g!="function")return this;var y=this.constructor;return this.then(function(x){return y.resolve(g()).then(function(){return x})},function(x){return y.resolve(g()).then(function(){throw x})})},k.prototype.catch=function(g){return this.then(null,g)},k.prototype.then=function(g,y){if(typeof g!="function"&&this.state===d||typeof y!="function"&&this.state===f)return this;var x=new this.constructor(s);return this.state!==m?c(x,this.state===d?g:y,this.outcome):this.queue.push(new p(x,g,y)),x},p.prototype.callFulfilled=function(g){o.resolve(this.promise,g)},p.prototype.otherCallFulfilled=function(g){c(this.promise,this.onFulfilled,g)},p.prototype.callRejected=function(g){o.reject(this.promise,g)},p.prototype.otherCallRejected=function(g){c(this.promise,this.onRejected,g)},o.resolve=function(g,y){var x=h(_,y);if(x.status==="error")return o.reject(g,x.value);var R=x.value;if(R)S(g,R);else{g.state=d,g.outcome=y;for(var T=-1,O=g.queue.length;++T<O;)g.queue[T].callFulfilled(y)}return g},o.reject=function(g,y){g.state=f,g.outcome=y;for(var x=-1,R=g.queue.length;++x<R;)g.queue[x].callRejected(y);return g},k.resolve=function(g){return g instanceof this?g:o.resolve(new this(s),g)},k.reject=function(g){var y=new this(s);return o.reject(y,g)},k.all=function(g){var y=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=g.length,R=!1;if(!x)return this.resolve([]);for(var T=new Array(x),O=0,M=-1,z=new this(s);++M<x;)F(g[M],M);return z;function F(B,W){y.resolve(B).then(function(b){T[W]=b,++O!==x||R||(R=!0,o.resolve(z,T))},function(b){R||(R=!0,o.reject(z,b))})}},k.race=function(g){var y=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=g.length,R=!1;if(!x)return this.resolve([]);for(var T=-1,O=new this(s);++T<x;)M=g[T],y.resolve(M).then(function(z){R||(R=!0,o.resolve(O,z))},function(z){R||(R=!0,o.reject(O,z))});var M;return O}},{immediate:36}],38:[function(n,r,a){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,a){var i=n("./zlib/deflate"),s=n("./utils/common"),o=n("./utils/strings"),f=n("./zlib/messages"),d=n("./zlib/zstream"),m=Object.prototype.toString,k=0,p=-1,c=0,_=8;function S(g){if(!(this instanceof S))return new S(g);this.options=s.assign({level:p,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},g||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var x=i.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(x!==k)throw new Error(f[x]);if(y.header&&i.deflateSetHeader(this.strm,y.header),y.dictionary){var R;if(R=typeof y.dictionary=="string"?o.string2buf(y.dictionary):m.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(x=i.deflateSetDictionary(this.strm,R))!==k)throw new Error(f[x]);this._dict_set=!0}}function h(g,y){var x=new S(y);if(x.push(g,!0),x.err)throw x.msg||f[x.err];return x.result}S.prototype.push=function(g,y){var x,R,T=this.strm,O=this.options.chunkSize;if(this.ended)return!1;R=y===~~y?y:y===!0?4:0,typeof g=="string"?T.input=o.string2buf(g):m.call(g)==="[object ArrayBuffer]"?T.input=new Uint8Array(g):T.input=g,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new s.Buf8(O),T.next_out=0,T.avail_out=O),(x=i.deflate(T,R))!==1&&x!==k)return this.onEnd(x),!(this.ended=!0);T.avail_out!==0&&(T.avail_in!==0||R!==4&&R!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(T.output,T.next_out))):this.onData(s.shrinkBuf(T.output,T.next_out)))}while((0<T.avail_in||T.avail_out===0)&&x!==1);return R===4?(x=i.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===k):R!==2||(this.onEnd(k),!(T.avail_out=0))},S.prototype.onData=function(g){this.chunks.push(g)},S.prototype.onEnd=function(g){g===k&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},a.Deflate=S,a.deflate=h,a.deflateRaw=function(g,y){return(y=y||{}).raw=!0,h(g,y)},a.gzip=function(g,y){return(y=y||{}).gzip=!0,h(g,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,a){var i=n("./zlib/inflate"),s=n("./utils/common"),o=n("./utils/strings"),f=n("./zlib/constants"),d=n("./zlib/messages"),m=n("./zlib/zstream"),k=n("./zlib/gzheader"),p=Object.prototype.toString;function c(S){if(!(this instanceof c))return new c(S);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},S||{});var h=this.options;h.raw&&0<=h.windowBits&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),!(0<=h.windowBits&&h.windowBits<16)||S&&S.windowBits||(h.windowBits+=32),15<h.windowBits&&h.windowBits<48&&(15&h.windowBits)==0&&(h.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var g=i.inflateInit2(this.strm,h.windowBits);if(g!==f.Z_OK)throw new Error(d[g]);this.header=new k,i.inflateGetHeader(this.strm,this.header)}function _(S,h){var g=new c(h);if(g.push(S,!0),g.err)throw g.msg||d[g.err];return g.result}c.prototype.push=function(S,h){var g,y,x,R,T,O,M=this.strm,z=this.options.chunkSize,F=this.options.dictionary,B=!1;if(this.ended)return!1;y=h===~~h?h:h===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof S=="string"?M.input=o.binstring2buf(S):p.call(S)==="[object ArrayBuffer]"?M.input=new Uint8Array(S):M.input=S,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new s.Buf8(z),M.next_out=0,M.avail_out=z),(g=i.inflate(M,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&F&&(O=typeof F=="string"?o.string2buf(F):p.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,g=i.inflateSetDictionary(this.strm,O)),g===f.Z_BUF_ERROR&&B===!0&&(g=f.Z_OK,B=!1),g!==f.Z_STREAM_END&&g!==f.Z_OK)return this.onEnd(g),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&g!==f.Z_STREAM_END&&(M.avail_in!==0||y!==f.Z_FINISH&&y!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=o.utf8border(M.output,M.next_out),R=M.next_out-x,T=o.buf2string(M.output,x),M.next_out=R,M.avail_out=z-R,R&&s.arraySet(M.output,M.output,x,R,0),this.onData(T)):this.onData(s.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(B=!0)}while((0<M.avail_in||M.avail_out===0)&&g!==f.Z_STREAM_END);return g===f.Z_STREAM_END&&(y=f.Z_FINISH),y===f.Z_FINISH?(g=i.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===f.Z_OK):y!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(M.avail_out=0))},c.prototype.onData=function(S){this.chunks.push(S)},c.prototype.onEnd=function(S){S===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},a.Inflate=c,a.inflate=_,a.inflateRaw=function(S,h){return(h=h||{}).raw=!0,_(S,h)},a.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,a){var i=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";a.assign=function(f){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var m=d.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var k in m)m.hasOwnProperty(k)&&(f[k]=m[k])}}return f},a.shrinkBuf=function(f,d){return f.length===d?f:f.subarray?f.subarray(0,d):(f.length=d,f)};var s={arraySet:function(f,d,m,k,p){if(d.subarray&&f.subarray)f.set(d.subarray(m,m+k),p);else for(var c=0;c<k;c++)f[p+c]=d[m+c]},flattenChunks:function(f){var d,m,k,p,c,_;for(d=k=0,m=f.length;d<m;d++)k+=f[d].length;for(_=new Uint8Array(k),d=p=0,m=f.length;d<m;d++)c=f[d],_.set(c,p),p+=c.length;return _}},o={arraySet:function(f,d,m,k,p){for(var c=0;c<k;c++)f[p+c]=d[m+c]},flattenChunks:function(f){return[].concat.apply([],f)}};a.setTyped=function(f){f?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,s)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,o))},a.setTyped(i)},{}],42:[function(n,r,a){var i=n("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var f=new i.Buf8(256),d=0;d<256;d++)f[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function m(k,p){if(p<65537&&(k.subarray&&o||!k.subarray&&s))return String.fromCharCode.apply(null,i.shrinkBuf(k,p));for(var c="",_=0;_<p;_++)c+=String.fromCharCode(k[_]);return c}f[254]=f[254]=1,a.string2buf=function(k){var p,c,_,S,h,g=k.length,y=0;for(S=0;S<g;S++)(64512&(c=k.charCodeAt(S)))==55296&&S+1<g&&(64512&(_=k.charCodeAt(S+1)))==56320&&(c=65536+(c-55296<<10)+(_-56320),S++),y+=c<128?1:c<2048?2:c<65536?3:4;for(p=new i.Buf8(y),S=h=0;h<y;S++)(64512&(c=k.charCodeAt(S)))==55296&&S+1<g&&(64512&(_=k.charCodeAt(S+1)))==56320&&(c=65536+(c-55296<<10)+(_-56320),S++),c<128?p[h++]=c:(c<2048?p[h++]=192|c>>>6:(c<65536?p[h++]=224|c>>>12:(p[h++]=240|c>>>18,p[h++]=128|c>>>12&63),p[h++]=128|c>>>6&63),p[h++]=128|63&c);return p},a.buf2binstring=function(k){return m(k,k.length)},a.binstring2buf=function(k){for(var p=new i.Buf8(k.length),c=0,_=p.length;c<_;c++)p[c]=k.charCodeAt(c);return p},a.buf2string=function(k,p){var c,_,S,h,g=p||k.length,y=new Array(2*g);for(c=_=0;c<g;)if((S=k[c++])<128)y[_++]=S;else if(4<(h=f[S]))y[_++]=65533,c+=h-1;else{for(S&=h===2?31:h===3?15:7;1<h&&c<g;)S=S<<6|63&k[c++],h--;1<h?y[_++]=65533:S<65536?y[_++]=S:(S-=65536,y[_++]=55296|S>>10&1023,y[_++]=56320|1023&S)}return m(y,_)},a.utf8border=function(k,p){var c;for((p=p||k.length)>k.length&&(p=k.length),c=p-1;0<=c&&(192&k[c])==128;)c--;return c<0||c===0?p:c+f[k[c]]>p?c:p}},{"./common":41}],43:[function(n,r,a){r.exports=function(i,s,o,f){for(var d=65535&i|0,m=i>>>16&65535|0,k=0;o!==0;){for(o-=k=2e3<o?2e3:o;m=m+(d=d+s[f++]|0)|0,--k;);d%=65521,m%=65521}return d|m<<16|0}},{}],44:[function(n,r,a){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,a){var i=function(){for(var s,o=[],f=0;f<256;f++){s=f;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;o[f]=s}return o}();r.exports=function(s,o,f,d){var m=i,k=d+f;s^=-1;for(var p=d;p<k;p++)s=s>>>8^m[255&(s^o[p])];return-1^s}},{}],46:[function(n,r,a){var i,s=n("../utils/common"),o=n("./trees"),f=n("./adler32"),d=n("./crc32"),m=n("./messages"),k=0,p=4,c=0,_=-2,S=-1,h=4,g=2,y=8,x=9,R=286,T=30,O=19,M=2*R+1,z=15,F=3,B=258,W=B+F+1,b=42,C=113,u=1,N=2,ne=3,A=4;function Q(l,j){return l.msg=m[j],j}function I(l){return(l<<1)-(4<l?9:0)}function K(l){for(var j=l.length;0<=--j;)l[j]=0}function P(l){var j=l.state,Y=j.pending;Y>l.avail_out&&(Y=l.avail_out),Y!==0&&(s.arraySet(l.output,j.pending_buf,j.pending_out,Y,l.next_out),l.next_out+=Y,j.pending_out+=Y,l.total_out+=Y,l.avail_out-=Y,j.pending-=Y,j.pending===0&&(j.pending_out=0))}function L(l,j){o._tr_flush_block(l,0<=l.block_start?l.block_start:-1,l.strstart-l.block_start,j),l.block_start=l.strstart,P(l.strm)}function te(l,j){l.pending_buf[l.pending++]=j}function Z(l,j){l.pending_buf[l.pending++]=j>>>8&255,l.pending_buf[l.pending++]=255&j}function ee(l,j){var Y,v,w=l.max_chain_length,D=l.strstart,q=l.prev_length,V=l.nice_match,E=l.strstart>l.w_size-W?l.strstart-(l.w_size-W):0,U=l.window,H=l.w_mask,G=l.prev,se=l.strstart+B,xe=U[D+q-1],me=U[D+q];l.prev_length>=l.good_match&&(w>>=2),V>l.lookahead&&(V=l.lookahead);do if(U[(Y=j)+q]===me&&U[Y+q-1]===xe&&U[Y]===U[D]&&U[++Y]===U[D+1]){D+=2,Y++;do;while(U[++D]===U[++Y]&&U[++D]===U[++Y]&&U[++D]===U[++Y]&&U[++D]===U[++Y]&&U[++D]===U[++Y]&&U[++D]===U[++Y]&&U[++D]===U[++Y]&&U[++D]===U[++Y]&&D<se);if(v=B-(se-D),D=se-B,q<v){if(l.match_start=j,V<=(q=v))break;xe=U[D+q-1],me=U[D+q]}}while((j=G[j&H])>E&&--w!=0);return q<=l.lookahead?q:l.lookahead}function pe(l){var j,Y,v,w,D,q,V,E,U,H,G=l.w_size;do{if(w=l.window_size-l.lookahead-l.strstart,l.strstart>=G+(G-W)){for(s.arraySet(l.window,l.window,G,G,0),l.match_start-=G,l.strstart-=G,l.block_start-=G,j=Y=l.hash_size;v=l.head[--j],l.head[j]=G<=v?v-G:0,--Y;);for(j=Y=G;v=l.prev[--j],l.prev[j]=G<=v?v-G:0,--Y;);w+=G}if(l.strm.avail_in===0)break;if(q=l.strm,V=l.window,E=l.strstart+l.lookahead,U=w,H=void 0,H=q.avail_in,U<H&&(H=U),Y=H===0?0:(q.avail_in-=H,s.arraySet(V,q.input,q.next_in,H,E),q.state.wrap===1?q.adler=f(q.adler,V,H,E):q.state.wrap===2&&(q.adler=d(q.adler,V,H,E)),q.next_in+=H,q.total_in+=H,H),l.lookahead+=Y,l.lookahead+l.insert>=F)for(D=l.strstart-l.insert,l.ins_h=l.window[D],l.ins_h=(l.ins_h<<l.hash_shift^l.window[D+1])&l.hash_mask;l.insert&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[D+F-1])&l.hash_mask,l.prev[D&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=D,D++,l.insert--,!(l.lookahead+l.insert<F)););}while(l.lookahead<W&&l.strm.avail_in!==0)}function Se(l,j){for(var Y,v;;){if(l.lookahead<W){if(pe(l),l.lookahead<W&&j===k)return u;if(l.lookahead===0)break}if(Y=0,l.lookahead>=F&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+F-1])&l.hash_mask,Y=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),Y!==0&&l.strstart-Y<=l.w_size-W&&(l.match_length=ee(l,Y)),l.match_length>=F)if(v=o._tr_tally(l,l.strstart-l.match_start,l.match_length-F),l.lookahead-=l.match_length,l.match_length<=l.max_lazy_match&&l.lookahead>=F){for(l.match_length--;l.strstart++,l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+F-1])&l.hash_mask,Y=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart,--l.match_length!=0;);l.strstart++}else l.strstart+=l.match_length,l.match_length=0,l.ins_h=l.window[l.strstart],l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+1])&l.hash_mask;else v=o._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++;if(v&&(L(l,!1),l.strm.avail_out===0))return u}return l.insert=l.strstart<F-1?l.strstart:F-1,j===p?(L(l,!0),l.strm.avail_out===0?ne:A):l.last_lit&&(L(l,!1),l.strm.avail_out===0)?u:N}function fe(l,j){for(var Y,v,w;;){if(l.lookahead<W){if(pe(l),l.lookahead<W&&j===k)return u;if(l.lookahead===0)break}if(Y=0,l.lookahead>=F&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+F-1])&l.hash_mask,Y=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),l.prev_length=l.match_length,l.prev_match=l.match_start,l.match_length=F-1,Y!==0&&l.prev_length<l.max_lazy_match&&l.strstart-Y<=l.w_size-W&&(l.match_length=ee(l,Y),l.match_length<=5&&(l.strategy===1||l.match_length===F&&4096<l.strstart-l.match_start)&&(l.match_length=F-1)),l.prev_length>=F&&l.match_length<=l.prev_length){for(w=l.strstart+l.lookahead-F,v=o._tr_tally(l,l.strstart-1-l.prev_match,l.prev_length-F),l.lookahead-=l.prev_length-1,l.prev_length-=2;++l.strstart<=w&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+F-1])&l.hash_mask,Y=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),--l.prev_length!=0;);if(l.match_available=0,l.match_length=F-1,l.strstart++,v&&(L(l,!1),l.strm.avail_out===0))return u}else if(l.match_available){if((v=o._tr_tally(l,0,l.window[l.strstart-1]))&&L(l,!1),l.strstart++,l.lookahead--,l.strm.avail_out===0)return u}else l.match_available=1,l.strstart++,l.lookahead--}return l.match_available&&(v=o._tr_tally(l,0,l.window[l.strstart-1]),l.match_available=0),l.insert=l.strstart<F-1?l.strstart:F-1,j===p?(L(l,!0),l.strm.avail_out===0?ne:A):l.last_lit&&(L(l,!1),l.strm.avail_out===0)?u:N}function ie(l,j,Y,v,w){this.good_length=l,this.max_lazy=j,this.nice_length=Y,this.max_chain=v,this.func=w}function be(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*M),this.dyn_dtree=new s.Buf16(2*(2*T+1)),this.bl_tree=new s.Buf16(2*(2*O+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(z+1),this.heap=new s.Buf16(2*R+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*R+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function we(l){var j;return l&&l.state?(l.total_in=l.total_out=0,l.data_type=g,(j=l.state).pending=0,j.pending_out=0,j.wrap<0&&(j.wrap=-j.wrap),j.status=j.wrap?b:C,l.adler=j.wrap===2?0:1,j.last_flush=k,o._tr_init(j),c):Q(l,_)}function ke(l){var j=we(l);return j===c&&function(Y){Y.window_size=2*Y.w_size,K(Y.head),Y.max_lazy_match=i[Y.level].max_lazy,Y.good_match=i[Y.level].good_length,Y.nice_match=i[Y.level].nice_length,Y.max_chain_length=i[Y.level].max_chain,Y.strstart=0,Y.block_start=0,Y.lookahead=0,Y.insert=0,Y.match_length=Y.prev_length=F-1,Y.match_available=0,Y.ins_h=0}(l.state),j}function Oe(l,j,Y,v,w,D){if(!l)return _;var q=1;if(j===S&&(j=6),v<0?(q=0,v=-v):15<v&&(q=2,v-=16),w<1||x<w||Y!==y||v<8||15<v||j<0||9<j||D<0||h<D)return Q(l,_);v===8&&(v=9);var V=new be;return(l.state=V).strm=l,V.wrap=q,V.gzhead=null,V.w_bits=v,V.w_size=1<<V.w_bits,V.w_mask=V.w_size-1,V.hash_bits=w+7,V.hash_size=1<<V.hash_bits,V.hash_mask=V.hash_size-1,V.hash_shift=~~((V.hash_bits+F-1)/F),V.window=new s.Buf8(2*V.w_size),V.head=new s.Buf16(V.hash_size),V.prev=new s.Buf16(V.w_size),V.lit_bufsize=1<<w+6,V.pending_buf_size=4*V.lit_bufsize,V.pending_buf=new s.Buf8(V.pending_buf_size),V.d_buf=1*V.lit_bufsize,V.l_buf=3*V.lit_bufsize,V.level=j,V.strategy=D,V.method=Y,ke(l)}i=[new ie(0,0,0,0,function(l,j){var Y=65535;for(Y>l.pending_buf_size-5&&(Y=l.pending_buf_size-5);;){if(l.lookahead<=1){if(pe(l),l.lookahead===0&&j===k)return u;if(l.lookahead===0)break}l.strstart+=l.lookahead,l.lookahead=0;var v=l.block_start+Y;if((l.strstart===0||l.strstart>=v)&&(l.lookahead=l.strstart-v,l.strstart=v,L(l,!1),l.strm.avail_out===0)||l.strstart-l.block_start>=l.w_size-W&&(L(l,!1),l.strm.avail_out===0))return u}return l.insert=0,j===p?(L(l,!0),l.strm.avail_out===0?ne:A):(l.strstart>l.block_start&&(L(l,!1),l.strm.avail_out),u)}),new ie(4,4,8,4,Se),new ie(4,5,16,8,Se),new ie(4,6,32,32,Se),new ie(4,4,16,16,fe),new ie(8,16,32,32,fe),new ie(8,16,128,128,fe),new ie(8,32,128,256,fe),new ie(32,128,258,1024,fe),new ie(32,258,258,4096,fe)],a.deflateInit=function(l,j){return Oe(l,j,y,15,8,0)},a.deflateInit2=Oe,a.deflateReset=ke,a.deflateResetKeep=we,a.deflateSetHeader=function(l,j){return l&&l.state?l.state.wrap!==2?_:(l.state.gzhead=j,c):_},a.deflate=function(l,j){var Y,v,w,D;if(!l||!l.state||5<j||j<0)return l?Q(l,_):_;if(v=l.state,!l.output||!l.input&&l.avail_in!==0||v.status===666&&j!==p)return Q(l,l.avail_out===0?-5:_);if(v.strm=l,Y=v.last_flush,v.last_flush=j,v.status===b)if(v.wrap===2)l.adler=0,te(v,31),te(v,139),te(v,8),v.gzhead?(te(v,(v.gzhead.text?1:0)+(v.gzhead.hcrc?2:0)+(v.gzhead.extra?4:0)+(v.gzhead.name?8:0)+(v.gzhead.comment?16:0)),te(v,255&v.gzhead.time),te(v,v.gzhead.time>>8&255),te(v,v.gzhead.time>>16&255),te(v,v.gzhead.time>>24&255),te(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),te(v,255&v.gzhead.os),v.gzhead.extra&&v.gzhead.extra.length&&(te(v,255&v.gzhead.extra.length),te(v,v.gzhead.extra.length>>8&255)),v.gzhead.hcrc&&(l.adler=d(l.adler,v.pending_buf,v.pending,0)),v.gzindex=0,v.status=69):(te(v,0),te(v,0),te(v,0),te(v,0),te(v,0),te(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),te(v,3),v.status=C);else{var q=y+(v.w_bits-8<<4)<<8;q|=(2<=v.strategy||v.level<2?0:v.level<6?1:v.level===6?2:3)<<6,v.strstart!==0&&(q|=32),q+=31-q%31,v.status=C,Z(v,q),v.strstart!==0&&(Z(v,l.adler>>>16),Z(v,65535&l.adler)),l.adler=1}if(v.status===69)if(v.gzhead.extra){for(w=v.pending;v.gzindex<(65535&v.gzhead.extra.length)&&(v.pending!==v.pending_buf_size||(v.gzhead.hcrc&&v.pending>w&&(l.adler=d(l.adler,v.pending_buf,v.pending-w,w)),P(l),w=v.pending,v.pending!==v.pending_buf_size));)te(v,255&v.gzhead.extra[v.gzindex]),v.gzindex++;v.gzhead.hcrc&&v.pending>w&&(l.adler=d(l.adler,v.pending_buf,v.pending-w,w)),v.gzindex===v.gzhead.extra.length&&(v.gzindex=0,v.status=73)}else v.status=73;if(v.status===73)if(v.gzhead.name){w=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>w&&(l.adler=d(l.adler,v.pending_buf,v.pending-w,w)),P(l),w=v.pending,v.pending===v.pending_buf_size)){D=1;break}D=v.gzindex<v.gzhead.name.length?255&v.gzhead.name.charCodeAt(v.gzindex++):0,te(v,D)}while(D!==0);v.gzhead.hcrc&&v.pending>w&&(l.adler=d(l.adler,v.pending_buf,v.pending-w,w)),D===0&&(v.gzindex=0,v.status=91)}else v.status=91;if(v.status===91)if(v.gzhead.comment){w=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>w&&(l.adler=d(l.adler,v.pending_buf,v.pending-w,w)),P(l),w=v.pending,v.pending===v.pending_buf_size)){D=1;break}D=v.gzindex<v.gzhead.comment.length?255&v.gzhead.comment.charCodeAt(v.gzindex++):0,te(v,D)}while(D!==0);v.gzhead.hcrc&&v.pending>w&&(l.adler=d(l.adler,v.pending_buf,v.pending-w,w)),D===0&&(v.status=103)}else v.status=103;if(v.status===103&&(v.gzhead.hcrc?(v.pending+2>v.pending_buf_size&&P(l),v.pending+2<=v.pending_buf_size&&(te(v,255&l.adler),te(v,l.adler>>8&255),l.adler=0,v.status=C)):v.status=C),v.pending!==0){if(P(l),l.avail_out===0)return v.last_flush=-1,c}else if(l.avail_in===0&&I(j)<=I(Y)&&j!==p)return Q(l,-5);if(v.status===666&&l.avail_in!==0)return Q(l,-5);if(l.avail_in!==0||v.lookahead!==0||j!==k&&v.status!==666){var V=v.strategy===2?function(E,U){for(var H;;){if(E.lookahead===0&&(pe(E),E.lookahead===0)){if(U===k)return u;break}if(E.match_length=0,H=o._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++,H&&(L(E,!1),E.strm.avail_out===0))return u}return E.insert=0,U===p?(L(E,!0),E.strm.avail_out===0?ne:A):E.last_lit&&(L(E,!1),E.strm.avail_out===0)?u:N}(v,j):v.strategy===3?function(E,U){for(var H,G,se,xe,me=E.window;;){if(E.lookahead<=B){if(pe(E),E.lookahead<=B&&U===k)return u;if(E.lookahead===0)break}if(E.match_length=0,E.lookahead>=F&&0<E.strstart&&(G=me[se=E.strstart-1])===me[++se]&&G===me[++se]&&G===me[++se]){xe=E.strstart+B;do;while(G===me[++se]&&G===me[++se]&&G===me[++se]&&G===me[++se]&&G===me[++se]&&G===me[++se]&&G===me[++se]&&G===me[++se]&&se<xe);E.match_length=B-(xe-se),E.match_length>E.lookahead&&(E.match_length=E.lookahead)}if(E.match_length>=F?(H=o._tr_tally(E,1,E.match_length-F),E.lookahead-=E.match_length,E.strstart+=E.match_length,E.match_length=0):(H=o._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++),H&&(L(E,!1),E.strm.avail_out===0))return u}return E.insert=0,U===p?(L(E,!0),E.strm.avail_out===0?ne:A):E.last_lit&&(L(E,!1),E.strm.avail_out===0)?u:N}(v,j):i[v.level].func(v,j);if(V!==ne&&V!==A||(v.status=666),V===u||V===ne)return l.avail_out===0&&(v.last_flush=-1),c;if(V===N&&(j===1?o._tr_align(v):j!==5&&(o._tr_stored_block(v,0,0,!1),j===3&&(K(v.head),v.lookahead===0&&(v.strstart=0,v.block_start=0,v.insert=0))),P(l),l.avail_out===0))return v.last_flush=-1,c}return j!==p?c:v.wrap<=0?1:(v.wrap===2?(te(v,255&l.adler),te(v,l.adler>>8&255),te(v,l.adler>>16&255),te(v,l.adler>>24&255),te(v,255&l.total_in),te(v,l.total_in>>8&255),te(v,l.total_in>>16&255),te(v,l.total_in>>24&255)):(Z(v,l.adler>>>16),Z(v,65535&l.adler)),P(l),0<v.wrap&&(v.wrap=-v.wrap),v.pending!==0?c:1)},a.deflateEnd=function(l){var j;return l&&l.state?(j=l.state.status)!==b&&j!==69&&j!==73&&j!==91&&j!==103&&j!==C&&j!==666?Q(l,_):(l.state=null,j===C?Q(l,-3):c):_},a.deflateSetDictionary=function(l,j){var Y,v,w,D,q,V,E,U,H=j.length;if(!l||!l.state||(D=(Y=l.state).wrap)===2||D===1&&Y.status!==b||Y.lookahead)return _;for(D===1&&(l.adler=f(l.adler,j,H,0)),Y.wrap=0,H>=Y.w_size&&(D===0&&(K(Y.head),Y.strstart=0,Y.block_start=0,Y.insert=0),U=new s.Buf8(Y.w_size),s.arraySet(U,j,H-Y.w_size,Y.w_size,0),j=U,H=Y.w_size),q=l.avail_in,V=l.next_in,E=l.input,l.avail_in=H,l.next_in=0,l.input=j,pe(Y);Y.lookahead>=F;){for(v=Y.strstart,w=Y.lookahead-(F-1);Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[v+F-1])&Y.hash_mask,Y.prev[v&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=v,v++,--w;);Y.strstart=v,Y.lookahead=F-1,pe(Y)}return Y.strstart+=Y.lookahead,Y.block_start=Y.strstart,Y.insert=Y.lookahead,Y.lookahead=0,Y.match_length=Y.prev_length=F-1,Y.match_available=0,l.next_in=V,l.input=E,l.avail_in=q,Y.wrap=D,c},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,a){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,a){r.exports=function(i,s){var o,f,d,m,k,p,c,_,S,h,g,y,x,R,T,O,M,z,F,B,W,b,C,u,N;o=i.state,f=i.next_in,u=i.input,d=f+(i.avail_in-5),m=i.next_out,N=i.output,k=m-(s-i.avail_out),p=m+(i.avail_out-257),c=o.dmax,_=o.wsize,S=o.whave,h=o.wnext,g=o.window,y=o.hold,x=o.bits,R=o.lencode,T=o.distcode,O=(1<<o.lenbits)-1,M=(1<<o.distbits)-1;e:do{x<15&&(y+=u[f++]<<x,x+=8,y+=u[f++]<<x,x+=8),z=R[y&O];t:for(;;){if(y>>>=F=z>>>24,x-=F,(F=z>>>16&255)===0)N[m++]=65535&z;else{if(!(16&F)){if((64&F)==0){z=R[(65535&z)+(y&(1<<F)-1)];continue t}if(32&F){o.mode=12;break e}i.msg="invalid literal/length code",o.mode=30;break e}B=65535&z,(F&=15)&&(x<F&&(y+=u[f++]<<x,x+=8),B+=y&(1<<F)-1,y>>>=F,x-=F),x<15&&(y+=u[f++]<<x,x+=8,y+=u[f++]<<x,x+=8),z=T[y&M];n:for(;;){if(y>>>=F=z>>>24,x-=F,!(16&(F=z>>>16&255))){if((64&F)==0){z=T[(65535&z)+(y&(1<<F)-1)];continue n}i.msg="invalid distance code",o.mode=30;break e}if(W=65535&z,x<(F&=15)&&(y+=u[f++]<<x,(x+=8)<F&&(y+=u[f++]<<x,x+=8)),c<(W+=y&(1<<F)-1)){i.msg="invalid distance too far back",o.mode=30;break e}if(y>>>=F,x-=F,(F=m-k)<W){if(S<(F=W-F)&&o.sane){i.msg="invalid distance too far back",o.mode=30;break e}if(C=g,(b=0)===h){if(b+=_-F,F<B){for(B-=F;N[m++]=g[b++],--F;);b=m-W,C=N}}else if(h<F){if(b+=_+h-F,(F-=h)<B){for(B-=F;N[m++]=g[b++],--F;);if(b=0,h<B){for(B-=F=h;N[m++]=g[b++],--F;);b=m-W,C=N}}}else if(b+=h-F,F<B){for(B-=F;N[m++]=g[b++],--F;);b=m-W,C=N}for(;2<B;)N[m++]=C[b++],N[m++]=C[b++],N[m++]=C[b++],B-=3;B&&(N[m++]=C[b++],1<B&&(N[m++]=C[b++]))}else{for(b=m-W;N[m++]=N[b++],N[m++]=N[b++],N[m++]=N[b++],2<(B-=3););B&&(N[m++]=N[b++],1<B&&(N[m++]=N[b++]))}break}}break}}while(f<d&&m<p);f-=B=x>>3,y&=(1<<(x-=B<<3))-1,i.next_in=f,i.next_out=m,i.avail_in=f<d?d-f+5:5-(f-d),i.avail_out=m<p?p-m+257:257-(m-p),o.hold=y,o.bits=x}},{}],49:[function(n,r,a){var i=n("../utils/common"),s=n("./adler32"),o=n("./crc32"),f=n("./inffast"),d=n("./inftrees"),m=1,k=2,p=0,c=-2,_=1,S=852,h=592;function g(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(b){var C;return b&&b.state?(C=b.state,b.total_in=b.total_out=C.total=0,b.msg="",C.wrap&&(b.adler=1&C.wrap),C.mode=_,C.last=0,C.havedict=0,C.dmax=32768,C.head=null,C.hold=0,C.bits=0,C.lencode=C.lendyn=new i.Buf32(S),C.distcode=C.distdyn=new i.Buf32(h),C.sane=1,C.back=-1,p):c}function R(b){var C;return b&&b.state?((C=b.state).wsize=0,C.whave=0,C.wnext=0,x(b)):c}function T(b,C){var u,N;return b&&b.state?(N=b.state,C<0?(u=0,C=-C):(u=1+(C>>4),C<48&&(C&=15)),C&&(C<8||15<C)?c:(N.window!==null&&N.wbits!==C&&(N.window=null),N.wrap=u,N.wbits=C,R(b))):c}function O(b,C){var u,N;return b?(N=new y,(b.state=N).window=null,(u=T(b,C))!==p&&(b.state=null),u):c}var M,z,F=!0;function B(b){if(F){var C;for(M=new i.Buf32(512),z=new i.Buf32(32),C=0;C<144;)b.lens[C++]=8;for(;C<256;)b.lens[C++]=9;for(;C<280;)b.lens[C++]=7;for(;C<288;)b.lens[C++]=8;for(d(m,b.lens,0,288,M,0,b.work,{bits:9}),C=0;C<32;)b.lens[C++]=5;d(k,b.lens,0,32,z,0,b.work,{bits:5}),F=!1}b.lencode=M,b.lenbits=9,b.distcode=z,b.distbits=5}function W(b,C,u,N){var ne,A=b.state;return A.window===null&&(A.wsize=1<<A.wbits,A.wnext=0,A.whave=0,A.window=new i.Buf8(A.wsize)),N>=A.wsize?(i.arraySet(A.window,C,u-A.wsize,A.wsize,0),A.wnext=0,A.whave=A.wsize):(N<(ne=A.wsize-A.wnext)&&(ne=N),i.arraySet(A.window,C,u-N,ne,A.wnext),(N-=ne)?(i.arraySet(A.window,C,u-N,N,0),A.wnext=N,A.whave=A.wsize):(A.wnext+=ne,A.wnext===A.wsize&&(A.wnext=0),A.whave<A.wsize&&(A.whave+=ne))),0}a.inflateReset=R,a.inflateReset2=T,a.inflateResetKeep=x,a.inflateInit=function(b){return O(b,15)},a.inflateInit2=O,a.inflate=function(b,C){var u,N,ne,A,Q,I,K,P,L,te,Z,ee,pe,Se,fe,ie,be,we,ke,Oe,l,j,Y,v,w=0,D=new i.Buf8(4),q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&b.avail_in!==0)return c;(u=b.state).mode===12&&(u.mode=13),Q=b.next_out,ne=b.output,K=b.avail_out,A=b.next_in,N=b.input,I=b.avail_in,P=u.hold,L=u.bits,te=I,Z=K,j=p;e:for(;;)switch(u.mode){case _:if(u.wrap===0){u.mode=13;break}for(;L<16;){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}if(2&u.wrap&&P===35615){D[u.check=0]=255&P,D[1]=P>>>8&255,u.check=o(u.check,D,2,0),L=P=0,u.mode=2;break}if(u.flags=0,u.head&&(u.head.done=!1),!(1&u.wrap)||(((255&P)<<8)+(P>>8))%31){b.msg="incorrect header check",u.mode=30;break}if((15&P)!=8){b.msg="unknown compression method",u.mode=30;break}if(L-=4,l=8+(15&(P>>>=4)),u.wbits===0)u.wbits=l;else if(l>u.wbits){b.msg="invalid window size",u.mode=30;break}u.dmax=1<<l,b.adler=u.check=1,u.mode=512&P?10:12,L=P=0;break;case 2:for(;L<16;){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}if(u.flags=P,(255&u.flags)!=8){b.msg="unknown compression method",u.mode=30;break}if(57344&u.flags){b.msg="unknown header flags set",u.mode=30;break}u.head&&(u.head.text=P>>8&1),512&u.flags&&(D[0]=255&P,D[1]=P>>>8&255,u.check=o(u.check,D,2,0)),L=P=0,u.mode=3;case 3:for(;L<32;){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}u.head&&(u.head.time=P),512&u.flags&&(D[0]=255&P,D[1]=P>>>8&255,D[2]=P>>>16&255,D[3]=P>>>24&255,u.check=o(u.check,D,4,0)),L=P=0,u.mode=4;case 4:for(;L<16;){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}u.head&&(u.head.xflags=255&P,u.head.os=P>>8),512&u.flags&&(D[0]=255&P,D[1]=P>>>8&255,u.check=o(u.check,D,2,0)),L=P=0,u.mode=5;case 5:if(1024&u.flags){for(;L<16;){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}u.length=P,u.head&&(u.head.extra_len=P),512&u.flags&&(D[0]=255&P,D[1]=P>>>8&255,u.check=o(u.check,D,2,0)),L=P=0}else u.head&&(u.head.extra=null);u.mode=6;case 6:if(1024&u.flags&&(I<(ee=u.length)&&(ee=I),ee&&(u.head&&(l=u.head.extra_len-u.length,u.head.extra||(u.head.extra=new Array(u.head.extra_len)),i.arraySet(u.head.extra,N,A,ee,l)),512&u.flags&&(u.check=o(u.check,N,ee,A)),I-=ee,A+=ee,u.length-=ee),u.length))break e;u.length=0,u.mode=7;case 7:if(2048&u.flags){if(I===0)break e;for(ee=0;l=N[A+ee++],u.head&&l&&u.length<65536&&(u.head.name+=String.fromCharCode(l)),l&&ee<I;);if(512&u.flags&&(u.check=o(u.check,N,ee,A)),I-=ee,A+=ee,l)break e}else u.head&&(u.head.name=null);u.length=0,u.mode=8;case 8:if(4096&u.flags){if(I===0)break e;for(ee=0;l=N[A+ee++],u.head&&l&&u.length<65536&&(u.head.comment+=String.fromCharCode(l)),l&&ee<I;);if(512&u.flags&&(u.check=o(u.check,N,ee,A)),I-=ee,A+=ee,l)break e}else u.head&&(u.head.comment=null);u.mode=9;case 9:if(512&u.flags){for(;L<16;){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}if(P!==(65535&u.check)){b.msg="header crc mismatch",u.mode=30;break}L=P=0}u.head&&(u.head.hcrc=u.flags>>9&1,u.head.done=!0),b.adler=u.check=0,u.mode=12;break;case 10:for(;L<32;){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}b.adler=u.check=g(P),L=P=0,u.mode=11;case 11:if(u.havedict===0)return b.next_out=Q,b.avail_out=K,b.next_in=A,b.avail_in=I,u.hold=P,u.bits=L,2;b.adler=u.check=1,u.mode=12;case 12:if(C===5||C===6)break e;case 13:if(u.last){P>>>=7&L,L-=7&L,u.mode=27;break}for(;L<3;){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}switch(u.last=1&P,L-=1,3&(P>>>=1)){case 0:u.mode=14;break;case 1:if(B(u),u.mode=20,C!==6)break;P>>>=2,L-=2;break e;case 2:u.mode=17;break;case 3:b.msg="invalid block type",u.mode=30}P>>>=2,L-=2;break;case 14:for(P>>>=7&L,L-=7&L;L<32;){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}if((65535&P)!=(P>>>16^65535)){b.msg="invalid stored block lengths",u.mode=30;break}if(u.length=65535&P,L=P=0,u.mode=15,C===6)break e;case 15:u.mode=16;case 16:if(ee=u.length){if(I<ee&&(ee=I),K<ee&&(ee=K),ee===0)break e;i.arraySet(ne,N,A,ee,Q),I-=ee,A+=ee,K-=ee,Q+=ee,u.length-=ee;break}u.mode=12;break;case 17:for(;L<14;){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}if(u.nlen=257+(31&P),P>>>=5,L-=5,u.ndist=1+(31&P),P>>>=5,L-=5,u.ncode=4+(15&P),P>>>=4,L-=4,286<u.nlen||30<u.ndist){b.msg="too many length or distance symbols",u.mode=30;break}u.have=0,u.mode=18;case 18:for(;u.have<u.ncode;){for(;L<3;){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}u.lens[q[u.have++]]=7&P,P>>>=3,L-=3}for(;u.have<19;)u.lens[q[u.have++]]=0;if(u.lencode=u.lendyn,u.lenbits=7,Y={bits:u.lenbits},j=d(0,u.lens,0,19,u.lencode,0,u.work,Y),u.lenbits=Y.bits,j){b.msg="invalid code lengths set",u.mode=30;break}u.have=0,u.mode=19;case 19:for(;u.have<u.nlen+u.ndist;){for(;ie=(w=u.lencode[P&(1<<u.lenbits)-1])>>>16&255,be=65535&w,!((fe=w>>>24)<=L);){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}if(be<16)P>>>=fe,L-=fe,u.lens[u.have++]=be;else{if(be===16){for(v=fe+2;L<v;){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}if(P>>>=fe,L-=fe,u.have===0){b.msg="invalid bit length repeat",u.mode=30;break}l=u.lens[u.have-1],ee=3+(3&P),P>>>=2,L-=2}else if(be===17){for(v=fe+3;L<v;){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}L-=fe,l=0,ee=3+(7&(P>>>=fe)),P>>>=3,L-=3}else{for(v=fe+7;L<v;){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}L-=fe,l=0,ee=11+(127&(P>>>=fe)),P>>>=7,L-=7}if(u.have+ee>u.nlen+u.ndist){b.msg="invalid bit length repeat",u.mode=30;break}for(;ee--;)u.lens[u.have++]=l}}if(u.mode===30)break;if(u.lens[256]===0){b.msg="invalid code -- missing end-of-block",u.mode=30;break}if(u.lenbits=9,Y={bits:u.lenbits},j=d(m,u.lens,0,u.nlen,u.lencode,0,u.work,Y),u.lenbits=Y.bits,j){b.msg="invalid literal/lengths set",u.mode=30;break}if(u.distbits=6,u.distcode=u.distdyn,Y={bits:u.distbits},j=d(k,u.lens,u.nlen,u.ndist,u.distcode,0,u.work,Y),u.distbits=Y.bits,j){b.msg="invalid distances set",u.mode=30;break}if(u.mode=20,C===6)break e;case 20:u.mode=21;case 21:if(6<=I&&258<=K){b.next_out=Q,b.avail_out=K,b.next_in=A,b.avail_in=I,u.hold=P,u.bits=L,f(b,Z),Q=b.next_out,ne=b.output,K=b.avail_out,A=b.next_in,N=b.input,I=b.avail_in,P=u.hold,L=u.bits,u.mode===12&&(u.back=-1);break}for(u.back=0;ie=(w=u.lencode[P&(1<<u.lenbits)-1])>>>16&255,be=65535&w,!((fe=w>>>24)<=L);){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}if(ie&&(240&ie)==0){for(we=fe,ke=ie,Oe=be;ie=(w=u.lencode[Oe+((P&(1<<we+ke)-1)>>we)])>>>16&255,be=65535&w,!(we+(fe=w>>>24)<=L);){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}P>>>=we,L-=we,u.back+=we}if(P>>>=fe,L-=fe,u.back+=fe,u.length=be,ie===0){u.mode=26;break}if(32&ie){u.back=-1,u.mode=12;break}if(64&ie){b.msg="invalid literal/length code",u.mode=30;break}u.extra=15&ie,u.mode=22;case 22:if(u.extra){for(v=u.extra;L<v;){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}u.length+=P&(1<<u.extra)-1,P>>>=u.extra,L-=u.extra,u.back+=u.extra}u.was=u.length,u.mode=23;case 23:for(;ie=(w=u.distcode[P&(1<<u.distbits)-1])>>>16&255,be=65535&w,!((fe=w>>>24)<=L);){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}if((240&ie)==0){for(we=fe,ke=ie,Oe=be;ie=(w=u.distcode[Oe+((P&(1<<we+ke)-1)>>we)])>>>16&255,be=65535&w,!(we+(fe=w>>>24)<=L);){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}P>>>=we,L-=we,u.back+=we}if(P>>>=fe,L-=fe,u.back+=fe,64&ie){b.msg="invalid distance code",u.mode=30;break}u.offset=be,u.extra=15&ie,u.mode=24;case 24:if(u.extra){for(v=u.extra;L<v;){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}u.offset+=P&(1<<u.extra)-1,P>>>=u.extra,L-=u.extra,u.back+=u.extra}if(u.offset>u.dmax){b.msg="invalid distance too far back",u.mode=30;break}u.mode=25;case 25:if(K===0)break e;if(ee=Z-K,u.offset>ee){if((ee=u.offset-ee)>u.whave&&u.sane){b.msg="invalid distance too far back",u.mode=30;break}pe=ee>u.wnext?(ee-=u.wnext,u.wsize-ee):u.wnext-ee,ee>u.length&&(ee=u.length),Se=u.window}else Se=ne,pe=Q-u.offset,ee=u.length;for(K<ee&&(ee=K),K-=ee,u.length-=ee;ne[Q++]=Se[pe++],--ee;);u.length===0&&(u.mode=21);break;case 26:if(K===0)break e;ne[Q++]=u.length,K--,u.mode=21;break;case 27:if(u.wrap){for(;L<32;){if(I===0)break e;I--,P|=N[A++]<<L,L+=8}if(Z-=K,b.total_out+=Z,u.total+=Z,Z&&(b.adler=u.check=u.flags?o(u.check,ne,Z,Q-Z):s(u.check,ne,Z,Q-Z)),Z=K,(u.flags?P:g(P))!==u.check){b.msg="incorrect data check",u.mode=30;break}L=P=0}u.mode=28;case 28:if(u.wrap&&u.flags){for(;L<32;){if(I===0)break e;I--,P+=N[A++]<<L,L+=8}if(P!==(4294967295&u.total)){b.msg="incorrect length check",u.mode=30;break}L=P=0}u.mode=29;case 29:j=1;break e;case 30:j=-3;break e;case 31:return-4;case 32:default:return c}return b.next_out=Q,b.avail_out=K,b.next_in=A,b.avail_in=I,u.hold=P,u.bits=L,(u.wsize||Z!==b.avail_out&&u.mode<30&&(u.mode<27||C!==4))&&W(b,b.output,b.next_out,Z-b.avail_out)?(u.mode=31,-4):(te-=b.avail_in,Z-=b.avail_out,b.total_in+=te,b.total_out+=Z,u.total+=Z,u.wrap&&Z&&(b.adler=u.check=u.flags?o(u.check,ne,Z,b.next_out-Z):s(u.check,ne,Z,b.next_out-Z)),b.data_type=u.bits+(u.last?64:0)+(u.mode===12?128:0)+(u.mode===20||u.mode===15?256:0),(te==0&&Z===0||C===4)&&j===p&&(j=-5),j)},a.inflateEnd=function(b){if(!b||!b.state)return c;var C=b.state;return C.window&&(C.window=null),b.state=null,p},a.inflateGetHeader=function(b,C){var u;return b&&b.state?(2&(u=b.state).wrap)==0?c:((u.head=C).done=!1,p):c},a.inflateSetDictionary=function(b,C){var u,N=C.length;return b&&b.state?(u=b.state).wrap!==0&&u.mode!==11?c:u.mode===11&&s(1,C,N,0)!==u.check?-3:W(b,C,N,N)?(u.mode=31,-4):(u.havedict=1,p):c},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,a){var i=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(m,k,p,c,_,S,h,g){var y,x,R,T,O,M,z,F,B,W=g.bits,b=0,C=0,u=0,N=0,ne=0,A=0,Q=0,I=0,K=0,P=0,L=null,te=0,Z=new i.Buf16(16),ee=new i.Buf16(16),pe=null,Se=0;for(b=0;b<=15;b++)Z[b]=0;for(C=0;C<c;C++)Z[k[p+C]]++;for(ne=W,N=15;1<=N&&Z[N]===0;N--);if(N<ne&&(ne=N),N===0)return _[S++]=20971520,_[S++]=20971520,g.bits=1,0;for(u=1;u<N&&Z[u]===0;u++);for(ne<u&&(ne=u),b=I=1;b<=15;b++)if(I<<=1,(I-=Z[b])<0)return-1;if(0<I&&(m===0||N!==1))return-1;for(ee[1]=0,b=1;b<15;b++)ee[b+1]=ee[b]+Z[b];for(C=0;C<c;C++)k[p+C]!==0&&(h[ee[k[p+C]]++]=C);if(M=m===0?(L=pe=h,19):m===1?(L=s,te-=257,pe=o,Se-=257,256):(L=f,pe=d,-1),b=u,O=S,Q=C=P=0,R=-1,T=(K=1<<(A=ne))-1,m===1&&852<K||m===2&&592<K)return 1;for(;;){for(z=b-Q,B=h[C]<M?(F=0,h[C]):h[C]>M?(F=pe[Se+h[C]],L[te+h[C]]):(F=96,0),y=1<<b-Q,u=x=1<<A;_[O+(P>>Q)+(x-=y)]=z<<24|F<<16|B|0,x!==0;);for(y=1<<b-1;P&y;)y>>=1;if(y!==0?(P&=y-1,P+=y):P=0,C++,--Z[b]==0){if(b===N)break;b=k[p+h[C]]}if(ne<b&&(P&T)!==R){for(Q===0&&(Q=ne),O+=u,I=1<<(A=b-Q);A+Q<N&&!((I-=Z[A+Q])<=0);)A++,I<<=1;if(K+=1<<A,m===1&&852<K||m===2&&592<K)return 1;_[R=P&T]=ne<<24|A<<16|O-S|0}}return P!==0&&(_[O+P]=b-Q<<24|64<<16|0),g.bits=ne,0}},{"../utils/common":41}],51:[function(n,r,a){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,a){var i=n("../utils/common"),s=0,o=1;function f(w){for(var D=w.length;0<=--D;)w[D]=0}var d=0,m=29,k=256,p=k+1+m,c=30,_=19,S=2*p+1,h=15,g=16,y=7,x=256,R=16,T=17,O=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=new Array(2*(p+2));f(W);var b=new Array(2*c);f(b);var C=new Array(512);f(C);var u=new Array(256);f(u);var N=new Array(m);f(N);var ne,A,Q,I=new Array(c);function K(w,D,q,V,E){this.static_tree=w,this.extra_bits=D,this.extra_base=q,this.elems=V,this.max_length=E,this.has_stree=w&&w.length}function P(w,D){this.dyn_tree=w,this.max_code=0,this.stat_desc=D}function L(w){return w<256?C[w]:C[256+(w>>>7)]}function te(w,D){w.pending_buf[w.pending++]=255&D,w.pending_buf[w.pending++]=D>>>8&255}function Z(w,D,q){w.bi_valid>g-q?(w.bi_buf|=D<<w.bi_valid&65535,te(w,w.bi_buf),w.bi_buf=D>>g-w.bi_valid,w.bi_valid+=q-g):(w.bi_buf|=D<<w.bi_valid&65535,w.bi_valid+=q)}function ee(w,D,q){Z(w,q[2*D],q[2*D+1])}function pe(w,D){for(var q=0;q|=1&w,w>>>=1,q<<=1,0<--D;);return q>>>1}function Se(w,D,q){var V,E,U=new Array(h+1),H=0;for(V=1;V<=h;V++)U[V]=H=H+q[V-1]<<1;for(E=0;E<=D;E++){var G=w[2*E+1];G!==0&&(w[2*E]=pe(U[G]++,G))}}function fe(w){var D;for(D=0;D<p;D++)w.dyn_ltree[2*D]=0;for(D=0;D<c;D++)w.dyn_dtree[2*D]=0;for(D=0;D<_;D++)w.bl_tree[2*D]=0;w.dyn_ltree[2*x]=1,w.opt_len=w.static_len=0,w.last_lit=w.matches=0}function ie(w){8<w.bi_valid?te(w,w.bi_buf):0<w.bi_valid&&(w.pending_buf[w.pending++]=w.bi_buf),w.bi_buf=0,w.bi_valid=0}function be(w,D,q,V){var E=2*D,U=2*q;return w[E]<w[U]||w[E]===w[U]&&V[D]<=V[q]}function we(w,D,q){for(var V=w.heap[q],E=q<<1;E<=w.heap_len&&(E<w.heap_len&&be(D,w.heap[E+1],w.heap[E],w.depth)&&E++,!be(D,V,w.heap[E],w.depth));)w.heap[q]=w.heap[E],q=E,E<<=1;w.heap[q]=V}function ke(w,D,q){var V,E,U,H,G=0;if(w.last_lit!==0)for(;V=w.pending_buf[w.d_buf+2*G]<<8|w.pending_buf[w.d_buf+2*G+1],E=w.pending_buf[w.l_buf+G],G++,V===0?ee(w,E,D):(ee(w,(U=u[E])+k+1,D),(H=M[U])!==0&&Z(w,E-=N[U],H),ee(w,U=L(--V),q),(H=z[U])!==0&&Z(w,V-=I[U],H)),G<w.last_lit;);ee(w,x,D)}function Oe(w,D){var q,V,E,U=D.dyn_tree,H=D.stat_desc.static_tree,G=D.stat_desc.has_stree,se=D.stat_desc.elems,xe=-1;for(w.heap_len=0,w.heap_max=S,q=0;q<se;q++)U[2*q]!==0?(w.heap[++w.heap_len]=xe=q,w.depth[q]=0):U[2*q+1]=0;for(;w.heap_len<2;)U[2*(E=w.heap[++w.heap_len]=xe<2?++xe:0)]=1,w.depth[E]=0,w.opt_len--,G&&(w.static_len-=H[2*E+1]);for(D.max_code=xe,q=w.heap_len>>1;1<=q;q--)we(w,U,q);for(E=se;q=w.heap[1],w.heap[1]=w.heap[w.heap_len--],we(w,U,1),V=w.heap[1],w.heap[--w.heap_max]=q,w.heap[--w.heap_max]=V,U[2*E]=U[2*q]+U[2*V],w.depth[E]=(w.depth[q]>=w.depth[V]?w.depth[q]:w.depth[V])+1,U[2*q+1]=U[2*V+1]=E,w.heap[1]=E++,we(w,U,1),2<=w.heap_len;);w.heap[--w.heap_max]=w.heap[1],function(me,je){var rn,lt,an,Ae,Tn,mr,mt=je.dyn_tree,_a=je.max_code,Fs=je.stat_desc.static_tree,As=je.stat_desc.has_stree,Ls=je.stat_desc.extra_bits,ba=je.stat_desc.extra_base,sn=je.stat_desc.max_length,Dn=0;for(Ae=0;Ae<=h;Ae++)me.bl_count[Ae]=0;for(mt[2*me.heap[me.heap_max]+1]=0,rn=me.heap_max+1;rn<S;rn++)sn<(Ae=mt[2*mt[2*(lt=me.heap[rn])+1]+1]+1)&&(Ae=sn,Dn++),mt[2*lt+1]=Ae,_a<lt||(me.bl_count[Ae]++,Tn=0,ba<=lt&&(Tn=Ls[lt-ba]),mr=mt[2*lt],me.opt_len+=mr*(Ae+Tn),As&&(me.static_len+=mr*(Fs[2*lt+1]+Tn)));if(Dn!==0){do{for(Ae=sn-1;me.bl_count[Ae]===0;)Ae--;me.bl_count[Ae]--,me.bl_count[Ae+1]+=2,me.bl_count[sn]--,Dn-=2}while(0<Dn);for(Ae=sn;Ae!==0;Ae--)for(lt=me.bl_count[Ae];lt!==0;)_a<(an=me.heap[--rn])||(mt[2*an+1]!==Ae&&(me.opt_len+=(Ae-mt[2*an+1])*mt[2*an],mt[2*an+1]=Ae),lt--)}}(w,D),Se(U,xe,w.bl_count)}function l(w,D,q){var V,E,U=-1,H=D[1],G=0,se=7,xe=4;for(H===0&&(se=138,xe=3),D[2*(q+1)+1]=65535,V=0;V<=q;V++)E=H,H=D[2*(V+1)+1],++G<se&&E===H||(G<xe?w.bl_tree[2*E]+=G:E!==0?(E!==U&&w.bl_tree[2*E]++,w.bl_tree[2*R]++):G<=10?w.bl_tree[2*T]++:w.bl_tree[2*O]++,U=E,xe=(G=0)===H?(se=138,3):E===H?(se=6,3):(se=7,4))}function j(w,D,q){var V,E,U=-1,H=D[1],G=0,se=7,xe=4;for(H===0&&(se=138,xe=3),V=0;V<=q;V++)if(E=H,H=D[2*(V+1)+1],!(++G<se&&E===H)){if(G<xe)for(;ee(w,E,w.bl_tree),--G!=0;);else E!==0?(E!==U&&(ee(w,E,w.bl_tree),G--),ee(w,R,w.bl_tree),Z(w,G-3,2)):G<=10?(ee(w,T,w.bl_tree),Z(w,G-3,3)):(ee(w,O,w.bl_tree),Z(w,G-11,7));U=E,xe=(G=0)===H?(se=138,3):E===H?(se=6,3):(se=7,4)}}f(I);var Y=!1;function v(w,D,q,V){Z(w,(d<<1)+(V?1:0),3),function(E,U,H,G){ie(E),G&&(te(E,H),te(E,~H)),i.arraySet(E.pending_buf,E.window,U,H,E.pending),E.pending+=H}(w,D,q,!0)}a._tr_init=function(w){Y||(function(){var D,q,V,E,U,H=new Array(h+1);for(E=V=0;E<m-1;E++)for(N[E]=V,D=0;D<1<<M[E];D++)u[V++]=E;for(u[V-1]=E,E=U=0;E<16;E++)for(I[E]=U,D=0;D<1<<z[E];D++)C[U++]=E;for(U>>=7;E<c;E++)for(I[E]=U<<7,D=0;D<1<<z[E]-7;D++)C[256+U++]=E;for(q=0;q<=h;q++)H[q]=0;for(D=0;D<=143;)W[2*D+1]=8,D++,H[8]++;for(;D<=255;)W[2*D+1]=9,D++,H[9]++;for(;D<=279;)W[2*D+1]=7,D++,H[7]++;for(;D<=287;)W[2*D+1]=8,D++,H[8]++;for(Se(W,p+1,H),D=0;D<c;D++)b[2*D+1]=5,b[2*D]=pe(D,5);ne=new K(W,M,k+1,p,h),A=new K(b,z,0,c,h),Q=new K(new Array(0),F,0,_,y)}(),Y=!0),w.l_desc=new P(w.dyn_ltree,ne),w.d_desc=new P(w.dyn_dtree,A),w.bl_desc=new P(w.bl_tree,Q),w.bi_buf=0,w.bi_valid=0,fe(w)},a._tr_stored_block=v,a._tr_flush_block=function(w,D,q,V){var E,U,H=0;0<w.level?(w.strm.data_type===2&&(w.strm.data_type=function(G){var se,xe=4093624447;for(se=0;se<=31;se++,xe>>>=1)if(1&xe&&G.dyn_ltree[2*se]!==0)return s;if(G.dyn_ltree[18]!==0||G.dyn_ltree[20]!==0||G.dyn_ltree[26]!==0)return o;for(se=32;se<k;se++)if(G.dyn_ltree[2*se]!==0)return o;return s}(w)),Oe(w,w.l_desc),Oe(w,w.d_desc),H=function(G){var se;for(l(G,G.dyn_ltree,G.l_desc.max_code),l(G,G.dyn_dtree,G.d_desc.max_code),Oe(G,G.bl_desc),se=_-1;3<=se&&G.bl_tree[2*B[se]+1]===0;se--);return G.opt_len+=3*(se+1)+5+5+4,se}(w),E=w.opt_len+3+7>>>3,(U=w.static_len+3+7>>>3)<=E&&(E=U)):E=U=q+5,q+4<=E&&D!==-1?v(w,D,q,V):w.strategy===4||U===E?(Z(w,2+(V?1:0),3),ke(w,W,b)):(Z(w,4+(V?1:0),3),function(G,se,xe,me){var je;for(Z(G,se-257,5),Z(G,xe-1,5),Z(G,me-4,4),je=0;je<me;je++)Z(G,G.bl_tree[2*B[je]+1],3);j(G,G.dyn_ltree,se-1),j(G,G.dyn_dtree,xe-1)}(w,w.l_desc.max_code+1,w.d_desc.max_code+1,H+1),ke(w,w.dyn_ltree,w.dyn_dtree)),fe(w),V&&ie(w)},a._tr_tally=function(w,D,q){return w.pending_buf[w.d_buf+2*w.last_lit]=D>>>8&255,w.pending_buf[w.d_buf+2*w.last_lit+1]=255&D,w.pending_buf[w.l_buf+w.last_lit]=255&q,w.last_lit++,D===0?w.dyn_ltree[2*q]++:(w.matches++,D--,w.dyn_ltree[2*(u[q]+k+1)]++,w.dyn_dtree[2*L(D)]++),w.last_lit===w.lit_bufsize-1},a._tr_align=function(w){Z(w,2,3),ee(w,x,W),function(D){D.bi_valid===16?(te(D,D.bi_buf),D.bi_buf=0,D.bi_valid=0):8<=D.bi_valid&&(D.pending_buf[D.pending++]=255&D.bi_buf,D.bi_buf>>=8,D.bi_valid-=8)}(w)}},{"../utils/common":41}],53:[function(n,r,a){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,a){r.exports=typeof setImmediate=="function"?setImmediate:function(){var i=[].slice.apply(arguments);i.splice(1,0,0),setTimeout.apply(null,i)}},{}]},{},[10])(10)})})(Ms);var vh=Ms.exports;const ph=(e,t)=>{const n=new vh,r={};r.CSS="",r.sections=[],r.images=[],r.metadata=e,t&&(r.generateContentsCallback=t),r.showContents=!0,r.filesForTOC=[],r.coverImage={},r.metadata.id.toString().trim().length===0&&(r.metadata.id=Bi()),r.metadata.title.trim().length===0&&(r.metadata.title="example"),r.metadata.author.trim().length===0&&(r.metadata.author="\u672A\u77E5"),r.metadata.maker.trim().length===0&&(r.metadata.maker="elepub"),r.metadata.cover.hasOwnProperty("data")||(r.metadata.cover={name:"cover.jpg",data:r.metadata.images[0].data,originName:r.metadata.images[0].name});const a=["id","title","author","cover"];if(e==null)throw new Error("Missing metadata");return a.forEach(i=>{const s=e[i];if(s==null||typeof s=="undefined"||s.toString().trim()==="")throw new Error(`Missing metadata: ${i}`);i==="cover"&&(r.coverImage=s)}),e.showContents!==null&&typeof e.showContents!="undefined"&&(r.showContents=e.showContents),r.addSection=(i,s,o,f,d)=>{let m=d;(m==null||typeof m=="undefined"||m.toString().trim()==="")&&(m=`s${r.sections.length+1}`),m=`${m}.xhtml`,r.sections.push({title:i,content:s,excludeFromContents:o||!1,isFrontMatter:f||!1,filename:m})},r.addCSS=i=>{r.CSS=i},r.getSectionCount=()=>r.sections.length,r.getFilesForEPUB=async()=>{const i=[];i.push({name:"mimetype",folder:"",compress:!1,content:dn.getMimetype()}),i.push({name:"container.xml",folder:"META-INF",compress:!0,content:dn.getContainer(r)}),i.push({name:"duokan-extension.xml",folder:"META-INF",compress:!0,content:dn.getDuokanExtension(r)}),i.push({name:"ebook.opf",folder:"OEBPF",compress:!0,content:dn.getOPF(r)}),i.push({name:"navigation.ncx",folder:"OEBPF",compress:!0,content:dn.getNCX(r)}),i.push({name:"cover.xhtml",folder:"OEBPF",compress:!0,content:$t.getCover(r)}),i.push({name:"ebook.css",folder:"OEBPF/css",compress:!0,content:$t.getCSS(r)});for(let o=1;o<=r.sections.length;o+=1){const f=r.sections[o-1].filename;i.push({name:`${f}`,folder:"OEBPF/content",compress:!0,content:$t.getSection(r,o)})}r.showContents&&i.push({name:"toc.xhtml",folder:"OEBPF/content",compress:!0,content:$t.getTOC(r)});const s=xn(r.coverImage.name);return i.push({name:s,folder:"OEBPF/images",compress:!0,content:r.coverImage.data}),r.metadata.images&&r.metadata.images.forEach(o=>{const f=xn(o.name);i.push({name:f,folder:"OEBPF/images",compress:!0,content:o.data})}),i},r.writeEPUB=async(i,s)=>{const o=await r.getFilesForEPUB();await new Promise(f=>{o.forEach(d=>{const m=d.folder.length>0?`${d.folder}/${d.name}`:d.name;n.file(m,d.content,{compression:d.compress?"DEFLATE":"STORE"})}),n.generateAsync({type:"blob",mimeType:"application/epub+zip"},d=>{s&&(s.value=Math.ceil(d.percent))}).then(function(d){Ds.exports.saveAs(d,`${i}.epub`),f(i)})})},r};const gh=fi({components:{PreviewContent:yo,MetaSet:fu},setup(){const e=il(),t=oe(null);let n=uo([]);const r=oe(!1);let{confoundingImage:a,confoundingXhtml:i,pageCount:s,firstChapter:o,chapterMode:f,firstPage:d}=hi(Oi());const m=oe(0),k=oe(!1),p=oe(!1),c=()=>{r.value=!r.value},_=pi(),S=sl(),h=()=>{const b=URL.createObjectURL(new Blob),C=b.toString();return URL.revokeObjectURL(b),"urn:uuid:"+C.substring(C.lastIndexOf("/")+1)};_.id=h();const g=()=>{t.value!==null&&t.value.click()},y=()=>{n.length>0&&n.forEach(b=>{URL.revokeObjectURL(b.url)}),n.length=0,_.$patch(b=>{b.images=[]})},x=b=>{b.forEach(C=>{n.push({name:C.name,url:URL.createObjectURL(C)}),_.$patch(u=>{u.images.push({name:C.name,data:C,originName:C.name})})})},R=b=>{_.$patch(C=>{C.images.splice(b,1)}),n.splice(b,1)};Mt(()=>{t.value!==null&&(t.value.onchange=b=>{let C=Array.from(b.target.files);x(C)})});const T=(b,C)=>{S.$patch(u=>{u.barText=b,u.text=C,u.bar=!0})},O=()=>{function b(C){let u="";for(let N=1;N<=C;N++)u+=Math.floor(Math.random()*16).toString(16);return u}return b(12)},M=b=>new Promise(C=>{let u=o.value,N=f.value==="default"||f.value==="mark"&&d.value.trim().length===0,ne=f.value==="mark"&&d.value.trim().length>0,A=f.value==="count"&&s.value!==1,Q=new RegExp(d.value);_.images.forEach((I,K)=>{let P=`P${K+1}`,L=I.originName;if(i.value&&(P=O()),a.value&&(L=I.name),ne)Q.test(I.originName),Q.test(I.originName)?(b.addSection(`\u7B2C${u}\u8BDD`,`<img alt='${L}' src='../images/${L}'/>`,!1,!1,P),u++):b.addSection(`P${K+1}`,`<img alt='${L}' src='../images/${L}'/>`,!0,!1,P);else if(A)if(K%s.value===0){let te=`P${K+1}-P${K+s.value}`;K+s.value>=_.images.length&&(te=`P${K+1}-P${_.images.length}`),b.addSection(te,`<img alt='${L}' src='../images/${L}'/>`,!1,!1,P)}else b.addSection(`P${K+1}`,`<img alt='${L}' src='../images/${L}'/>`,!0,!1,P);else N&&b.addSection(`P${K+1}`,`<img alt='${L}' src='../images/${L}'/>`,!1,!1,P)}),C(!0)}),z=()=>{p.value=_.cover.hasOwnProperty("data")||_.images.length>0,p.value?_.cover.hasOwnProperty("data")?T("\u786E\u8BA4","\u751F\u6210epub\uFF0C\u662F\u5426\u7EE7\u7EED"):T("\u63D0\u793A","\u6CA1\u6709\u6DFB\u52A0\u5C01\u9762\uFF0C\u9ED8\u8BA4\u4EE5\u7B2C\u4E00\u5F20\u56FE\u7247\u4F5C\u4E3A\u5C01\u9762\uFF0C\u662F\u5426\u7EE7\u7EED"):T("\u63D0\u793A","\u8BF7\u81F3\u5C11\u5BFC\u5165\u4E00\u5F20\u56FE\u7247\u6216\u6DFB\u52A0\u5C01\u9762"),m.value=0},F=async()=>{p.value=!1,a.value?_.images.forEach(C=>{C.name=O()+C.name.substring(C.name.lastIndexOf("."))}):_.images.forEach(C=>{C.name!==C.originName&&(C.name=C.originName)});const b=ph(_);b.addCSS(mu),b.addSection("\u8BF4\u660E",hu,!1,!1,"msg"),await M(b),k.value=!0,await b.writeEPUB(_.title+_.sequence,m),k.value=!1,e.notify({type:"positive",message:"\u5DF2\u5B8C\u6210\uFF0C\u8BF7\u67E5\u770B\u4E0B\u8F7D\u6587\u4EF6",position:"top"})};return{input:t,images:n,inputImage:g,removeImage:R,clearImages:y,progress:m,dialog:S,rightDrawerOpen:r,handleCancer:()=>{p.value=!1},toggleRightDrawer:c,createEPuB:z,outputEpub:F,handleOk:()=>{p.value&&F()},isLoading:k}}}),yh={key:0,class:"loading z-top"},_h={type:"file",ref:"input",style:{display:"none"},multiple:"",accept:"image/*"},bh=Kt(" \u6DFB\u52A0\u56FE\u7247 "),wh=Kt(" \u6E05\u7A7A\u56FE\u7247 "),kh=Kt(" \u4FDD\u5B58epub "),xh=Ue("span",{class:"gt-sm"},[Ue("a",{href:"https://github.com/taiyuuki/elepub",class:"elepub-link",target:"_blank"},"\u83B7\u53D6\u684C\u9762\u7248(Windows)")],-1),Sh={class:"text-h6"};function Eh(e,t,n,r,a,i){const s=Ca("MetaSet"),o=Ca("PreviewContent");return hn(),mn(vi,null,[e.isLoading?(hn(),mn("div",yh,[ue(To,{"show-value":"","font-size":"24px",value:e.progress,size:"120px",thickness:.22,color:"primary","track-color":"grey-3",class:"q-ma-md",style:{margin:"auto",color:"#fff"}},{default:Ee(()=>[Kt(Mn(e.progress)+"% ",1)]),_:1},8,["value","thickness"])])):co("",!0),Ue("input",_h,null,512),ue(_o,{view:"hHh lpR fFf"},{default:Ee(()=>[ue(bo,{class:"bg-primary text-white"},{default:Ee(()=>[ue(wo,null,{default:Ee(()=>[ue(ko,{class:"row q-gutter-md q-gutter-sm-sm items-center"},{default:Ee(()=>[ue(St,{dense:"",color:"white","text-color":"primary",icon:"bi-plus-lg",label:"\u6DFB\u52A0",onClick:e.inputImage},{default:Ee(()=>[ue(Un,{class:"bg-indigo",offset:[10,10]},{default:Ee(()=>[bh]),_:1})]),_:1},8,["onClick"]),ue(St,{dense:"",color:"red","text-color":"white",icon:"bi-trash",label:"\u6E05\u7A7A",onClick:e.clearImages},{default:Ee(()=>[ue(Un,{class:"bg-indigo",offset:[10,10]},{default:Ee(()=>[wh]),_:1})]),_:1},8,["onClick"]),ue(St,{dense:"",color:"secondary","text-color":"white",icon:"bi-save",label:"\u4FDD\u5B58",onClick:e.createEPuB},{default:Ee(()=>[ue(Un,{class:"bg-indigo",offset:[10,10]},{default:Ee(()=>[kh]),_:1})]),_:1},8,["onClick"]),xh]),_:1}),ue(St,{dense:"",flat:"",round:"",icon:"menu",onClick:e.toggleRightDrawer},null,8,["onClick"])]),_:1})]),_:1}),ue(Zo,{"show-if-above":"",modelValue:e.rightDrawerOpen,"onUpdate:modelValue":t[0]||(t[0]=f=>e.rightDrawerOpen=f),side:"right",bordered:"",overlay:"",width:350,persistent:""},{default:Ee(()=>[ue(s)]),_:1},8,["modelValue"]),ue(xo,null,{default:Ee(()=>[ue(o,{images:e.images,onRemoveImage:e.removeImage},null,8,["images","onRemoveImage"])]),_:1}),ue(al,{modelValue:e.dialog.bar,"onUpdate:modelValue":t[1]||(t[1]=f=>e.dialog.bar=f),persistent:"","transition-show":"flip-down"},{default:Ee(()=>[ue(So,{class:"bg-primary text-white"},{default:Ee(()=>[ue(Eo,null,{default:Ee(()=>[Ue("div",null,Mn(e.dialog.barText),1),ue(Qo),Tt(ue(St,{dense:"",flat:"",icon:"close",onClick:e.handleCancer},null,8,["onClick"]),[[wr]])]),_:1}),ue(Ua,null,{default:Ee(()=>[Ue("div",Sh,Mn(e.dialog.title),1)]),_:1}),ue(Ua,{class:"q-pt-none"},{default:Ee(()=>[Kt(Mn(e.dialog.text),1)]),_:1}),ue(Ko,{align:"right"},{default:Ee(()=>[Tt(ue(St,{flat:"",label:"\u5426",color:"white",onClick:e.handleCancer},null,8,["onClick"]),[[wr]]),Tt(ue(St,{flat:"",label:"\u662F",color:"white",onClick:e.handleOk},null,8,["onClick"]),[[wr]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}var Dh=mi(gh,[["render",Eh]]);export{Dh as default};
